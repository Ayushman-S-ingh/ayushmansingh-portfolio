var yL=Object.defineProperty;var fE=n=>{throw TypeError(n)};var vL=(n,e,t)=>e in n?yL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var z=(n,e,t)=>vL(n,typeof e!="symbol"?e+"":e,t),$w=(n,e,t)=>e.has(n)||fE("Cannot "+t);var a=(n,e,t)=>($w(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?fE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),g=(n,e,t,s)=>($w(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),E=(n,e,t)=>($w(n,e,"access private method"),t);var bt=(n,e,t,s)=>({set _(r){g(n,e,r,t)},get _(){return a(n,e,s)}});function wL(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function S1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bk={exports:{}},tw={},xk={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=Symbol.for("react.element"),bL=Symbol.for("react.portal"),xL=Symbol.for("react.fragment"),SL=Symbol.for("react.strict_mode"),AL=Symbol.for("react.profiler"),EL=Symbol.for("react.provider"),_L=Symbol.for("react.context"),CL=Symbol.for("react.forward_ref"),kL=Symbol.for("react.suspense"),TL=Symbol.for("react.memo"),PL=Symbol.for("react.lazy"),pE=Symbol.iterator;function RL(n){return n===null||typeof n!="object"?null:(n=pE&&n[pE]||n["@@iterator"],typeof n=="function"?n:null)}var Sk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ak=Object.assign,Ek={};function Ef(n,e,t){this.props=n,this.context=e,this.refs=Ek,this.updater=t||Sk}Ef.prototype.isReactComponent={};Ef.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ef.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _k(){}_k.prototype=Ef.prototype;function A1(n,e,t){this.props=n,this.context=e,this.refs=Ek,this.updater=t||Sk}var E1=A1.prototype=new _k;E1.constructor=A1;Ak(E1,Ef.prototype);E1.isPureReactComponent=!0;var mE=Array.isArray,Ck=Object.prototype.hasOwnProperty,_1={current:null},kk={key:!0,ref:!0,__self:!0,__source:!0};function Tk(n,e,t){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ck.call(e,s)&&!kk.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(n&&n.defaultProps)for(s in l=n.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Xg,type:n,key:i,ref:o,props:r,_owner:_1.current}}function NL(n,e){return{$$typeof:Xg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function C1(n){return typeof n=="object"&&n!==null&&n.$$typeof===Xg}function ML(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var gE=/\/+/g;function Uw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?ML(""+n.key):e.toString(36)}function Xy(n,e,t,s,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Xg:case bL:o=!0}}if(o)return o=n,r=r(o),n=s===""?"."+Uw(o,0):s,mE(r)?(t="",n!=null&&(t=n.replace(gE,"$&/")+"/"),Xy(r,e,t,"",function(u){return u})):r!=null&&(C1(r)&&(r=NL(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(gE,"$&/")+"/")+n)),e.push(r)),1;if(o=0,s=s===""?".":s+":",mE(n))for(var l=0;l<n.length;l++){i=n[l];var c=s+Uw(i,l);o+=Xy(i,e,t,c,r)}else if(c=RL(n),typeof c=="function")for(n=c.call(n),l=0;!(i=n.next()).done;)i=i.value,c=s+Uw(i,l++),o+=Xy(i,e,t,c,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gy(n,e,t){if(n==null)return n;var s=[],r=0;return Xy(n,s,"","",function(i){return e.call(t,i,r++)}),s}function LL(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Kn={current:null},Yy={transition:null},DL={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Yy,ReactCurrentOwner:_1};function Pk(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:gy,forEach:function(n,e,t){gy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return gy(n,function(){e++}),e},toArray:function(n){return gy(n,function(e){return e})||[]},only:function(n){if(!C1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ee.Component=Ef;Ee.Fragment=xL;Ee.Profiler=AL;Ee.PureComponent=A1;Ee.StrictMode=SL;Ee.Suspense=kL;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DL;Ee.act=Pk;Ee.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=Ak({},n.props),r=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_1.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)Ck.call(e,c)&&!kk.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=t;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Xg,type:n.type,key:r,ref:i,props:s,_owner:o}};Ee.createContext=function(n){return n={$$typeof:_L,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:EL,_context:n},n.Consumer=n};Ee.createElement=Tk;Ee.createFactory=function(n){var e=Tk.bind(null,n);return e.type=n,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(n){return{$$typeof:CL,render:n}};Ee.isValidElement=C1;Ee.lazy=function(n){return{$$typeof:PL,_payload:{_status:-1,_result:n},_init:LL}};Ee.memo=function(n,e){return{$$typeof:TL,type:n,compare:e===void 0?null:e}};Ee.startTransition=function(n){var e=Yy.transition;Yy.transition={};try{n()}finally{Yy.transition=e}};Ee.unstable_act=Pk;Ee.useCallback=function(n,e){return Kn.current.useCallback(n,e)};Ee.useContext=function(n){return Kn.current.useContext(n)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(n){return Kn.current.useDeferredValue(n)};Ee.useEffect=function(n,e){return Kn.current.useEffect(n,e)};Ee.useId=function(){return Kn.current.useId()};Ee.useImperativeHandle=function(n,e,t){return Kn.current.useImperativeHandle(n,e,t)};Ee.useInsertionEffect=function(n,e){return Kn.current.useInsertionEffect(n,e)};Ee.useLayoutEffect=function(n,e){return Kn.current.useLayoutEffect(n,e)};Ee.useMemo=function(n,e){return Kn.current.useMemo(n,e)};Ee.useReducer=function(n,e,t){return Kn.current.useReducer(n,e,t)};Ee.useRef=function(n){return Kn.current.useRef(n)};Ee.useState=function(n){return Kn.current.useState(n)};Ee.useSyncExternalStore=function(n,e,t){return Kn.current.useSyncExternalStore(n,e,t)};Ee.useTransition=function(){return Kn.current.useTransition()};Ee.version="18.3.1";xk.exports=Ee;var k=xk.exports;const q=S1(k),Rk=wL({__proto__:null,default:q},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL=k,OL=Symbol.for("react.element"),FL=Symbol.for("react.fragment"),jL=Object.prototype.hasOwnProperty,BL=IL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zL={key:!0,ref:!0,__self:!0,__source:!0};function Nk(n,e,t){var s,r={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)jL.call(e,s)&&!zL.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:OL,type:n,key:i,ref:o,props:r,_owner:BL.current}}tw.Fragment=FL;tw.jsx=Nk;tw.jsxs=Nk;bk.exports=tw;var A=bk.exports,Mk={exports:{}},Gs={},Lk={exports:{}},Dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,O){var V=L.length;L.push(O);e:for(;0<V;){var oe=V-1>>>1,W=L[oe];if(0<r(W,O))L[oe]=O,L[V]=W,V=oe;else break e}}function t(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var O=L[0],V=L.pop();if(V!==O){L[0]=V;e:for(var oe=0,W=L.length,Y=W>>>1;oe<Y;){var ae=2*(oe+1)-1,xe=L[ae],Te=ae+1,ie=L[Te];if(0>r(xe,V))Te<W&&0>r(ie,xe)?(L[oe]=ie,L[Te]=V,oe=Te):(L[oe]=xe,L[ae]=V,oe=ae);else if(Te<W&&0>r(ie,V))L[oe]=ie,L[Te]=V,oe=Te;else break e}}return O}function r(L,O){var V=L.sortIndex-O.sortIndex;return V!==0?V:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var O=t(u);O!==null;){if(O.callback===null)s(u);else if(O.startTime<=L)s(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=t(u)}}function _(L){if(m=!1,x(L),!v)if(t(c)!==null)v=!0,j(C);else{var O=t(u);O!==null&&B(_,O.startTime-L)}}function C(L,O){v=!1,m&&(m=!1,y(R),R=-1),p=!0;var V=f;try{for(x(O),h=t(c);h!==null&&(!(h.expirationTime>O)||L&&!D());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var W=oe(h.expirationTime<=O);O=n.unstable_now(),typeof W=="function"?h.callback=W:h===t(c)&&s(c),x(O)}else s(c);h=t(c)}if(h!==null)var Y=!0;else{var ae=t(u);ae!==null&&B(_,ae.startTime-O),Y=!1}return Y}finally{h=null,f=V,p=!1}}var T=!1,P=null,R=-1,M=5,N=-1;function D(){return!(n.unstable_now()-N<M)}function F(){if(P!==null){var L=n.unstable_now();N=L;var O=!0;try{O=P(!0,L)}finally{O?$():(T=!1,P=null)}}else T=!1}var $;if(typeof w=="function")$=function(){w(F)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=F,$=function(){G.postMessage(null)}}else $=function(){b(F,0)};function j(L){P=L,T||(T=!0,$())}function B(L,O){R=b(function(){L(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,j(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var V=f;f=O;try{return L()}finally{f=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=f;f=L;try{return O()}finally{f=V}},n.unstable_scheduleCallback=function(L,O,V){var oe=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?oe+V:oe):V=oe,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,L={id:d++,callback:O,priorityLevel:L,startTime:V,expirationTime:W,sortIndex:-1},V>oe?(L.sortIndex=V,e(u,L),t(c)===null&&L===t(u)&&(m?(y(R),R=-1):m=!0,B(_,V-oe))):(L.sortIndex=W,e(c,L),v||p||(v=!0,j(C))),L},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(L){var O=f;return function(){var V=f;f=O;try{return L.apply(this,arguments)}finally{f=V}}}})(Dk);Lk.exports=Dk;var $L=Lk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL=k,Hs=$L;function U(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ik=new Set,Np={};function Lu(n,e){af(n,e),af(n+"Capture",e)}function af(n,e){for(Np[n]=e,n=0;n<e.length;n++)Ik.add(e[n])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mb=Object.prototype.hasOwnProperty,HL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yE={},vE={};function VL(n){return Mb.call(vE,n)?!0:Mb.call(yE,n)?!1:HL.test(n)?vE[n]=!0:(yE[n]=!0,!1)}function WL(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function GL(n,e,t,s){if(e===null||typeof e>"u"||WL(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(n,e,t,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){vn[n]=new Qn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];vn[e]=new Qn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){vn[n]=new Qn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){vn[n]=new Qn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){vn[n]=new Qn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){vn[n]=new Qn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){vn[n]=new Qn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){vn[n]=new Qn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){vn[n]=new Qn(n,5,!1,n.toLowerCase(),null,!1,!1)});var k1=/[\-:]([a-z])/g;function T1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(k1,T1);vn[e]=new Qn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(k1,T1);vn[e]=new Qn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(k1,T1);vn[e]=new Qn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){vn[n]=new Qn(n,1,!1,n.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){vn[n]=new Qn(n,1,!1,n.toLowerCase(),null,!0,!0)});function P1(n,e,t,s){var r=vn.hasOwnProperty(e)?vn[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GL(e,t,r,s)&&(t=null),s||r===null?VL(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var ta=UL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yy=Symbol.for("react.element"),Zu=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),Lb=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),Fk=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),Db=Symbol.for("react.suspense"),Ib=Symbol.for("react.suspense_list"),M1=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),jk=Symbol.for("react.offscreen"),wE=Symbol.iterator;function Lf(n){return n===null||typeof n!="object"?null:(n=wE&&n[wE]||n["@@iterator"],typeof n=="function"?n:null)}var yt=Object.assign,Hw;function qf(n){if(Hw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Hw=e&&e[1]||""}return`
`+Hw+n}var Vw=!1;function Ww(n,e){if(!n||Vw)return"";Vw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?qf(n):""}function qL(n){switch(n.tag){case 5:return qf(n.type);case 16:return qf("Lazy");case 13:return qf("Suspense");case 19:return qf("SuspenseList");case 0:case 2:case 15:return n=Ww(n.type,!1),n;case 11:return n=Ww(n.type.render,!1),n;case 1:return n=Ww(n.type,!0),n;default:return""}}function Ob(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ju:return"Fragment";case Zu:return"Portal";case Lb:return"Profiler";case R1:return"StrictMode";case Db:return"Suspense";case Ib:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Fk:return(n.displayName||"Context")+".Consumer";case Ok:return(n._context.displayName||"Context")+".Provider";case N1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M1:return e=n.displayName||null,e!==null?e:Ob(n.type)||"Memo";case ha:e=n._payload,n=n._init;try{return Ob(n(e))}catch{}}return null}function XL(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ob(e);case 8:return e===R1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YL(n){var e=Bk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function vy(n){n._valueTracker||(n._valueTracker=YL(n))}function zk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=Bk(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function $v(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Fb(n,e){var t=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function bE(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Nl(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $k(n,e){e=e.checked,e!=null&&P1(n,"checked",e,!1)}function jb(n,e){$k(n,e);var t=Nl(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Bb(n,e.type,t):e.hasOwnProperty("defaultValue")&&Bb(n,e.type,Nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function xE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Bb(n,e,t){(e!=="number"||$v(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Xf=Array.isArray;function md(n,e,t,s){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Nl(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,s&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function zb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function SE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(U(92));if(Xf(t)){if(1<t.length)throw Error(U(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Nl(t)}}function Uk(n,e){var t=Nl(e.value),s=Nl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function AE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Hk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $b(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Hk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wy,Vk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(wy=wy||document.createElement("div"),wy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Mp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KL=["Webkit","ms","Moz","O"];Object.keys(bp).forEach(function(n){KL.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bp[e]=bp[n]})});function Wk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bp.hasOwnProperty(n)&&bp[n]?(""+e).trim():e+"px"}function Gk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=Wk(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,r):n[t]=r}}var QL=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ub(n,e){if(e){if(QL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Hb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vb=null;function L1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wb=null,gd=null,yd=null;function EE(n){if(n=Qg(n)){if(typeof Wb!="function")throw Error(U(280));var e=n.stateNode;e&&(e=ow(e),Wb(n.stateNode,n.type,e))}}function qk(n){gd?yd?yd.push(n):yd=[n]:gd=n}function Xk(){if(gd){var n=gd,e=yd;if(yd=gd=null,EE(n),e)for(n=0;n<e.length;n++)EE(e[n])}}function Yk(n,e){return n(e)}function Kk(){}var Gw=!1;function Qk(n,e,t){if(Gw)return n(e,t);Gw=!0;try{return Yk(n,e,t)}finally{Gw=!1,(gd!==null||yd!==null)&&(Kk(),Xk())}}function Lp(n,e){var t=n.stateNode;if(t===null)return null;var s=ow(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(U(231,e,typeof t));return t}var Gb=!1;if(Vo)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{Gb=!1}function ZL(n,e,t,s,r,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var xp=!1,Uv=null,Hv=!1,qb=null,JL={onError:function(n){xp=!0,Uv=n}};function eD(n,e,t,s,r,i,o,l,c){xp=!1,Uv=null,ZL.apply(JL,arguments)}function tD(n,e,t,s,r,i,o,l,c){if(eD.apply(this,arguments),xp){if(xp){var u=Uv;xp=!1,Uv=null}else throw Error(U(198));Hv||(Hv=!0,qb=u)}}function Du(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Zk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _E(n){if(Du(n)!==n)throw Error(U(188))}function nD(n){var e=n.alternate;if(!e){if(e=Du(n),e===null)throw Error(U(188));return e!==n?null:n}for(var t=n,s=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return _E(r),n;if(i===s)return _E(r),e;i=i.sibling}throw Error(U(188))}if(t.return!==s.return)t=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===t){o=!0,t=r,s=i;break}if(l===s){o=!0,s=r,t=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===t){o=!0,t=i,s=r;break}if(l===s){o=!0,s=i,t=r;break}l=l.sibling}if(!o)throw Error(U(189))}}if(t.alternate!==s)throw Error(U(190))}if(t.tag!==3)throw Error(U(188));return t.stateNode.current===t?n:e}function Jk(n){return n=nD(n),n!==null?eT(n):null}function eT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=eT(n);if(e!==null)return e;n=n.sibling}return null}var tT=Hs.unstable_scheduleCallback,CE=Hs.unstable_cancelCallback,sD=Hs.unstable_shouldYield,rD=Hs.unstable_requestPaint,Nt=Hs.unstable_now,iD=Hs.unstable_getCurrentPriorityLevel,D1=Hs.unstable_ImmediatePriority,nT=Hs.unstable_UserBlockingPriority,Vv=Hs.unstable_NormalPriority,oD=Hs.unstable_LowPriority,sT=Hs.unstable_IdlePriority,nw=null,Bi=null;function aD(n){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(nw,n,void 0,(n.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:uD,lD=Math.log,cD=Math.LN2;function uD(n){return n>>>=0,n===0?32:31-(lD(n)/cD|0)|0}var by=64,xy=4194304;function Yf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wv(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,r=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~r;l!==0?s=Yf(l):(i&=o,i!==0&&(s=Yf(i)))}else o=t&~r,o!==0?s=Yf(o):i!==0&&(s=Yf(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-Wr(e),r=1<<t,s|=n[t],e&=~r;return s}function dD(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hD(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Wr(i),l=1<<o,c=r[o];c===-1?(!(l&t)||l&s)&&(r[o]=dD(l,e)):c<=e&&(n.expiredLanes|=l),i&=~l}}function Xb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function rT(){var n=by;return by<<=1,!(by&4194240)&&(by=64),n}function qw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Yg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Wr(e),n[e]=t}function fD(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Wr(t),i=1<<r;e[r]=0,s[r]=-1,n[r]=-1,t&=~i}}function I1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-Wr(t),r=1<<s;r&e|n[s]&e&&(n[s]|=e),t&=~r}}var Be=0;function iT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var oT,O1,aT,lT,cT,Yb=!1,Sy=[],xl=null,Sl=null,Al=null,Dp=new Map,Ip=new Map,ma=[],pD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kE(n,e){switch(n){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":Dp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(e.pointerId)}}function If(n,e,t,s,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Qg(e),e!==null&&O1(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function mD(n,e,t,s,r){switch(e){case"focusin":return xl=If(xl,n,e,t,s,r),!0;case"dragenter":return Sl=If(Sl,n,e,t,s,r),!0;case"mouseover":return Al=If(Al,n,e,t,s,r),!0;case"pointerover":var i=r.pointerId;return Dp.set(i,If(Dp.get(i)||null,n,e,t,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ip.set(i,If(Ip.get(i)||null,n,e,t,s,r)),!0}return!1}function uT(n){var e=tc(n.target);if(e!==null){var t=Du(e);if(t!==null){if(e=t.tag,e===13){if(e=Zk(t),e!==null){n.blockedOn=e,cT(n.priority,function(){aT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ky(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Kb(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);Vb=s,t.target.dispatchEvent(s),Vb=null}else return e=Qg(t),e!==null&&O1(e),n.blockedOn=t,!1;e.shift()}return!0}function TE(n,e,t){Ky(n)&&t.delete(e)}function gD(){Yb=!1,xl!==null&&Ky(xl)&&(xl=null),Sl!==null&&Ky(Sl)&&(Sl=null),Al!==null&&Ky(Al)&&(Al=null),Dp.forEach(TE),Ip.forEach(TE)}function Of(n,e){n.blockedOn===e&&(n.blockedOn=null,Yb||(Yb=!0,Hs.unstable_scheduleCallback(Hs.unstable_NormalPriority,gD)))}function Op(n){function e(r){return Of(r,n)}if(0<Sy.length){Of(Sy[0],n);for(var t=1;t<Sy.length;t++){var s=Sy[t];s.blockedOn===n&&(s.blockedOn=null)}}for(xl!==null&&Of(xl,n),Sl!==null&&Of(Sl,n),Al!==null&&Of(Al,n),Dp.forEach(e),Ip.forEach(e),t=0;t<ma.length;t++)s=ma[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<ma.length&&(t=ma[0],t.blockedOn===null);)uT(t),t.blockedOn===null&&ma.shift()}var vd=ta.ReactCurrentBatchConfig,Gv=!0;function yD(n,e,t,s){var r=Be,i=vd.transition;vd.transition=null;try{Be=1,F1(n,e,t,s)}finally{Be=r,vd.transition=i}}function vD(n,e,t,s){var r=Be,i=vd.transition;vd.transition=null;try{Be=4,F1(n,e,t,s)}finally{Be=r,vd.transition=i}}function F1(n,e,t,s){if(Gv){var r=Kb(n,e,t,s);if(r===null)sb(n,e,s,qv,t),kE(n,s);else if(mD(r,n,e,t,s))s.stopPropagation();else if(kE(n,s),e&4&&-1<pD.indexOf(n)){for(;r!==null;){var i=Qg(r);if(i!==null&&oT(i),i=Kb(n,e,t,s),i===null&&sb(n,e,s,qv,t),i===r)break;r=i}r!==null&&s.stopPropagation()}else sb(n,e,s,null,t)}}var qv=null;function Kb(n,e,t,s){if(qv=null,n=L1(s),n=tc(n),n!==null)if(e=Du(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Zk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return qv=n,null}function dT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iD()){case D1:return 1;case nT:return 4;case Vv:case oD:return 16;case sT:return 536870912;default:return 16}default:return 16}}var yl=null,j1=null,Qy=null;function hT(){if(Qy)return Qy;var n,e=j1,t=e.length,s,r="value"in yl?yl.value:yl.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(s=1;s<=o&&e[t-s]===r[i-s];s++);return Qy=r.slice(n,1<s?1-s:void 0)}function Zy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ay(){return!0}function PE(){return!1}function qs(n){function e(t,s,r,i,o){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ay:PE,this.isPropagationStopped=PE,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ay)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ay)},persist:function(){},isPersistent:Ay}),e}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=qs(_f),Kg=yt({},_f,{view:0,detail:0}),wD=qs(Kg),Xw,Yw,Ff,sw=yt({},Kg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ff&&(Ff&&n.type==="mousemove"?(Xw=n.screenX-Ff.screenX,Yw=n.screenY-Ff.screenY):Yw=Xw=0,Ff=n),Xw)},movementY:function(n){return"movementY"in n?n.movementY:Yw}}),RE=qs(sw),bD=yt({},sw,{dataTransfer:0}),xD=qs(bD),SD=yt({},Kg,{relatedTarget:0}),Kw=qs(SD),AD=yt({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),ED=qs(AD),_D=yt({},_f,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CD=qs(_D),kD=yt({},_f,{data:0}),NE=qs(kD),TD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ND(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=RD[n])?!!e[n]:!1}function z1(){return ND}var MD=yt({},Kg,{key:function(n){if(n.key){var e=TD[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Zy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(n){return n.type==="keypress"?Zy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LD=qs(MD),DD=yt({},sw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ME=qs(DD),ID=yt({},Kg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),OD=qs(ID),FD=yt({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),jD=qs(FD),BD=yt({},sw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zD=qs(BD),$D=[9,13,27,32],$1=Vo&&"CompositionEvent"in window,Sp=null;Vo&&"documentMode"in document&&(Sp=document.documentMode);var UD=Vo&&"TextEvent"in window&&!Sp,fT=Vo&&(!$1||Sp&&8<Sp&&11>=Sp),LE=" ",DE=!1;function pT(n,e){switch(n){case"keyup":return $D.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ed=!1;function HD(n,e){switch(n){case"compositionend":return mT(e);case"keypress":return e.which!==32?null:(DE=!0,LE);case"textInput":return n=e.data,n===LE&&DE?null:n;default:return null}}function VD(n,e){if(ed)return n==="compositionend"||!$1&&pT(n,e)?(n=hT(),Qy=j1=yl=null,ed=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fT&&e.locale!=="ko"?null:e.data;default:return null}}var WD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!WD[n.type]:e==="textarea"}function gT(n,e,t,s){qk(s),e=Xv(e,"onChange"),0<e.length&&(t=new B1("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Ap=null,Fp=null;function GD(n){kT(n,0)}function rw(n){var e=sd(n);if(zk(e))return n}function qD(n,e){if(n==="change")return e}var yT=!1;if(Vo){var Qw;if(Vo){var Zw="oninput"in document;if(!Zw){var OE=document.createElement("div");OE.setAttribute("oninput","return;"),Zw=typeof OE.oninput=="function"}Qw=Zw}else Qw=!1;yT=Qw&&(!document.documentMode||9<document.documentMode)}function FE(){Ap&&(Ap.detachEvent("onpropertychange",vT),Fp=Ap=null)}function vT(n){if(n.propertyName==="value"&&rw(Fp)){var e=[];gT(e,Fp,n,L1(n)),Qk(GD,e)}}function XD(n,e,t){n==="focusin"?(FE(),Ap=e,Fp=t,Ap.attachEvent("onpropertychange",vT)):n==="focusout"&&FE()}function YD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rw(Fp)}function KD(n,e){if(n==="click")return rw(e)}function QD(n,e){if(n==="input"||n==="change")return rw(e)}function ZD(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qr=typeof Object.is=="function"?Object.is:ZD;function jp(n,e){if(qr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!Mb.call(e,r)||!qr(n[r],e[r]))return!1}return!0}function jE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function BE(n,e){var t=jE(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=jE(t)}}function wT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?wT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function bT(){for(var n=window,e=$v();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=$v(n.document)}return e}function U1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function JD(n){var e=bT(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&wT(t.ownerDocument.documentElement,t)){if(s!==null&&U1(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!n.extend&&i>s&&(r=s,s=i,i=r),r=BE(t,i);var o=BE(t,s);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>s?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var eI=Vo&&"documentMode"in document&&11>=document.documentMode,td=null,Qb=null,Ep=null,Zb=!1;function zE(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Zb||td==null||td!==$v(s)||(s=td,"selectionStart"in s&&U1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ep&&jp(Ep,s)||(Ep=s,s=Xv(Qb,"onSelect"),0<s.length&&(e=new B1("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=td)))}function Ey(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var nd={animationend:Ey("Animation","AnimationEnd"),animationiteration:Ey("Animation","AnimationIteration"),animationstart:Ey("Animation","AnimationStart"),transitionend:Ey("Transition","TransitionEnd")},Jw={},xT={};Vo&&(xT=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function iw(n){if(Jw[n])return Jw[n];if(!nd[n])return n;var e=nd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in xT)return Jw[n]=e[t];return n}var ST=iw("animationend"),AT=iw("animationiteration"),ET=iw("animationstart"),_T=iw("transitionend"),CT=new Map,$E="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(n,e){CT.set(n,e),Lu(e,[n])}for(var eb=0;eb<$E.length;eb++){var tb=$E[eb],tI=tb.toLowerCase(),nI=tb[0].toUpperCase()+tb.slice(1);$l(tI,"on"+nI)}$l(ST,"onAnimationEnd");$l(AT,"onAnimationIteration");$l(ET,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(_T,"onTransitionEnd");af("onMouseEnter",["mouseout","mouseover"]);af("onMouseLeave",["mouseout","mouseover"]);af("onPointerEnter",["pointerout","pointerover"]);af("onPointerLeave",["pointerout","pointerover"]);Lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kf));function UE(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,tD(s,e,void 0,n),n.currentTarget=null}function kT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;UE(r,l,u),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;UE(r,l,u),i=c}}}if(Hv)throw n=qb,Hv=!1,qb=null,n}function tt(n,e){var t=e[sx];t===void 0&&(t=e[sx]=new Set);var s=n+"__bubble";t.has(s)||(TT(e,n,2,!1),t.add(s))}function nb(n,e,t){var s=0;e&&(s|=4),TT(t,n,s,e)}var _y="_reactListening"+Math.random().toString(36).slice(2);function Bp(n){if(!n[_y]){n[_y]=!0,Ik.forEach(function(t){t!=="selectionchange"&&(sI.has(t)||nb(t,!1,n),nb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[_y]||(e[_y]=!0,nb("selectionchange",!1,e))}}function TT(n,e,t,s){switch(dT(e)){case 1:var r=yD;break;case 4:r=vD;break;default:r=F1}t=r.bind(null,e,t,n),r=void 0,!Gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function sb(n,e,t,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=tc(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Qk(function(){var u=i,d=L1(t),h=[];e:{var f=CT.get(n);if(f!==void 0){var p=B1,v=n;switch(n){case"keypress":if(Zy(t)===0)break e;case"keydown":case"keyup":p=LD;break;case"focusin":v="focus",p=Kw;break;case"focusout":v="blur",p=Kw;break;case"beforeblur":case"afterblur":p=Kw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OD;break;case ST:case AT:case ET:p=ED;break;case _T:p=jD;break;case"scroll":p=wD;break;case"wheel":p=zD;break;case"copy":case"cut":case"paste":p=CD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ME}var m=(e&4)!==0,b=!m&&n==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,x;w!==null;){x=w;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=Lp(w,y),_!=null&&m.push(zp(w,_,x)))),b)break;w=w.return}0<m.length&&(f=new p(f,v,null,t,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Vb&&(v=t.relatedTarget||t.fromElement)&&(tc(v)||v[Wo]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=u,v=v?tc(v):null,v!==null&&(b=Du(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=RE,_="onMouseLeave",y="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(m=ME,_="onPointerLeave",y="onPointerEnter",w="pointer"),b=p==null?f:sd(p),x=v==null?f:sd(v),f=new m(_,w+"leave",p,t,d),f.target=b,f.relatedTarget=x,_=null,tc(d)===u&&(m=new m(y,w+"enter",v,t,d),m.target=x,m.relatedTarget=b,_=m),b=_,p&&v)t:{for(m=p,y=v,w=0,x=m;x;x=$u(x))w++;for(x=0,_=y;_;_=$u(_))x++;for(;0<w-x;)m=$u(m),w--;for(;0<x-w;)y=$u(y),x--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=$u(m),y=$u(y)}m=null}else m=null;p!==null&&HE(h,f,p,m,!1),v!==null&&b!==null&&HE(h,b,v,m,!0)}}e:{if(f=u?sd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=qD;else if(IE(f))if(yT)C=QD;else{C=YD;var T=XD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=KD);if(C&&(C=C(n,u))){gT(h,C,t,d);break e}T&&T(n,f,u),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Bb(f,"number",f.value)}switch(T=u?sd(u):window,n){case"focusin":(IE(T)||T.contentEditable==="true")&&(td=T,Qb=u,Ep=null);break;case"focusout":Ep=Qb=td=null;break;case"mousedown":Zb=!0;break;case"contextmenu":case"mouseup":case"dragend":Zb=!1,zE(h,t,d);break;case"selectionchange":if(eI)break;case"keydown":case"keyup":zE(h,t,d)}var P;if($1)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ed?pT(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(fT&&t.locale!=="ko"&&(ed||R!=="onCompositionStart"?R==="onCompositionEnd"&&ed&&(P=hT()):(yl=d,j1="value"in yl?yl.value:yl.textContent,ed=!0)),T=Xv(u,R),0<T.length&&(R=new NE(R,n,null,t,d),h.push({event:R,listeners:T}),P?R.data=P:(P=mT(t),P!==null&&(R.data=P)))),(P=UD?HD(n,t):VD(n,t))&&(u=Xv(u,"onBeforeInput"),0<u.length&&(d=new NE("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}kT(h,e)})}function zp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Xv(n,e){for(var t=e+"Capture",s=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Lp(n,t),i!=null&&s.unshift(zp(n,i,r)),i=Lp(n,e),i!=null&&s.push(zp(n,i,r))),n=n.return}return s}function $u(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function HE(n,e,t,s,r){for(var i=e._reactName,o=[];t!==null&&t!==s;){var l=t,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Lp(t,i),c!=null&&o.unshift(zp(t,c,l))):r||(c=Lp(t,i),c!=null&&o.push(zp(t,c,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var rI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function VE(n){return(typeof n=="string"?n:""+n).replace(rI,`
`).replace(iI,"")}function Cy(n,e,t){if(e=VE(e),VE(n)!==e&&t)throw Error(U(425))}function Yv(){}var Jb=null,ex=null;function tx(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nx=typeof setTimeout=="function"?setTimeout:void 0,oI=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,aI=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(n){return WE.resolve(null).then(n).catch(lI)}:nx;function lI(n){setTimeout(function(){throw n})}function rb(n,e){var t=e,s=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){n.removeChild(r),Op(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);Op(e)}function El(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function GE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Cf,$p="__reactProps$"+Cf,Wo="__reactContainer$"+Cf,sx="__reactEvents$"+Cf,cI="__reactListeners$"+Cf,uI="__reactHandles$"+Cf;function tc(n){var e=n[Ii];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Wo]||t[Ii]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=GE(n);n!==null;){if(t=n[Ii])return t;n=GE(n)}return e}n=t,t=n.parentNode}return null}function Qg(n){return n=n[Ii]||n[Wo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function sd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(U(33))}function ow(n){return n[$p]||null}var rx=[],rd=-1;function Ul(n){return{current:n}}function st(n){0>rd||(n.current=rx[rd],rx[rd]=null,rd--)}function Ze(n,e){rd++,rx[rd]=n.current,n.current=e}var Ml={},Ln=Ul(Ml),hs=Ul(!1),Eu=Ml;function lf(n,e){var t=n.type.contextTypes;if(!t)return Ml;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function fs(n){return n=n.childContextTypes,n!=null}function Kv(){st(hs),st(Ln)}function qE(n,e,t){if(Ln.current!==Ml)throw Error(U(168));Ze(Ln,e),Ze(hs,t)}function PT(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(U(108,XL(n)||"Unknown",r));return yt({},t,s)}function Qv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ml,Eu=Ln.current,Ze(Ln,n),Ze(hs,hs.current),!0}function XE(n,e,t){var s=n.stateNode;if(!s)throw Error(U(169));t?(n=PT(n,e,Eu),s.__reactInternalMemoizedMergedChildContext=n,st(hs),st(Ln),Ze(Ln,n)):st(hs),Ze(hs,t)}var no=null,aw=!1,ib=!1;function RT(n){no===null?no=[n]:no.push(n)}function dI(n){aw=!0,RT(n)}function Hl(){if(!ib&&no!==null){ib=!0;var n=0,e=Be;try{var t=no;for(Be=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}no=null,aw=!1}catch(r){throw no!==null&&(no=no.slice(n+1)),tT(D1,Hl),r}finally{Be=e,ib=!1}}return null}var id=[],od=0,Zv=null,Jv=0,lr=[],cr=0,_u=null,Bo=1,zo="";function ql(n,e){id[od++]=Jv,id[od++]=Zv,Zv=n,Jv=e}function NT(n,e,t){lr[cr++]=Bo,lr[cr++]=zo,lr[cr++]=_u,_u=n;var s=Bo;n=zo;var r=32-Wr(s)-1;s&=~(1<<r),t+=1;var i=32-Wr(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Bo=1<<32-Wr(e)+r|t<<r|s,zo=i+n}else Bo=1<<i|t<<r|s,zo=n}function H1(n){n.return!==null&&(ql(n,1),NT(n,1,0))}function V1(n){for(;n===Zv;)Zv=id[--od],id[od]=null,Jv=id[--od],id[od]=null;for(;n===_u;)_u=lr[--cr],lr[cr]=null,zo=lr[--cr],lr[cr]=null,Bo=lr[--cr],lr[cr]=null}var zs=null,Bs=null,lt=!1,Hr=null;function MT(n,e){var t=hr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function YE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,zs=n,Bs=El(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,zs=n,Bs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_u!==null?{id:Bo,overflow:zo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=hr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,zs=n,Bs=null,!0):!1;default:return!1}}function ix(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ox(n){if(lt){var e=Bs;if(e){var t=e;if(!YE(n,e)){if(ix(n))throw Error(U(418));e=El(t.nextSibling);var s=zs;e&&YE(n,e)?MT(s,t):(n.flags=n.flags&-4097|2,lt=!1,zs=n)}}else{if(ix(n))throw Error(U(418));n.flags=n.flags&-4097|2,lt=!1,zs=n}}}function KE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;zs=n}function ky(n){if(n!==zs)return!1;if(!lt)return KE(n),lt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!tx(n.type,n.memoizedProps)),e&&(e=Bs)){if(ix(n))throw LT(),Error(U(418));for(;e;)MT(n,e),e=El(e.nextSibling)}if(KE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(U(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Bs=El(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Bs=null}}else Bs=zs?El(n.stateNode.nextSibling):null;return!0}function LT(){for(var n=Bs;n;)n=El(n.nextSibling)}function cf(){Bs=zs=null,lt=!1}function W1(n){Hr===null?Hr=[n]:Hr.push(n)}var hI=ta.ReactCurrentBatchConfig;function jf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(U(309));var s=t.stateNode}if(!s)throw Error(U(147,n));var r=s,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(U(284));if(!t._owner)throw Error(U(290,n))}return n}function Ty(n,e){throw n=Object.prototype.toString.call(e),Error(U(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function QE(n){var e=n._init;return e(n._payload)}function DT(n){function e(y,w){if(n){var x=y.deletions;x===null?(y.deletions=[w],y.flags|=16):x.push(w)}}function t(y,w){if(!n)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function s(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function r(y,w){return y=Tl(y,w),y.index=0,y.sibling=null,y}function i(y,w,x){return y.index=x,n?(x=y.alternate,x!==null?(x=x.index,x<w?(y.flags|=2,w):x):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function l(y,w,x,_){return w===null||w.tag!==6?(w=hb(x,y.mode,_),w.return=y,w):(w=r(w,x),w.return=y,w)}function c(y,w,x,_){var C=x.type;return C===Ju?d(y,w,x.props.children,_,x.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ha&&QE(C)===w.type)?(_=r(w,x.props),_.ref=jf(y,w,x),_.return=y,_):(_=iv(x.type,x.key,x.props,null,y.mode,_),_.ref=jf(y,w,x),_.return=y,_)}function u(y,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=fb(x,y.mode,_),w.return=y,w):(w=r(w,x.children||[]),w.return=y,w)}function d(y,w,x,_,C){return w===null||w.tag!==7?(w=Au(x,y.mode,_,C),w.return=y,w):(w=r(w,x),w.return=y,w)}function h(y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hb(""+w,y.mode,x),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yy:return x=iv(w.type,w.key,w.props,null,y.mode,x),x.ref=jf(y,null,w),x.return=y,x;case Zu:return w=fb(w,y.mode,x),w.return=y,w;case ha:var _=w._init;return h(y,_(w._payload),x)}if(Xf(w)||Lf(w))return w=Au(w,y.mode,x,null),w.return=y,w;Ty(y,w)}return null}function f(y,w,x,_){var C=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(y,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yy:return x.key===C?c(y,w,x,_):null;case Zu:return x.key===C?u(y,w,x,_):null;case ha:return C=x._init,f(y,w,C(x._payload),_)}if(Xf(x)||Lf(x))return C!==null?null:d(y,w,x,_,null);Ty(y,x)}return null}function p(y,w,x,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,l(w,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yy:return y=y.get(_.key===null?x:_.key)||null,c(w,y,_,C);case Zu:return y=y.get(_.key===null?x:_.key)||null,u(w,y,_,C);case ha:var T=_._init;return p(y,w,x,T(_._payload),C)}if(Xf(_)||Lf(_))return y=y.get(x)||null,d(w,y,_,C,null);Ty(w,_)}return null}function v(y,w,x,_){for(var C=null,T=null,P=w,R=w=0,M=null;P!==null&&R<x.length;R++){P.index>R?(M=P,P=null):M=P.sibling;var N=f(y,P,x[R],_);if(N===null){P===null&&(P=M);break}n&&P&&N.alternate===null&&e(y,P),w=i(N,w,R),T===null?C=N:T.sibling=N,T=N,P=M}if(R===x.length)return t(y,P),lt&&ql(y,R),C;if(P===null){for(;R<x.length;R++)P=h(y,x[R],_),P!==null&&(w=i(P,w,R),T===null?C=P:T.sibling=P,T=P);return lt&&ql(y,R),C}for(P=s(y,P);R<x.length;R++)M=p(P,y,R,x[R],_),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?R:M.key),w=i(M,w,R),T===null?C=M:T.sibling=M,T=M);return n&&P.forEach(function(D){return e(y,D)}),lt&&ql(y,R),C}function m(y,w,x,_){var C=Lf(x);if(typeof C!="function")throw Error(U(150));if(x=C.call(x),x==null)throw Error(U(151));for(var T=C=null,P=w,R=w=0,M=null,N=x.next();P!==null&&!N.done;R++,N=x.next()){P.index>R?(M=P,P=null):M=P.sibling;var D=f(y,P,N.value,_);if(D===null){P===null&&(P=M);break}n&&P&&D.alternate===null&&e(y,P),w=i(D,w,R),T===null?C=D:T.sibling=D,T=D,P=M}if(N.done)return t(y,P),lt&&ql(y,R),C;if(P===null){for(;!N.done;R++,N=x.next())N=h(y,N.value,_),N!==null&&(w=i(N,w,R),T===null?C=N:T.sibling=N,T=N);return lt&&ql(y,R),C}for(P=s(y,P);!N.done;R++,N=x.next())N=p(P,y,R,N.value,_),N!==null&&(n&&N.alternate!==null&&P.delete(N.key===null?R:N.key),w=i(N,w,R),T===null?C=N:T.sibling=N,T=N);return n&&P.forEach(function(F){return e(y,F)}),lt&&ql(y,R),C}function b(y,w,x,_){if(typeof x=="object"&&x!==null&&x.type===Ju&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yy:e:{for(var C=x.key,T=w;T!==null;){if(T.key===C){if(C=x.type,C===Ju){if(T.tag===7){t(y,T.sibling),w=r(T,x.props.children),w.return=y,y=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ha&&QE(C)===T.type){t(y,T.sibling),w=r(T,x.props),w.ref=jf(y,T,x),w.return=y,y=w;break e}t(y,T);break}else e(y,T);T=T.sibling}x.type===Ju?(w=Au(x.props.children,y.mode,_,x.key),w.return=y,y=w):(_=iv(x.type,x.key,x.props,null,y.mode,_),_.ref=jf(y,w,x),_.return=y,y=_)}return o(y);case Zu:e:{for(T=x.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){t(y,w.sibling),w=r(w,x.children||[]),w.return=y,y=w;break e}else{t(y,w);break}else e(y,w);w=w.sibling}w=fb(x,y.mode,_),w.return=y,y=w}return o(y);case ha:return T=x._init,b(y,w,T(x._payload),_)}if(Xf(x))return v(y,w,x,_);if(Lf(x))return m(y,w,x,_);Ty(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(t(y,w.sibling),w=r(w,x),w.return=y,y=w):(t(y,w),w=hb(x,y.mode,_),w.return=y,y=w),o(y)):t(y,w)}return b}var uf=DT(!0),IT=DT(!1),e0=Ul(null),t0=null,ad=null,G1=null;function q1(){G1=ad=t0=null}function X1(n){var e=e0.current;st(e0),n._currentValue=e}function ax(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function wd(n,e){t0=n,G1=ad=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ds=!0),n.firstContext=null)}function mr(n){var e=n._currentValue;if(G1!==n)if(n={context:n,memoizedValue:e,next:null},ad===null){if(t0===null)throw Error(U(308));ad=n,t0.dependencies={lanes:0,firstContext:n}}else ad=ad.next=n;return e}var nc=null;function Y1(n){nc===null?nc=[n]:nc.push(n)}function OT(n,e,t,s){var r=e.interleaved;return r===null?(t.next=t,Y1(e)):(t.next=r.next,r.next=t),e.interleaved=t,Go(n,s)}function Go(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var fa=!1;function K1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $o(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _l(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,Pe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Go(n,t)}return r=s.interleaved,r===null?(e.next=e,Y1(s)):(e.next=r.next,r.next=e),s.interleaved=e,Go(n,t)}function Jy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,I1(n,t)}}function ZE(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function n0(n,e,t,s){var r=n.updateQueue;fa=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,m=l;switch(f=e,p=t,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=yt({},h,f);break e;case 2:fa=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ku|=o,n.lanes=o,n.memoizedState=h}}function JE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(U(191,r));r.call(s)}}}var Zg={},zi=Ul(Zg),Up=Ul(Zg),Hp=Ul(Zg);function sc(n){if(n===Zg)throw Error(U(174));return n}function Q1(n,e){switch(Ze(Hp,e),Ze(Up,n),Ze(zi,Zg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$b(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$b(e,n)}st(zi),Ze(zi,e)}function df(){st(zi),st(Up),st(Hp)}function jT(n){sc(Hp.current);var e=sc(zi.current),t=$b(e,n.type);e!==t&&(Ze(Up,n),Ze(zi,t))}function Z1(n){Up.current===n&&(st(zi),st(Up))}var ft=Ul(0);function s0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ob=[];function J1(){for(var n=0;n<ob.length;n++)ob[n]._workInProgressVersionPrimary=null;ob.length=0}var ev=ta.ReactCurrentDispatcher,ab=ta.ReactCurrentBatchConfig,Cu=0,mt=null,Ut=null,tn=null,r0=!1,_p=!1,Vp=0,fI=0;function xn(){throw Error(U(321))}function eA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qr(n[t],e[t]))return!1;return!0}function tA(n,e,t,s,r,i){if(Cu=i,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ev.current=n===null||n.memoizedState===null?yI:vI,n=t(s,r),_p){i=0;do{if(_p=!1,Vp=0,25<=i)throw Error(U(301));i+=1,tn=Ut=null,e.updateQueue=null,ev.current=wI,n=t(s,r)}while(_p)}if(ev.current=i0,e=Ut!==null&&Ut.next!==null,Cu=0,tn=Ut=mt=null,r0=!1,e)throw Error(U(300));return n}function nA(){var n=Vp!==0;return Vp=0,n}function li(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?mt.memoizedState=tn=n:tn=tn.next=n,tn}function gr(){if(Ut===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Ut.next;var e=tn===null?mt.memoizedState:tn.next;if(e!==null)tn=e,Ut=n;else{if(n===null)throw Error(U(310));Ut=n,n={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},tn===null?mt.memoizedState=tn=n:tn=tn.next=n}return tn}function Wp(n,e){return typeof e=="function"?e(n):e}function lb(n){var e=gr(),t=e.queue;if(t===null)throw Error(U(311));t.lastRenderedReducer=n;var s=Ut,r=s.baseQueue,i=t.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Cu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,mt.lanes|=d,ku|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=l,qr(s,e.memoizedState)||(ds=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,t.lastRenderedState=s}if(n=t.interleaved,n!==null){r=n;do i=r.lane,mt.lanes|=i,ku|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function cb(n){var e=gr(),t=e.queue;if(t===null)throw Error(U(311));t.lastRenderedReducer=n;var s=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do i=n(i,o.action),o=o.next;while(o!==r);qr(i,e.memoizedState)||(ds=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,s]}function BT(){}function zT(n,e){var t=mt,s=gr(),r=e(),i=!qr(s.memoizedState,r);if(i&&(s.memoizedState=r,ds=!0),s=s.queue,sA(HT.bind(null,t,s,n),[n]),s.getSnapshot!==e||i||tn!==null&&tn.memoizedState.tag&1){if(t.flags|=2048,Gp(9,UT.bind(null,t,s,r,e),void 0,null),nn===null)throw Error(U(349));Cu&30||$T(t,e,r)}return r}function $T(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function UT(n,e,t,s){e.value=t,e.getSnapshot=s,VT(e)&&WT(n)}function HT(n,e,t){return t(function(){VT(e)&&WT(n)})}function VT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qr(n,t)}catch{return!0}}function WT(n){var e=Go(n,1);e!==null&&Gr(e,n,1,-1)}function e_(n){var e=li();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:n},e.queue=n,n=n.dispatch=gI.bind(null,mt,n),[e.memoizedState,n]}function Gp(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function GT(){return gr().memoizedState}function tv(n,e,t,s){var r=li();mt.flags|=n,r.memoizedState=Gp(1|e,t,void 0,s===void 0?null:s)}function lw(n,e,t,s){var r=gr();s=s===void 0?null:s;var i=void 0;if(Ut!==null){var o=Ut.memoizedState;if(i=o.destroy,s!==null&&eA(s,o.deps)){r.memoizedState=Gp(e,t,i,s);return}}mt.flags|=n,r.memoizedState=Gp(1|e,t,i,s)}function t_(n,e){return tv(8390656,8,n,e)}function sA(n,e){return lw(2048,8,n,e)}function qT(n,e){return lw(4,2,n,e)}function XT(n,e){return lw(4,4,n,e)}function YT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function KT(n,e,t){return t=t!=null?t.concat([n]):null,lw(4,4,YT.bind(null,e,n),t)}function rA(){}function QT(n,e){var t=gr();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&eA(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function ZT(n,e){var t=gr();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&eA(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function JT(n,e,t){return Cu&21?(qr(t,e)||(t=rT(),mt.lanes|=t,ku|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ds=!0),n.memoizedState=t)}function pI(n,e){var t=Be;Be=t!==0&&4>t?t:4,n(!0);var s=ab.transition;ab.transition={};try{n(!1),e()}finally{Be=t,ab.transition=s}}function eP(){return gr().memoizedState}function mI(n,e,t){var s=kl(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},tP(n))nP(e,t);else if(t=OT(n,e,t,s),t!==null){var r=Xn();Gr(t,n,s,r),sP(t,e,s)}}function gI(n,e,t){var s=kl(n),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(tP(n))nP(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,t);if(r.hasEagerState=!0,r.eagerState=l,qr(l,o)){var c=e.interleaved;c===null?(r.next=r,Y1(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=OT(n,e,r,s),t!==null&&(r=Xn(),Gr(t,n,s,r),sP(t,e,s))}}function tP(n){var e=n.alternate;return n===mt||e!==null&&e===mt}function nP(n,e){_p=r0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function sP(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,I1(n,t)}}var i0={readContext:mr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},yI={readContext:mr,useCallback:function(n,e){return li().memoizedState=[n,e===void 0?null:e],n},useContext:mr,useEffect:t_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,tv(4194308,4,YT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return tv(4194308,4,n,e)},useInsertionEffect:function(n,e){return tv(4,2,n,e)},useMemo:function(n,e){var t=li();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=li();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=mI.bind(null,mt,n),[s.memoizedState,n]},useRef:function(n){var e=li();return n={current:n},e.memoizedState=n},useState:e_,useDebugValue:rA,useDeferredValue:function(n){return li().memoizedState=n},useTransition:function(){var n=e_(!1),e=n[0];return n=pI.bind(null,n[1]),li().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=mt,r=li();if(lt){if(t===void 0)throw Error(U(407));t=t()}else{if(t=e(),nn===null)throw Error(U(349));Cu&30||$T(s,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,t_(HT.bind(null,s,i,n),[n]),s.flags|=2048,Gp(9,UT.bind(null,s,i,t,e),void 0,null),t},useId:function(){var n=li(),e=nn.identifierPrefix;if(lt){var t=zo,s=Bo;t=(s&~(1<<32-Wr(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=Vp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=fI++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},vI={readContext:mr,useCallback:QT,useContext:mr,useEffect:sA,useImperativeHandle:KT,useInsertionEffect:qT,useLayoutEffect:XT,useMemo:ZT,useReducer:lb,useRef:GT,useState:function(){return lb(Wp)},useDebugValue:rA,useDeferredValue:function(n){var e=gr();return JT(e,Ut.memoizedState,n)},useTransition:function(){var n=lb(Wp)[0],e=gr().memoizedState;return[n,e]},useMutableSource:BT,useSyncExternalStore:zT,useId:eP,unstable_isNewReconciler:!1},wI={readContext:mr,useCallback:QT,useContext:mr,useEffect:sA,useImperativeHandle:KT,useInsertionEffect:qT,useLayoutEffect:XT,useMemo:ZT,useReducer:cb,useRef:GT,useState:function(){return cb(Wp)},useDebugValue:rA,useDeferredValue:function(n){var e=gr();return Ut===null?e.memoizedState=n:JT(e,Ut.memoizedState,n)},useTransition:function(){var n=cb(Wp)[0],e=gr().memoizedState;return[n,e]},useMutableSource:BT,useSyncExternalStore:zT,useId:eP,unstable_isNewReconciler:!1};function Cr(n,e){if(n&&n.defaultProps){e=yt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function lx(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:yt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cw={isMounted:function(n){return(n=n._reactInternals)?Du(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=Xn(),r=kl(n),i=$o(s,r);i.payload=e,t!=null&&(i.callback=t),e=_l(n,i,r),e!==null&&(Gr(e,n,r,s),Jy(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=Xn(),r=kl(n),i=$o(s,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=_l(n,i,r),e!==null&&(Gr(e,n,r,s),Jy(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Xn(),s=kl(n),r=$o(t,s);r.tag=2,e!=null&&(r.callback=e),e=_l(n,r,s),e!==null&&(Gr(e,n,s,t),Jy(e,n,s))}};function n_(n,e,t,s,r,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!jp(t,s)||!jp(r,i):!0}function rP(n,e,t){var s=!1,r=Ml,i=e.contextType;return typeof i=="object"&&i!==null?i=mr(i):(r=fs(e)?Eu:Ln.current,s=e.contextTypes,i=(s=s!=null)?lf(n,r):Ml),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cw,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function s_(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&cw.enqueueReplaceState(e,e.state,null)}function cx(n,e,t,s){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},K1(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=mr(i):(i=fs(e)?Eu:Ln.current,r.context=lf(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lx(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&cw.enqueueReplaceState(r,r.state,null),n0(n,t,r,s),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function hf(n,e){try{var t="",s=e;do t+=qL(s),s=s.return;while(s);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function ub(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function ux(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var bI=typeof WeakMap=="function"?WeakMap:Map;function iP(n,e,t){t=$o(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){a0||(a0=!0,bx=s),ux(n,e)},t}function oP(n,e,t){t=$o(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){ux(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){ux(n,e),typeof s!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function r_(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new bI;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),n=DI.bind(null,n,e,t),e.then(n,n))}function i_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function o_(n,e,t,s,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=$o(-1,1),e.tag=2,_l(t,e,1))),t.lanes|=1),n)}var xI=ta.ReactCurrentOwner,ds=!1;function Vn(n,e,t,s){e.child=n===null?IT(e,null,t,s):uf(e,n.child,t,s)}function a_(n,e,t,s,r){t=t.render;var i=e.ref;return wd(e,r),s=tA(n,e,t,s,i,r),t=nA(),n!==null&&!ds?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,qo(n,e,r)):(lt&&t&&H1(e),e.flags|=1,Vn(n,e,s,r),e.child)}function l_(n,e,t,s,r){if(n===null){var i=t.type;return typeof i=="function"&&!hA(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,aP(n,e,i,s,r)):(n=iv(t.type,null,s,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:jp,t(o,s)&&n.ref===e.ref)return qo(n,e,r)}return e.flags|=1,n=Tl(i,s),n.ref=e.ref,n.return=e,e.child=n}function aP(n,e,t,s,r){if(n!==null){var i=n.memoizedProps;if(jp(i,s)&&n.ref===e.ref)if(ds=!1,e.pendingProps=s=i,(n.lanes&r)!==0)n.flags&131072&&(ds=!0);else return e.lanes=n.lanes,qo(n,e,r)}return dx(n,e,t,s,r)}function lP(n,e,t){var s=e.pendingProps,r=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(cd,Is),Is|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ze(cd,Is),Is|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:t,Ze(cd,Is),Is|=s}else i!==null?(s=i.baseLanes|t,e.memoizedState=null):s=t,Ze(cd,Is),Is|=s;return Vn(n,e,r,t),e.child}function cP(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function dx(n,e,t,s,r){var i=fs(t)?Eu:Ln.current;return i=lf(e,i),wd(e,r),t=tA(n,e,t,s,i,r),s=nA(),n!==null&&!ds?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,qo(n,e,r)):(lt&&s&&H1(e),e.flags|=1,Vn(n,e,t,r),e.child)}function c_(n,e,t,s,r){if(fs(t)){var i=!0;Qv(e)}else i=!1;if(wd(e,r),e.stateNode===null)nv(n,e),rP(e,t,s),cx(e,t,s,r),s=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=fs(t)?Eu:Ln.current,u=lf(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&s_(e,o,s,u),fa=!1;var f=e.memoizedState;o.state=f,n0(e,s,o,r),c=e.memoizedState,l!==s||f!==c||hs.current||fa?(typeof d=="function"&&(lx(e,t,d,s),c=e.memoizedState),(l=fa||n_(e,t,l,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,FT(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:Cr(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=fs(t)?Eu:Ln.current,c=lf(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&s_(e,o,s,c),fa=!1,f=e.memoizedState,o.state=f,n0(e,s,o,r);var v=e.memoizedState;l!==h||f!==v||hs.current||fa?(typeof p=="function"&&(lx(e,t,p,s),v=e.memoizedState),(u=fa||n_(e,t,u,s,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),s=!1)}return hx(n,e,t,s,i,r)}function hx(n,e,t,s,r,i){cP(n,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&XE(e,t,!1),qo(n,e,i);s=e.stateNode,xI.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&o?(e.child=uf(e,n.child,null,i),e.child=uf(e,null,l,i)):Vn(n,e,l,i),e.memoizedState=s.state,r&&XE(e,t,!0),e.child}function uP(n){var e=n.stateNode;e.pendingContext?qE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&qE(n,e.context,!1),Q1(n,e.containerInfo)}function u_(n,e,t,s,r){return cf(),W1(r),e.flags|=256,Vn(n,e,t,s),e.child}var fx={dehydrated:null,treeContext:null,retryLane:0};function px(n){return{baseLanes:n,cachePool:null,transitions:null}}function dP(n,e,t){var s=e.pendingProps,r=ft.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ze(ft,r&1),n===null)return ox(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,n=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hw(o,s,0,null),n=Au(n,s,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=px(t),e.memoizedState=fx,n):iA(e,o));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return SI(n,e,o,s,l,r,t);if(i){i=s.fallback,o=e.mode,r=n.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Tl(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Tl(l,i):(i=Au(i,o,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=n.child.memoizedState,o=o===null?px(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=fx,s}return i=n.child,n=i.sibling,s=Tl(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function iA(n,e){return e=hw({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Py(n,e,t,s){return s!==null&&W1(s),uf(e,n.child,null,t),n=iA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function SI(n,e,t,s,r,i,o){if(t)return e.flags&256?(e.flags&=-257,s=ub(Error(U(422))),Py(n,e,o,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=hw({mode:"visible",children:s.children},r,0,null),i=Au(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&uf(e,n.child,null,o),e.child.memoizedState=px(o),e.memoizedState=fx,i);if(!(e.mode&1))return Py(n,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(U(419)),s=ub(i,s,void 0),Py(n,e,o,s)}if(l=(o&n.childLanes)!==0,ds||l){if(s=nn,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Go(n,r),Gr(s,n,r,-1))}return dA(),s=ub(Error(U(421))),Py(n,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=II.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Bs=El(r.nextSibling),zs=e,lt=!0,Hr=null,n!==null&&(lr[cr++]=Bo,lr[cr++]=zo,lr[cr++]=_u,Bo=n.id,zo=n.overflow,_u=e),e=iA(e,s.children),e.flags|=4096,e)}function d_(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),ax(n.return,e,t)}function db(n,e,t,s,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=t,i.tailMode=r)}function hP(n,e,t){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Vn(n,e,s.children,t),s=ft.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d_(n,t,e);else if(n.tag===19)d_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Ze(ft,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&s0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),db(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&s0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}db(e,!0,t,null,i);break;case"together":db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function qo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ku|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(U(153));if(e.child!==null){for(n=e.child,t=Tl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Tl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function AI(n,e,t){switch(e.tag){case 3:uP(e),cf();break;case 5:jT(e);break;case 1:fs(e.type)&&Qv(e);break;case 4:Q1(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ze(e0,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):t&e.child.childLanes?dP(n,e,t):(Ze(ft,ft.current&1),n=qo(n,e,t),n!==null?n.sibling:null);Ze(ft,ft.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return hP(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ze(ft,ft.current),s)break;return null;case 22:case 23:return e.lanes=0,lP(n,e,t)}return qo(n,e,t)}var fP,mx,pP,mP;fP=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};mx=function(){};pP=function(n,e,t,s){var r=n.memoizedProps;if(r!==s){n=e.stateNode,sc(zi.current);var i=null;switch(t){case"input":r=Fb(n,r),s=Fb(n,s),i=[];break;case"select":r=yt({},r,{value:void 0}),s=yt({},s,{value:void 0}),i=[];break;case"textarea":r=zb(n,r),s=zb(n,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Yv)}Ub(t,s);var o;t=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Np.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Np.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&tt("scroll",n),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};mP=function(n,e,t,s){t!==s&&(e.flags|=4)};function Bf(n,e){if(!lt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Sn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function EI(n,e,t){var s=e.pendingProps;switch(V1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return fs(e.type)&&Kv(),Sn(e),null;case 3:return s=e.stateNode,df(),st(hs),st(Ln),J1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(ky(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hr!==null&&(Ax(Hr),Hr=null))),mx(n,e),Sn(e),null;case 5:Z1(e);var r=sc(Hp.current);if(t=e.type,n!==null&&e.stateNode!=null)pP(n,e,t,s,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(U(166));return Sn(e),null}if(n=sc(zi.current),ky(e)){s=e.stateNode,t=e.type;var i=e.memoizedProps;switch(s[Ii]=e,s[$p]=i,n=(e.mode&1)!==0,t){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(r=0;r<Kf.length;r++)tt(Kf[r],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":bE(s,i),tt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},tt("invalid",s);break;case"textarea":SE(s,i),tt("invalid",s)}Ub(t,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Cy(s.textContent,l,n),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Cy(s.textContent,l,n),r=["children",""+l]):Np.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&tt("scroll",s)}switch(t){case"input":vy(s),xE(s,i,!0);break;case"textarea":vy(s),AE(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Yv)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Hk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(t,{is:s.is}):(n=o.createElement(t),t==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,t),n[Ii]=e,n[$p]=s,fP(n,e,!1,!1),e.stateNode=n;e:{switch(o=Hb(t,s),t){case"dialog":tt("cancel",n),tt("close",n),r=s;break;case"iframe":case"object":case"embed":tt("load",n),r=s;break;case"video":case"audio":for(r=0;r<Kf.length;r++)tt(Kf[r],n);r=s;break;case"source":tt("error",n),r=s;break;case"img":case"image":case"link":tt("error",n),tt("load",n),r=s;break;case"details":tt("toggle",n),r=s;break;case"input":bE(n,s),r=Fb(n,s),tt("invalid",n);break;case"option":r=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},r=yt({},s,{value:void 0}),tt("invalid",n);break;case"textarea":SE(n,s),r=zb(n,s),tt("invalid",n);break;default:r=s}Ub(t,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Gk(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vk(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Mp(n,c):typeof c=="number"&&Mp(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Np.hasOwnProperty(i)?c!=null&&i==="onScroll"&&tt("scroll",n):c!=null&&P1(n,i,c,o))}switch(t){case"input":vy(n),xE(n,s,!1);break;case"textarea":vy(n),AE(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Nl(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?md(n,!!s.multiple,i,!1):s.defaultValue!=null&&md(n,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Yv)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(n&&e.stateNode!=null)mP(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(U(166));if(t=sc(Hp.current),sc(zi.current),ky(e)){if(s=e.stateNode,t=e.memoizedProps,s[Ii]=e,(i=s.nodeValue!==t)&&(n=zs,n!==null))switch(n.tag){case 3:Cy(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cy(s.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Ii]=e,e.stateNode=s}return Sn(e),null;case 13:if(st(ft),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(lt&&Bs!==null&&e.mode&1&&!(e.flags&128))LT(),cf(),e.flags|=98560,i=!1;else if(i=ky(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Ii]=e}else cf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),i=!1}else Hr!==null&&(Ax(Hr),Hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||ft.current&1?Vt===0&&(Vt=3):dA())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return df(),mx(n,e),n===null&&Bp(e.stateNode.containerInfo),Sn(e),null;case 10:return X1(e.type._context),Sn(e),null;case 17:return fs(e.type)&&Kv(),Sn(e),null;case 19:if(st(ft),i=e.memoizedState,i===null)return Sn(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Bf(i,!1);else{if(Vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=s0(n),o!==null){for(e.flags|=128,Bf(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)i=t,n=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ze(ft,ft.current&1|2),e.child}n=n.sibling}i.tail!==null&&Nt()>ff&&(e.flags|=128,s=!0,Bf(i,!1),e.lanes=4194304)}else{if(!s)if(n=s0(o),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Bf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Sn(e),null}else 2*Nt()-i.renderingStartTime>ff&&t!==1073741824&&(e.flags|=128,s=!0,Bf(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Nt(),e.sibling=null,t=ft.current,Ze(ft,s?t&1|2:t&1),e):(Sn(e),null);case 22:case 23:return uA(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Is&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function _I(n,e){switch(V1(e),e.tag){case 1:return fs(e.type)&&Kv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return df(),st(hs),st(Ln),J1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Z1(e),null;case 13:if(st(ft),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(U(340));cf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return st(ft),null;case 4:return df(),null;case 10:return X1(e.type._context),null;case 22:case 23:return uA(),null;case 24:return null;default:return null}}var Ry=!1,Nn=!1,CI=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ld(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){kt(n,e,s)}else t.current=null}function gx(n,e,t){try{t()}catch(s){kt(n,e,s)}}var h_=!1;function kI(n,e){if(Jb=Gv,n=bT(),U1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||r!==0&&h.nodeType!==3||(l=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===r&&(l=o),f===i&&++d===s&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(ex={focusedElem:n,selectionRange:t},Gv=!1,ee=e;ee!==null;)if(e=ee,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ee=n;else for(;ee!==null;){e=ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Cr(e.type,m),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){kt(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}return v=h_,h_=!1,v}function Cp(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&gx(e,t,i)}r=r.next}while(r!==s)}}function uw(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function yx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function gP(n){var e=n.alternate;e!==null&&(n.alternate=null,gP(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ii],delete e[$p],delete e[sx],delete e[cI],delete e[uI])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function yP(n){return n.tag===5||n.tag===3||n.tag===4}function f_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||yP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vx(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Yv));else if(s!==4&&(n=n.child,n!==null))for(vx(n,e,t),n=n.sibling;n!==null;)vx(n,e,t),n=n.sibling}function wx(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(wx(n,e,t),n=n.sibling;n!==null;)wx(n,e,t),n=n.sibling}var dn=null,Ur=!1;function aa(n,e,t){for(t=t.child;t!==null;)vP(n,e,t),t=t.sibling}function vP(n,e,t){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(nw,t)}catch{}switch(t.tag){case 5:Nn||ld(t,e);case 6:var s=dn,r=Ur;dn=null,aa(n,e,t),dn=s,Ur=r,dn!==null&&(Ur?(n=dn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):dn.removeChild(t.stateNode));break;case 18:dn!==null&&(Ur?(n=dn,t=t.stateNode,n.nodeType===8?rb(n.parentNode,t):n.nodeType===1&&rb(n,t),Op(n)):rb(dn,t.stateNode));break;case 4:s=dn,r=Ur,dn=t.stateNode.containerInfo,Ur=!0,aa(n,e,t),dn=s,Ur=r;break;case 0:case 11:case 14:case 15:if(!Nn&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gx(t,e,o),r=r.next}while(r!==s)}aa(n,e,t);break;case 1:if(!Nn&&(ld(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(l){kt(t,e,l)}aa(n,e,t);break;case 21:aa(n,e,t);break;case 22:t.mode&1?(Nn=(s=Nn)||t.memoizedState!==null,aa(n,e,t),Nn=s):aa(n,e,t);break;default:aa(n,e,t)}}function p_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CI),e.forEach(function(s){var r=OI.bind(null,n,s);t.has(s)||(t.add(s),s.then(r,r))})}}function Sr(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var i=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,Ur=!1;break e;case 3:dn=l.stateNode.containerInfo,Ur=!0;break e;case 4:dn=l.stateNode.containerInfo,Ur=!0;break e}l=l.return}if(dn===null)throw Error(U(160));vP(i,o,r),dn=null,Ur=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){kt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wP(e,n),e=e.sibling}function wP(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Sr(e,n),ri(n),s&4){try{Cp(3,n,n.return),uw(3,n)}catch(m){kt(n,n.return,m)}try{Cp(5,n,n.return)}catch(m){kt(n,n.return,m)}}break;case 1:Sr(e,n),ri(n),s&512&&t!==null&&ld(t,t.return);break;case 5:if(Sr(e,n),ri(n),s&512&&t!==null&&ld(t,t.return),n.flags&32){var r=n.stateNode;try{Mp(r,"")}catch(m){kt(n,n.return,m)}}if(s&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$k(r,i),Hb(l,o);var u=Hb(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Gk(r,h):d==="dangerouslySetInnerHTML"?Vk(r,h):d==="children"?Mp(r,h):P1(r,d,h,u)}switch(l){case"input":jb(r,i);break;case"textarea":Uk(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?md(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?md(r,!!i.multiple,i.defaultValue,!0):md(r,!!i.multiple,i.multiple?[]:"",!1))}r[$p]=i}catch(m){kt(n,n.return,m)}}break;case 6:if(Sr(e,n),ri(n),s&4){if(n.stateNode===null)throw Error(U(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(m){kt(n,n.return,m)}}break;case 3:if(Sr(e,n),ri(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Op(e.containerInfo)}catch(m){kt(n,n.return,m)}break;case 4:Sr(e,n),ri(n);break;case 13:Sr(e,n),ri(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(lA=Nt())),s&4&&p_(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Nn=(u=Nn)||d,Sr(e,n),Nn=u):Sr(e,n),ri(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(ee=n,d=n.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cp(4,f,f.return);break;case 1:ld(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,t=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){kt(s,t,m)}}break;case 5:ld(f,f.return);break;case 22:if(f.memoizedState!==null){g_(h);continue}}p!==null?(p.return=f,ee=p):g_(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Wk("display",o))}catch(m){kt(n,n.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kt(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sr(e,n),ri(n),s&4&&p_(n);break;case 21:break;default:Sr(e,n),ri(n)}}function ri(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(yP(t)){var s=t;break e}t=t.return}throw Error(U(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Mp(r,""),s.flags&=-33);var i=f_(n);wx(n,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=f_(n);vx(n,l,o);break;default:throw Error(U(161))}}catch(c){kt(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function TI(n,e,t){ee=n,bP(n)}function bP(n,e,t){for(var s=(n.mode&1)!==0;ee!==null;){var r=ee,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ry;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Nn;l=Ry;var u=Nn;if(Ry=o,(Nn=c)&&!u)for(ee=r;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?y_(r):c!==null?(c.return=o,ee=c):y_(r);for(;i!==null;)ee=i,bP(i),i=i.sibling;ee=r,Ry=l,Nn=u}m_(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ee=i):m_(n)}}function m_(n){for(;ee!==null;){var e=ee;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nn||uw(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Nn)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Cr(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&JE(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}JE(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Op(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Nn||e.flags&512&&yx(e)}catch(f){kt(e,e.return,f)}}if(e===n){ee=null;break}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}}function g_(n){for(;ee!==null;){var e=ee;if(e===n){ee=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ee=t;break}ee=e.return}}function y_(n){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{uw(4,e)}catch(c){kt(e,t,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){kt(e,r,c)}}var i=e.return;try{yx(e)}catch(c){kt(e,i,c)}break;case 5:var o=e.return;try{yx(e)}catch(c){kt(e,o,c)}}}catch(c){kt(e,e.return,c)}if(e===n){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var PI=Math.ceil,o0=ta.ReactCurrentDispatcher,oA=ta.ReactCurrentOwner,fr=ta.ReactCurrentBatchConfig,Pe=0,nn=null,It=null,yn=0,Is=0,cd=Ul(0),Vt=0,qp=null,ku=0,dw=0,aA=0,kp=null,us=null,lA=0,ff=1/0,Ji=null,a0=!1,bx=null,Cl=null,Ny=!1,vl=null,l0=0,Tp=0,xx=null,sv=-1,rv=0;function Xn(){return Pe&6?Nt():sv!==-1?sv:sv=Nt()}function kl(n){return n.mode&1?Pe&2&&yn!==0?yn&-yn:hI.transition!==null?(rv===0&&(rv=rT()),rv):(n=Be,n!==0||(n=window.event,n=n===void 0?16:dT(n.type)),n):1}function Gr(n,e,t,s){if(50<Tp)throw Tp=0,xx=null,Error(U(185));Yg(n,t,s),(!(Pe&2)||n!==nn)&&(n===nn&&(!(Pe&2)&&(dw|=t),Vt===4&&ga(n,yn)),ps(n,s),t===1&&Pe===0&&!(e.mode&1)&&(ff=Nt()+500,aw&&Hl()))}function ps(n,e){var t=n.callbackNode;hD(n,e);var s=Wv(n,n===nn?yn:0);if(s===0)t!==null&&CE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&CE(t),e===1)n.tag===0?dI(v_.bind(null,n)):RT(v_.bind(null,n)),aI(function(){!(Pe&6)&&Hl()}),t=null;else{switch(iT(s)){case 1:t=D1;break;case 4:t=nT;break;case 16:t=Vv;break;case 536870912:t=sT;break;default:t=Vv}t=TP(t,xP.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function xP(n,e){if(sv=-1,rv=0,Pe&6)throw Error(U(327));var t=n.callbackNode;if(bd()&&n.callbackNode!==t)return null;var s=Wv(n,n===nn?yn:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=c0(n,s);else{e=s;var r=Pe;Pe|=2;var i=AP();(nn!==n||yn!==e)&&(Ji=null,ff=Nt()+500,Su(n,e));do try{MI();break}catch(l){SP(n,l)}while(!0);q1(),o0.current=i,Pe=r,It!==null?e=0:(nn=null,yn=0,e=Vt)}if(e!==0){if(e===2&&(r=Xb(n),r!==0&&(s=r,e=Sx(n,r))),e===1)throw t=qp,Su(n,0),ga(n,s),ps(n,Nt()),t;if(e===6)ga(n,s);else{if(r=n.current.alternate,!(s&30)&&!RI(r)&&(e=c0(n,s),e===2&&(i=Xb(n),i!==0&&(s=i,e=Sx(n,i))),e===1))throw t=qp,Su(n,0),ga(n,s),ps(n,Nt()),t;switch(n.finishedWork=r,n.finishedLanes=s,e){case 0:case 1:throw Error(U(345));case 2:Xl(n,us,Ji);break;case 3:if(ga(n,s),(s&130023424)===s&&(e=lA+500-Nt(),10<e)){if(Wv(n,0)!==0)break;if(r=n.suspendedLanes,(r&s)!==s){Xn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=nx(Xl.bind(null,n,us,Ji),e);break}Xl(n,us,Ji);break;case 4:if(ga(n,s),(s&4194240)===s)break;for(e=n.eventTimes,r=-1;0<s;){var o=31-Wr(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Nt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*PI(s/1960))-s,10<s){n.timeoutHandle=nx(Xl.bind(null,n,us,Ji),s);break}Xl(n,us,Ji);break;case 5:Xl(n,us,Ji);break;default:throw Error(U(329))}}}return ps(n,Nt()),n.callbackNode===t?xP.bind(null,n):null}function Sx(n,e){var t=kp;return n.current.memoizedState.isDehydrated&&(Su(n,e).flags|=256),n=c0(n,e),n!==2&&(e=us,us=t,e!==null&&Ax(e)),n}function Ax(n){us===null?us=n:us.push.apply(us,n)}function RI(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],i=r.getSnapshot;r=r.value;try{if(!qr(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(n,e){for(e&=~aA,e&=~dw,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Wr(e),s=1<<t;n[t]=-1,e&=~s}}function v_(n){if(Pe&6)throw Error(U(327));bd();var e=Wv(n,0);if(!(e&1))return ps(n,Nt()),null;var t=c0(n,e);if(n.tag!==0&&t===2){var s=Xb(n);s!==0&&(e=s,t=Sx(n,s))}if(t===1)throw t=qp,Su(n,0),ga(n,e),ps(n,Nt()),t;if(t===6)throw Error(U(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Xl(n,us,Ji),ps(n,Nt()),null}function cA(n,e){var t=Pe;Pe|=1;try{return n(e)}finally{Pe=t,Pe===0&&(ff=Nt()+500,aw&&Hl())}}function Tu(n){vl!==null&&vl.tag===0&&!(Pe&6)&&bd();var e=Pe;Pe|=1;var t=fr.transition,s=Be;try{if(fr.transition=null,Be=1,n)return n()}finally{Be=s,fr.transition=t,Pe=e,!(Pe&6)&&Hl()}}function uA(){Is=cd.current,st(cd)}function Su(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,oI(t)),It!==null)for(t=It.return;t!==null;){var s=t;switch(V1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Kv();break;case 3:df(),st(hs),st(Ln),J1();break;case 5:Z1(s);break;case 4:df();break;case 13:st(ft);break;case 19:st(ft);break;case 10:X1(s.type._context);break;case 22:case 23:uA()}t=t.return}if(nn=n,It=n=Tl(n.current,null),yn=Is=e,Vt=0,qp=null,aA=dw=ku=0,us=kp=null,nc!==null){for(e=0;e<nc.length;e++)if(t=nc[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,i=t.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}t.pending=s}nc=null}return n}function SP(n,e){do{var t=It;try{if(q1(),ev.current=i0,r0){for(var s=mt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}r0=!1}if(Cu=0,tn=Ut=mt=null,_p=!1,Vp=0,oA.current=null,t===null||t.return===null){Vt=1,qp=e,It=null;break}e:{var i=n,o=t.return,l=t,c=e;if(e=yn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=i_(o);if(p!==null){p.flags&=-257,o_(p,o,l,i,e),p.mode&1&&r_(i,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(c),e.updateQueue=m}else v.add(c);break e}else{if(!(e&1)){r_(i,u,e),dA();break e}c=Error(U(426))}}else if(lt&&l.mode&1){var b=i_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),o_(b,o,l,i,e),W1(hf(c,l));break e}}i=c=hf(c,l),Vt!==4&&(Vt=2),kp===null?kp=[i]:kp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=iP(i,c,e);ZE(i,y);break e;case 1:l=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cl===null||!Cl.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=oP(i,l,e);ZE(i,_);break e}}i=i.return}while(i!==null)}_P(t)}catch(C){e=C,It===t&&t!==null&&(It=t=t.return);continue}break}while(!0)}function AP(){var n=o0.current;return o0.current=i0,n===null?i0:n}function dA(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),nn===null||!(ku&268435455)&&!(dw&268435455)||ga(nn,yn)}function c0(n,e){var t=Pe;Pe|=2;var s=AP();(nn!==n||yn!==e)&&(Ji=null,Su(n,e));do try{NI();break}catch(r){SP(n,r)}while(!0);if(q1(),Pe=t,o0.current=s,It!==null)throw Error(U(261));return nn=null,yn=0,Vt}function NI(){for(;It!==null;)EP(It)}function MI(){for(;It!==null&&!sD();)EP(It)}function EP(n){var e=kP(n.alternate,n,Is);n.memoizedProps=n.pendingProps,e===null?_P(n):It=e,oA.current=null}function _P(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=_I(t,e),t!==null){t.flags&=32767,It=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vt=6,It=null;return}}else if(t=EI(t,e,Is),t!==null){It=t;return}if(e=e.sibling,e!==null){It=e;return}It=e=n}while(e!==null);Vt===0&&(Vt=5)}function Xl(n,e,t){var s=Be,r=fr.transition;try{fr.transition=null,Be=1,LI(n,e,t,s)}finally{fr.transition=r,Be=s}return null}function LI(n,e,t,s){do bd();while(vl!==null);if(Pe&6)throw Error(U(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(U(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(fD(n,i),n===nn&&(It=nn=null,yn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ny||(Ny=!0,TP(Vv,function(){return bd(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=fr.transition,fr.transition=null;var o=Be;Be=1;var l=Pe;Pe|=4,oA.current=null,kI(n,t),wP(t,n),JD(ex),Gv=!!Jb,ex=Jb=null,n.current=t,TI(t),rD(),Pe=l,Be=o,fr.transition=i}else n.current=t;if(Ny&&(Ny=!1,vl=n,l0=r),i=n.pendingLanes,i===0&&(Cl=null),aD(t.stateNode),ps(n,Nt()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(a0)throw a0=!1,n=bx,bx=null,n;return l0&1&&n.tag!==0&&bd(),i=n.pendingLanes,i&1?n===xx?Tp++:(Tp=0,xx=n):Tp=0,Hl(),null}function bd(){if(vl!==null){var n=iT(l0),e=fr.transition,t=Be;try{if(fr.transition=null,Be=16>n?16:n,vl===null)var s=!1;else{if(n=vl,vl=null,l0=0,Pe&6)throw Error(U(331));var r=Pe;for(Pe|=4,ee=n.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Cp(8,d,i)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(gP(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cp(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ee=y;break e}ee=i.return}}var w=n.current;for(ee=w;ee!==null;){o=ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ee=x;else e:for(o=w;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:uw(9,l)}}catch(C){kt(l,l.return,C)}if(l===o){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(Pe=r,Hl(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(nw,n)}catch{}s=!0}return s}finally{Be=t,fr.transition=e}}return!1}function w_(n,e,t){e=hf(t,e),e=iP(n,e,1),n=_l(n,e,1),e=Xn(),n!==null&&(Yg(n,1,e),ps(n,e))}function kt(n,e,t){if(n.tag===3)w_(n,n,t);else for(;e!==null;){if(e.tag===3){w_(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cl===null||!Cl.has(s))){n=hf(t,n),n=oP(e,n,1),e=_l(e,n,1),n=Xn(),e!==null&&(Yg(e,1,n),ps(e,n));break}}e=e.return}}function DI(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=Xn(),n.pingedLanes|=n.suspendedLanes&t,nn===n&&(yn&t)===t&&(Vt===4||Vt===3&&(yn&130023424)===yn&&500>Nt()-lA?Su(n,0):aA|=t),ps(n,e)}function CP(n,e){e===0&&(n.mode&1?(e=xy,xy<<=1,!(xy&130023424)&&(xy=4194304)):e=1);var t=Xn();n=Go(n,e),n!==null&&(Yg(n,e,t),ps(n,t))}function II(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),CP(n,t)}function OI(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(e),CP(n,t)}var kP;kP=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||hs.current)ds=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ds=!1,AI(n,e,t);ds=!!(n.flags&131072)}else ds=!1,lt&&e.flags&1048576&&NT(e,Jv,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;nv(n,e),n=e.pendingProps;var r=lf(e,Ln.current);wd(e,t),r=tA(null,e,s,n,r,t);var i=nA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fs(s)?(i=!0,Qv(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,K1(e),r.updater=cw,e.stateNode=r,r._reactInternals=e,cx(e,s,n,t),e=hx(null,e,s,!0,i,t)):(e.tag=0,lt&&i&&H1(e),Vn(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(nv(n,e),n=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=jI(s),n=Cr(s,n),r){case 0:e=dx(null,e,s,n,t);break e;case 1:e=c_(null,e,s,n,t);break e;case 11:e=a_(null,e,s,n,t);break e;case 14:e=l_(null,e,s,Cr(s.type,n),t);break e}throw Error(U(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Cr(s,r),dx(n,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Cr(s,r),c_(n,e,s,r,t);case 3:e:{if(uP(e),n===null)throw Error(U(387));s=e.pendingProps,i=e.memoizedState,r=i.element,FT(n,e),n0(e,s,null,t);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=hf(Error(U(423)),e),e=u_(n,e,s,t,r);break e}else if(s!==r){r=hf(Error(U(424)),e),e=u_(n,e,s,t,r);break e}else for(Bs=El(e.stateNode.containerInfo.firstChild),zs=e,lt=!0,Hr=null,t=IT(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(cf(),s===r){e=qo(n,e,t);break e}Vn(n,e,s,t)}e=e.child}return e;case 5:return jT(e),n===null&&ox(e),s=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,o=r.children,tx(s,r)?o=null:i!==null&&tx(s,i)&&(e.flags|=32),cP(n,e),Vn(n,e,o,t),e.child;case 6:return n===null&&ox(e),null;case 13:return dP(n,e,t);case 4:return Q1(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=uf(e,null,s,t):Vn(n,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Cr(s,r),a_(n,e,s,r,t);case 7:return Vn(n,e,e.pendingProps,t),e.child;case 8:return Vn(n,e,e.pendingProps.children,t),e.child;case 12:return Vn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Ze(e0,s._currentValue),s._currentValue=o,i!==null)if(qr(i.value,o)){if(i.children===r.children&&!hs.current){e=qo(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=$o(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),ax(i.return,t,e),l.lanes|=t;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),ax(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,wd(e,t),r=mr(r),s=s(r),e.flags|=1,Vn(n,e,s,t),e.child;case 14:return s=e.type,r=Cr(s,e.pendingProps),r=Cr(s.type,r),l_(n,e,s,r,t);case 15:return aP(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Cr(s,r),nv(n,e),e.tag=1,fs(s)?(n=!0,Qv(e)):n=!1,wd(e,t),rP(e,s,r),cx(e,s,r,t),hx(null,e,s,!0,n,t);case 19:return hP(n,e,t);case 22:return lP(n,e,t)}throw Error(U(156,e.tag))};function TP(n,e){return tT(n,e)}function FI(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(n,e,t,s){return new FI(n,e,t,s)}function hA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jI(n){if(typeof n=="function")return hA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===N1)return 11;if(n===M1)return 14}return 2}function Tl(n,e){var t=n.alternate;return t===null?(t=hr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function iv(n,e,t,s,r,i){var o=2;if(s=n,typeof n=="function")hA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ju:return Au(t.children,r,i,e);case R1:o=8,r|=8;break;case Lb:return n=hr(12,t,e,r|2),n.elementType=Lb,n.lanes=i,n;case Db:return n=hr(13,t,e,r),n.elementType=Db,n.lanes=i,n;case Ib:return n=hr(19,t,e,r),n.elementType=Ib,n.lanes=i,n;case jk:return hw(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ok:o=10;break e;case Fk:o=9;break e;case N1:o=11;break e;case M1:o=14;break e;case ha:o=16,s=null;break e}throw Error(U(130,n==null?n:typeof n,""))}return e=hr(o,t,e,r),e.elementType=n,e.type=s,e.lanes=i,e}function Au(n,e,t,s){return n=hr(7,n,s,e),n.lanes=t,n}function hw(n,e,t,s){return n=hr(22,n,s,e),n.elementType=jk,n.lanes=t,n.stateNode={isHidden:!1},n}function hb(n,e,t){return n=hr(6,n,null,e),n.lanes=t,n}function fb(n,e,t){return e=hr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function BI(n,e,t,s,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qw(0),this.expirationTimes=qw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qw(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function fA(n,e,t,s,r,i,o,l,c){return n=new BI(n,e,t,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hr(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},K1(i),n}function zI(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zu,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function PP(n){if(!n)return Ml;n=n._reactInternals;e:{if(Du(n)!==n||n.tag!==1)throw Error(U(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(n.tag===1){var t=n.type;if(fs(t))return PT(n,t,e)}return e}function RP(n,e,t,s,r,i,o,l,c){return n=fA(t,s,!0,n,r,i,o,l,c),n.context=PP(null),t=n.current,s=Xn(),r=kl(t),i=$o(s,r),i.callback=e??null,_l(t,i,r),n.current.lanes=r,Yg(n,r,s),ps(n,s),n}function fw(n,e,t,s){var r=e.current,i=Xn(),o=kl(r);return t=PP(t),e.context===null?e.context=t:e.pendingContext=t,e=$o(i,o),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=_l(r,e,o),n!==null&&(Gr(n,r,o,i),Jy(n,r,o)),o}function u0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function b_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function pA(n,e){b_(n,e),(n=n.alternate)&&b_(n,e)}function $I(){return null}var NP=typeof reportError=="function"?reportError:function(n){console.error(n)};function mA(n){this._internalRoot=n}pw.prototype.render=mA.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(U(409));fw(n,e,null,null)};pw.prototype.unmount=mA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Tu(function(){fw(null,n,null,null)}),e[Wo]=null}};function pw(n){this._internalRoot=n}pw.prototype.unstable_scheduleHydration=function(n){if(n){var e=lT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ma.length&&e!==0&&e<ma[t].priority;t++);ma.splice(t,0,n),t===0&&uT(n)}};function gA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function x_(){}function UI(n,e,t,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=u0(o);i.call(u)}}var o=RP(e,s,n,0,null,!1,!1,"",x_);return n._reactRootContainer=o,n[Wo]=o.current,Bp(n.nodeType===8?n.parentNode:n),Tu(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=u0(c);l.call(u)}}var c=fA(n,0,!1,null,null,!1,!1,"",x_);return n._reactRootContainer=c,n[Wo]=c.current,Bp(n.nodeType===8?n.parentNode:n),Tu(function(){fw(e,c,t,s)}),c}function gw(n,e,t,s,r){var i=t._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=u0(o);l.call(c)}}fw(e,o,n,r)}else o=UI(t,e,n,r,s);return u0(o)}oT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Yf(e.pendingLanes);t!==0&&(I1(e,t|1),ps(e,Nt()),!(Pe&6)&&(ff=Nt()+500,Hl()))}break;case 13:Tu(function(){var s=Go(n,1);if(s!==null){var r=Xn();Gr(s,n,1,r)}}),pA(n,1)}};O1=function(n){if(n.tag===13){var e=Go(n,134217728);if(e!==null){var t=Xn();Gr(e,n,134217728,t)}pA(n,134217728)}};aT=function(n){if(n.tag===13){var e=kl(n),t=Go(n,e);if(t!==null){var s=Xn();Gr(t,n,e,s)}pA(n,e)}};lT=function(){return Be};cT=function(n,e){var t=Be;try{return Be=n,e()}finally{Be=t}};Wb=function(n,e,t){switch(e){case"input":if(jb(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var r=ow(s);if(!r)throw Error(U(90));zk(s),jb(s,r)}}}break;case"textarea":Uk(n,t);break;case"select":e=t.value,e!=null&&md(n,!!t.multiple,e,!1)}};Yk=cA;Kk=Tu;var HI={usingClientEntryPoint:!1,Events:[Qg,sd,ow,qk,Xk,cA]},zf={findFiberByHostInstance:tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VI={bundleType:zf.bundleType,version:zf.version,rendererPackageName:zf.rendererPackageName,rendererConfig:zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Jk(n),n===null?null:n.stateNode},findFiberByHostInstance:zf.findFiberByHostInstance||$I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{nw=My.inject(VI),Bi=My}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HI;Gs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gA(e))throw Error(U(200));return zI(n,e,null,t)};Gs.createRoot=function(n,e){if(!gA(n))throw Error(U(299));var t=!1,s="",r=NP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=fA(n,1,!1,null,null,t,!1,s,r),n[Wo]=e.current,Bp(n.nodeType===8?n.parentNode:n),new mA(e)};Gs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(U(188)):(n=Object.keys(n).join(","),Error(U(268,n)));return n=Jk(e),n=n===null?null:n.stateNode,n};Gs.flushSync=function(n){return Tu(n)};Gs.hydrate=function(n,e,t){if(!mw(e))throw Error(U(200));return gw(null,n,e,!0,t)};Gs.hydrateRoot=function(n,e,t){if(!gA(n))throw Error(U(405));var s=t!=null&&t.hydratedSources||null,r=!1,i="",o=NP;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=RP(e,null,n,1,t??null,r,!1,i,o),n[Wo]=e.current,Bp(n),s)for(n=0;n<s.length;n++)t=s[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new pw(e)};Gs.render=function(n,e,t){if(!mw(e))throw Error(U(200));return gw(null,n,e,!1,t)};Gs.unmountComponentAtNode=function(n){if(!mw(n))throw Error(U(40));return n._reactRootContainer?(Tu(function(){gw(null,null,n,!1,function(){n._reactRootContainer=null,n[Wo]=null})}),!0):!1};Gs.unstable_batchedUpdates=cA;Gs.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!mw(t))throw Error(U(200));if(n==null||n._reactInternals===void 0)throw Error(U(38));return gw(n,e,t,!1,s)};Gs.version="18.3.1-next-f1338f8080-20240426";function MP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MP)}catch(n){console.error(n)}}MP(),Mk.exports=Gs;var Jg=Mk.exports;const LP=S1(Jg);var DP,S_=Jg;DP=S_.createRoot,S_.hydrateRoot;const WI=1,GI=1e6;let pb=0;function qI(){return pb=(pb+1)%Number.MAX_SAFE_INTEGER,pb.toString()}const mb=new Map,A_=n=>{if(mb.has(n))return;const e=setTimeout(()=>{mb.delete(n),Pp({type:"REMOVE_TOAST",toastId:n})},GI);mb.set(n,e)},XI=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,WI)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?A_(t):n.toasts.forEach(s=>{A_(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ov=[];let av={toasts:[]};function Pp(n){av=XI(av,n),ov.forEach(e=>{e(av)})}function Ex({...n}){const e=qI(),t=r=>Pp({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Pp({type:"DISMISS_TOAST",toastId:e});return Pp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:t}}function YI(){const[n,e]=k.useState(av);return k.useEffect(()=>(ov.push(e),()=>{const t=ov.indexOf(e);t>-1&&ov.splice(t,1)}),[n]),{...n,toast:Ex,dismiss:t=>Pp({type:"DISMISS_TOAST",toastId:t})}}function Ht(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function E_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function IP(...n){return e=>{let t=!1;const s=n.map(r=>{const i=E_(r,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():E_(n[r],null)}}}}function Xr(...n){return k.useCallback(IP(...n),n)}function ey(n,e=[]){let t=[];function s(i,o){const l=k.createContext(o),c=t.length;t=[...t,o];const u=h=>{var y;const{scope:f,children:p,...v}=h,m=((y=f==null?void 0:f[n])==null?void 0:y[c])||l,b=k.useMemo(()=>v,Object.values(v));return A.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[c])||l,v=k.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=t.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[n])||i;return k.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return r.scopeName=n,[s,KI(r,...e)]}function KI(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function d0(n){const e=ZI(n),t=k.forwardRef((s,r)=>{const{children:i,...o}=s,l=k.Children.toArray(i),c=l.find(eO);if(c){const u=c.props.children,d=l.map(h=>h===c?k.Children.count(u)>1?k.Children.only(null):k.isValidElement(u)?u.props.children:null:h);return A.jsx(e,{...o,ref:r,children:k.isValidElement(u)?k.cloneElement(u,void 0,d):null})}return A.jsx(e,{...o,ref:r,children:i})});return t.displayName=`${n}.Slot`,t}var QI=d0("Slot");function ZI(n){const e=k.forwardRef((t,s)=>{const{children:r,...i}=t;if(k.isValidElement(r)){const o=nO(r),l=tO(i,r.props);return r.type!==k.Fragment&&(l.ref=s?IP(s,o):o),k.cloneElement(r,l)}return k.Children.count(r)>1?k.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var OP=Symbol("radix.slottable");function JI(n){const e=({children:t})=>A.jsx(A.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=OP,e}function eO(n){return k.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===OP}function tO(n,e){const t={...e};for(const s in e){const r=n[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?t[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(t[s]=r):s==="style"?t[s]={...r,...i}:s==="className"&&(t[s]=[r,i].filter(Boolean).join(" "))}return{...n,...t}}function nO(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function sO(n){const e=n+"CollectionProvider",[t,s]=ey(e),[r,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:y}=m,w=q.useRef(null),x=q.useRef(new Map).current;return A.jsx(r,{scope:b,itemMap:x,collectionRef:w,children:y})};o.displayName=e;const l=n+"CollectionSlot",c=d0(l),u=q.forwardRef((m,b)=>{const{scope:y,children:w}=m,x=i(l,y),_=Xr(b,x.collectionRef);return A.jsx(c,{ref:_,children:w})});u.displayName=l;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=d0(d),p=q.forwardRef((m,b)=>{const{scope:y,children:w,...x}=m,_=q.useRef(null),C=Xr(b,_),T=i(d,y);return q.useEffect(()=>(T.itemMap.set(_,{ref:_,...x}),()=>void T.itemMap.delete(_))),A.jsx(f,{[h]:"",ref:C,children:w})});p.displayName=d;function v(m){const b=i(n+"CollectionConsumer",m);return q.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((T,P)=>x.indexOf(T.ref.current)-x.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,s]}var rO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=rO.reduce((n,e)=>{const t=d0(`Primitive.${e}`),s=k.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function FP(n,e){n&&Jg.flushSync(()=>n.dispatchEvent(e))}function Xo(n){const e=k.useRef(n);return k.useEffect(()=>{e.current=n}),k.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function iO(n,e=globalThis==null?void 0:globalThis.document){const t=Xo(n);k.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var oO="DismissableLayer",_x="dismissableLayer.update",aO="dismissableLayer.pointerDownOutside",lO="dismissableLayer.focusOutside",__,jP=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yA=k.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=n,u=k.useContext(jP),[d,h]=k.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=k.useState({}),v=Xr(e,P=>h(P)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(b),w=d?m.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,C=uO(P=>{const R=P.target,M=[...u.branches].some(N=>N.contains(R));!_||M||(r==null||r(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),T=dO(P=>{const R=P.target;[...u.branches].some(N=>N.contains(R))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return iO(P=>{w===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),k.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(__=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),C_(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=__)}},[d,f,t,u]),k.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),C_())},[d,u]),k.useEffect(()=>{const P=()=>p({});return document.addEventListener(_x,P),()=>document.removeEventListener(_x,P)},[]),A.jsx(wn.div,{...c,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...n.style},onFocusCapture:Ht(n.onFocusCapture,T.onFocusCapture),onBlurCapture:Ht(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ht(n.onPointerDownCapture,C.onPointerDownCapture)})});yA.displayName=oO;var cO="DismissableLayerBranch",BP=k.forwardRef((n,e)=>{const t=k.useContext(jP),s=k.useRef(null),r=Xr(e,s);return k.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),A.jsx(wn.div,{...n,ref:r})});BP.displayName=cO;function uO(n,e=globalThis==null?void 0:globalThis.document){const t=Xo(n),s=k.useRef(!1),r=k.useRef(()=>{});return k.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){zP(aO,t,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function dO(n,e=globalThis==null?void 0:globalThis.document){const t=Xo(n),s=k.useRef(!1);return k.useEffect(()=>{const r=i=>{i.target&&!s.current&&zP(lO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function C_(){const n=new CustomEvent(_x);document.dispatchEvent(n)}function zP(n,e,t,{discrete:s}){const r=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?FP(r,i):r.dispatchEvent(i)}var hO=yA,fO=BP,Yr=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},pO="Portal",$P=k.forwardRef((n,e)=>{var l;const{container:t,...s}=n,[r,i]=k.useState(!1);Yr(()=>i(!0),[]);const o=t||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?LP.createPortal(A.jsx(wn.div,{...s,ref:e}),o):null});$P.displayName=pO;function mO(n,e){return k.useReducer((t,s)=>e[t][s]??t,n)}var vA=n=>{const{present:e,children:t}=n,s=gO(e),r=typeof t=="function"?t({present:s.isPresent}):k.Children.only(t),i=Xr(s.ref,yO(r));return typeof t=="function"||s.isPresent?k.cloneElement(r,{ref:i}):null};vA.displayName="Presence";function gO(n){const[e,t]=k.useState(),s=k.useRef(null),r=k.useRef(n),i=k.useRef("none"),o=n?"mounted":"unmounted",[l,c]=mO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const u=Ly(s.current);i.current=l==="mounted"?u:"none"},[l]),Yr(()=>{const u=s.current,d=r.current;if(d!==n){const f=i.current,p=Ly(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,c]),Yr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=Ly(s.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(c("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(i.current=Ly(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(u=>{s.current=u?getComputedStyle(u):null,t(u)},[])}}function Ly(n){return(n==null?void 0:n.animationName)||"none"}function yO(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vO=Rk[" useInsertionEffect ".trim().toString()]||Yr;function wO({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,i,o]=bO({defaultProp:e,onChange:t}),l=n!==void 0,c=l?n:r;{const d=k.useRef(n!==void 0);k.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=k.useCallback(d=>{var h;if(l){const f=xO(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,n,i,o]);return[c,u]}function bO({defaultProp:n,onChange:e}){const[t,s]=k.useState(n),r=k.useRef(t),i=k.useRef(e);return vO(()=>{i.current=e},[e]),k.useEffect(()=>{var o;r.current!==t&&((o=i.current)==null||o.call(i,t),r.current=t)},[t,r]),[t,s,i]}function xO(n){return typeof n=="function"}var SO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AO="VisuallyHidden",yw=k.forwardRef((n,e)=>A.jsx(wn.span,{...n,ref:e,style:{...SO,...n.style}}));yw.displayName=AO;var EO=yw,wA="ToastProvider",[bA,_O,CO]=sO("Toast"),[UP]=ey("Toast",[CO]),[kO,vw]=UP(wA),HP=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:o}=n,[l,c]=k.useState(null),[u,d]=k.useState(0),h=k.useRef(!1),f=k.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${wA}\`. Expected non-empty \`string\`.`),A.jsx(bA.Provider,{scope:e,children:A.jsx(kO,{scope:e,label:t,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:k.useCallback(()=>d(p=>p+1),[]),onToastRemove:k.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};HP.displayName=wA;var VP="ToastViewport",TO=["F8"],Cx="toast.viewportPause",kx="toast.viewportResume",WP=k.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=TO,label:r="Notifications ({hotkey})",...i}=n,o=vw(VP,t),l=_O(t),c=k.useRef(null),u=k.useRef(null),d=k.useRef(null),h=k.useRef(null),f=Xr(e,h,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;k.useEffect(()=>{const b=y=>{var x;s.length!==0&&s.every(_=>y[_]||y.code===_)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),k.useEffect(()=>{const b=c.current,y=h.current;if(v&&b&&y){const w=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(Cx);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(kx);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!b.contains(T.relatedTarget)&&x()},C=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",w),b.addEventListener("focusout",_),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const m=k.useCallback(({tabbingDirection:b})=>{const w=l().map(x=>{const _=x.ref.current,C=[_,...$O(_)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?w.reverse():w).flat()},[l]);return k.useEffect(()=>{const b=h.current;if(b){const y=w=>{var C,T,P;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const R=document.activeElement,M=w.shiftKey;if(w.target===b&&M){(C=u.current)==null||C.focus();return}const F=m({tabbingDirection:M?"backwards":"forwards"}),$=F.findIndex(I=>I===R);gb(F.slice($+1))?w.preventDefault():M?(T=u.current)==null||T.focus():(P=d.current)==null||P.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,m]),A.jsxs(fO,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&A.jsx(Tx,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});gb(b)}}),A.jsx(bA.Slot,{scope:t,children:A.jsx(wn.ol,{tabIndex:-1,...i,ref:f})}),v&&A.jsx(Tx,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});gb(b)}})]})});WP.displayName=VP;var GP="ToastFocusProxy",Tx=k.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...r}=n,i=vw(GP,t);return A.jsx(yw,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});Tx.displayName=GP;var ty="Toast",PO="toast.swipeStart",RO="toast.swipeMove",NO="toast.swipeCancel",MO="toast.swipeEnd",qP=k.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:r,onOpenChange:i,...o}=n,[l,c]=wO({prop:s,defaultProp:r??!0,onChange:i,caller:ty});return A.jsx(vA,{present:t||l,children:A.jsx(IO,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Xo(n.onPause),onResume:Xo(n.onResume),onSwipeStart:Ht(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ht(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ht(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ht(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});qP.displayName=ty;var[LO,DO]=UP(ty,{onClose(){}}),IO=k.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:r,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=n,m=vw(ty,t),[b,y]=k.useState(null),w=Xr(e,I=>y(I)),x=k.useRef(null),_=k.useRef(null),C=r||m.duration,T=k.useRef(0),P=k.useRef(C),R=k.useRef(0),{onToastAdd:M,onToastRemove:N}=m,D=Xo(()=>{var G;(b==null?void 0:b.contains(document.activeElement))&&((G=m.viewport)==null||G.focus()),o()}),F=k.useCallback(I=>{!I||I===1/0||(window.clearTimeout(R.current),T.current=new Date().getTime(),R.current=window.setTimeout(D,I))},[D]);k.useEffect(()=>{const I=m.viewport;if(I){const G=()=>{F(P.current),u==null||u()},j=()=>{const B=new Date().getTime()-T.current;P.current=P.current-B,window.clearTimeout(R.current),c==null||c()};return I.addEventListener(Cx,j),I.addEventListener(kx,G),()=>{I.removeEventListener(Cx,j),I.removeEventListener(kx,G)}}},[m.viewport,C,c,u,F]),k.useEffect(()=>{i&&!m.isClosePausedRef.current&&F(C)},[i,C,m.isClosePausedRef,F]),k.useEffect(()=>(M(),()=>N()),[M,N]);const $=k.useMemo(()=>b?eR(b):null,[b]);return m.viewport?A.jsxs(A.Fragment,{children:[$&&A.jsx(OO,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:$}),A.jsx(LO,{scope:t,onClose:D,children:Jg.createPortal(A.jsx(bA.ItemSlot,{scope:t,children:A.jsx(hO,{asChild:!0,onEscapeKeyDown:Ht(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||D(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:A.jsx(wn.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ht(n.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ht(n.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ht(n.onPointerMove,I=>{if(!x.current)return;const G=I.clientX-x.current.x,j=I.clientY-x.current.y,B=!!_.current,L=["left","right"].includes(m.swipeDirection),O=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=L?O(0,G):0,oe=L?0:O(0,j),W=I.pointerType==="touch"?10:2,Y={x:V,y:oe},ae={originalEvent:I,delta:Y};B?(_.current=Y,Dy(RO,h,ae,{discrete:!1})):k_(Y,m.swipeDirection,W)?(_.current=Y,Dy(PO,d,ae,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(G)>W||Math.abs(j)>W)&&(x.current=null)}),onPointerUp:Ht(n.onPointerUp,I=>{const G=_.current,j=I.target;if(j.hasPointerCapture(I.pointerId)&&j.releasePointerCapture(I.pointerId),_.current=null,x.current=null,G){const B=I.currentTarget,L={originalEvent:I,delta:G};k_(G,m.swipeDirection,m.swipeThreshold)?Dy(MO,p,L,{discrete:!0}):Dy(NO,f,L,{discrete:!0}),B.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),OO=n=>{const{__scopeToast:e,children:t,...s}=n,r=vw(ty,e),[i,o]=k.useState(!1),[l,c]=k.useState(!1);return BO(()=>o(!0)),k.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:A.jsx($P,{asChild:!0,children:A.jsx(yw,{...s,children:i&&A.jsxs(A.Fragment,{children:[r.label," ",t]})})})},FO="ToastTitle",XP=k.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return A.jsx(wn.div,{...s,ref:e})});XP.displayName=FO;var jO="ToastDescription",YP=k.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return A.jsx(wn.div,{...s,ref:e})});YP.displayName=jO;var KP="ToastAction",QP=k.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?A.jsx(JP,{altText:t,asChild:!0,children:A.jsx(xA,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KP}\`. Expected non-empty \`string\`.`),null)});QP.displayName=KP;var ZP="ToastClose",xA=k.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,r=DO(ZP,t);return A.jsx(JP,{asChild:!0,children:A.jsx(wn.button,{type:"button",...s,ref:e,onClick:Ht(n.onClick,r.onClose)})})});xA.displayName=ZP;var JP=k.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...r}=n;return A.jsx(wn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function eR(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),zO(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...eR(s))}}),e}function Dy(n,e,t,{discrete:s}){const r=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?FP(r,i):r.dispatchEvent(i)}var k_=(n,e,t=0)=>{const s=Math.abs(n.x),r=Math.abs(n.y),i=s>r;return e==="left"||e==="right"?i&&s>t:!i&&r>t};function BO(n=()=>{}){const e=Xo(n);Yr(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function zO(n){return n.nodeType===n.ELEMENT_NODE}function $O(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function gb(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var UO=HP,tR=WP,nR=qP,sR=XP,rR=YP,iR=QP,oR=xA;function aR(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=aR(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function kf(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=aR(n))&&(s&&(s+=" "),s+=e);return s}const T_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,P_=kf,SA=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return P_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const f=T_(d)||T_(h);return r[u][f]}),l=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(v=>{let[m,b]=v;return Array.isArray(b)?b.includes({...i,...l}[m]):{...i,...l}[m]===b})?[...u,h,f]:u},[]);return P_(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lR=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=k.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},c)=>k.createElement("svg",{ref:c,...VO,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:lR("lucide",r),...l},[...o.map(([u,d])=>k.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=(n,e)=>{const t=k.forwardRef(({className:s,...r},i)=>k.createElement(WO,{ref:i,iconNode:e,className:lR(`lucide-${HO(n)}`,s),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Dn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Dn("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Dn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Dn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Dn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Dn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Dn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Dn("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Dn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Dn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Dn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Dn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Dn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Dn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Dn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Dn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AA="-",nF=n=>{const e=rF(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:o=>{const l=o.split(AA);return l[0]===""&&l.length!==1&&l.shift(),dR(l,e)||sF(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},dR=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?dR(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=n.join(AA);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},M_=/^\[(.+)\]$/,sF=n=>{if(M_.test(n)){const e=M_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},rF=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return oF(Object.entries(n.classGroups),t).forEach(([i,o])=>{Rx(o,s,i,e)}),s},Rx=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const i=r===""?e:L_(e,r);i.classGroupId=t;return}if(typeof r=="function"){if(iF(r)){Rx(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([i,o])=>{Rx(o,L_(e,i),t,s)})})},L_=(n,e)=>{let t=n;return e.split(AA).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},iF=n=>n.isThemeGetter,oF=(n,e)=>e?n.map(([t,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[t,r]}):n,aF=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){t.has(i)?t.set(i,o):r(i,o)}}},hR="!",lF=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===r&&(s||l.slice(b,b+i)===e)){c.push(l.slice(d,b)),d=b+i;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(hR),v=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return t?l=>t({className:l,parseClassName:o}):o},cF=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},uF=n=>({cache:aF(n.cacheSize),parseClassName:lF(n),...nF(n)}),dF=/\s+/,hF=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=n.trim().split(dF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let v=!!p,m=s(v?f.substring(0,p):f);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=s(f),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=cF(d).join(":"),y=h?b+hR:b,w=y+m;if(i.includes(w))continue;i.push(w);const x=r(m,v);for(let _=0;_<x.length;++_){const C=x[_];i.push(y+C)}l=u+(l.length>0?" "+l:l)}return l};function fF(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=fR(e))&&(s&&(s+=" "),s+=t);return s}const fR=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=fR(n[s]))&&(t&&(t+=" "),t+=e);return t};function pF(n,...e){let t,s,r,i=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=uF(u),s=t.cache.get,r=t.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=hF(c,t);return r(c,d),d}return function(){return i(fF.apply(null,arguments))}}const et=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},pR=/^\[(?:([a-z-]+):)?(.+)\]$/i,mF=/^\d+\/\d+$/,gF=new Set(["px","full","screen"]),yF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xi=n=>xd(n)||gF.has(n)||mF.test(n),la=n=>Tf(n,"length",PF),xd=n=>!!n&&!Number.isNaN(Number(n)),yb=n=>Tf(n,"number",xd),$f=n=>!!n&&Number.isInteger(Number(n)),SF=n=>n.endsWith("%")&&xd(n.slice(0,-1)),ge=n=>pR.test(n),ca=n=>yF.test(n),AF=new Set(["length","size","percentage"]),EF=n=>Tf(n,AF,mR),_F=n=>Tf(n,"position",mR),CF=new Set(["image","url"]),kF=n=>Tf(n,CF,NF),TF=n=>Tf(n,"",RF),Uf=()=>!0,Tf=(n,e,t)=>{const s=pR.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},PF=n=>vF.test(n)&&!wF.test(n),mR=()=>!1,RF=n=>bF.test(n),NF=n=>xF.test(n),MF=()=>{const n=et("colors"),e=et("spacing"),t=et("blur"),s=et("brightness"),r=et("borderColor"),i=et("borderRadius"),o=et("borderSpacing"),l=et("borderWidth"),c=et("contrast"),u=et("grayscale"),d=et("hueRotate"),h=et("invert"),f=et("gap"),p=et("gradientColorStops"),v=et("gradientColorStopPositions"),m=et("inset"),b=et("margin"),y=et("opacity"),w=et("padding"),x=et("saturate"),_=et("scale"),C=et("sepia"),T=et("skew"),P=et("space"),R=et("translate"),M=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ge,e],F=()=>[ge,e],$=()=>["",Xi,la],I=()=>["auto",xd,ge],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ge],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[xd,ge];return{cacheSize:500,separator:":",theme:{colors:[Uf],spacing:[Xi,la],blur:["none","",ca,ge],brightness:oe(),borderColor:[n],borderRadius:["none","","full",ca,ge],borderSpacing:F(),borderWidth:$(),contrast:oe(),grayscale:O(),hueRotate:oe(),invert:O(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[SF,la],inset:D(),margin:D(),opacity:oe(),padding:F(),saturate:oe(),scale:oe(),sepia:O(),skew:oe(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ca]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ge]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$f,ge]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",$f,ge]}],"grid-cols":[{"grid-cols":[Uf]}],"col-start-end":[{col:["auto",{span:["full",$f,ge]},ge]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Uf]}],"row-start-end":[{row:["auto",{span:[$f,ge]},ge]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[ca]},ca]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ca,la]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yb]}],"font-family":[{font:[Uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",xd,yb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xi,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xi,la]}],"underline-offset":[{"underline-offset":["auto",Xi,ge]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),_F]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kF]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Xi,ge]}],"outline-w":[{outline:[Xi,la]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Xi,la]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ca,TF]}],"shadow-color":[{shadow:[Uf]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ca,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[$f,ge]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xi,la,yb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LF=pF(MF);function jt(...n){return LF(kf(n))}const DF=UO,gR=k.forwardRef(({className:n,...e},t)=>A.jsx(tR,{ref:t,className:jt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));gR.displayName=tR.displayName;const IF=SA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yR=k.forwardRef(({className:n,variant:e,...t},s)=>A.jsx(nR,{ref:s,className:jt(IF({variant:e}),n),...t}));yR.displayName=nR.displayName;const OF=k.forwardRef(({className:n,...e},t)=>A.jsx(iR,{ref:t,className:jt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));OF.displayName=iR.displayName;const vR=k.forwardRef(({className:n,...e},t)=>A.jsx(oR,{ref:t,className:jt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:A.jsx(uR,{className:"h-4 w-4"})}));vR.displayName=oR.displayName;const wR=k.forwardRef(({className:n,...e},t)=>A.jsx(sR,{ref:t,className:jt("text-sm font-semibold",n),...e}));wR.displayName=sR.displayName;const bR=k.forwardRef(({className:n,...e},t)=>A.jsx(rR,{ref:t,className:jt("text-sm opacity-90",n),...e}));bR.displayName=rR.displayName;function FF(){const{toasts:n}=YI();return A.jsxs(DF,{children:[n.map(function({id:e,title:t,description:s,action:r,...i}){return A.jsxs(yR,{...i,children:[A.jsxs("div",{className:"grid gap-1",children:[t&&A.jsx(wR,{children:t}),s&&A.jsx(bR,{children:s})]}),r,A.jsx(vR,{})]},e)}),A.jsx(gR,{})]})}var D_=["light","dark"],jF="(prefers-color-scheme: dark)",BF=k.createContext(void 0),zF={setTheme:n=>{},themes:[]},$F=()=>{var n;return(n=k.useContext(BF))!=null?n:zF};k.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=r?D_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,m=!1,b=!0)=>{let y=o?o[v]:v,w=m?v+"|| ''":`'${y}'`,x="";return r&&b&&!m&&D_.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),t==="class"?m||y?x+=`c.add(${w})`:x+="null":y&&(x+=`d[s](n,${w})`),x},p=n?`!function(){${d}${f(n)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${jF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return k.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var UF=n=>{switch(n){case"success":return WF;case"info":return qF;case"warning":return GF;case"error":return XF;default:return null}},HF=Array(12).fill(0),VF=({visible:n,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},q.createElement("div",{className:"sonner-spinner"},HF.map((t,s)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),WF=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GF=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qF=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XF=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YF=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KF=()=>{let[n,e]=q.useState(document.hidden);return q.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Nx=1,QF=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...s}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Nx++,i=this.toasts.find(l=>l.id===r),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...n,id:r,title:t}),{...l,...n,id:r,dismissible:o,title:t}):l):this.addToast({title:t,...s,dismissible:o,id:r}),r},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=n instanceof Promise?n:n(),r=t!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],q.isValidElement(c))r=!1,this.create({id:t,type:"default",message:c});else if(JF(c)&&!c.ok){r=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){r=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){r=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var c;r&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:l}:Object.assign(t,{unwrap:l})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||Nx++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ls=new QF,ZF=(n,e)=>{let t=(e==null?void 0:e.id)||Nx++;return ls.addToast({title:n,...e,id:t}),t},JF=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",ej=ZF,tj=()=>ls.toasts,nj=()=>ls.getActiveToasts();Object.assign(ej,{success:ls.success,info:ls.info,warning:ls.warning,error:ls.error,custom:ls.custom,message:ls.message,promise:ls.promise,dismiss:ls.dismiss,loading:ls.loading},{getHistory:tj,getToasts:nj});function sj(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}sj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Iy(n){return n.label!==void 0}var rj=3,ij="32px",oj="16px",I_=4e3,aj=356,lj=14,cj=20,uj=200;function Ar(...n){return n.filter(Boolean).join(" ")}function dj(n){let[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var hj=n=>{var e,t,s,r,i,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:v,interacting:m,setHeights:b,visibleToasts:y,heights:w,index:x,toasts:_,expanded:C,removeToast:T,defaultRichColors:P,closeButton:R,style:M,cancelButtonStyle:N,actionButtonStyle:D,className:F="",descriptionClassName:$="",duration:I,position:G,gap:j,loadingIcon:B,expandByDefault:L,classNames:O,icons:V,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:W}=n,[Y,ae]=q.useState(null),[xe,Te]=q.useState(null),[ie,In]=q.useState(!1),[vt,Ce]=q.useState(!1),[wt,bn]=q.useState(!1),[be,Oe]=q.useState(!1),[ct,ut]=q.useState(!1),[ei,vr]=q.useState(0),[ti,py]=q.useState(0),ni=q.useRef(p.duration||I||I_),my=q.useRef(null),qi=q.useRef(null),Fw=x===0,jw=x+1<=y,Zn=p.type,On=p.dismissible!==!1,na=p.className||"",si=p.descriptionClassName||"",sa=q.useMemo(()=>w.findIndex(fe=>fe.toastId===p.id)||0,[w,p.id]),hL=q.useMemo(()=>{var fe;return(fe=p.closeButton)!=null?fe:R},[p.closeButton,R]),cE=q.useMemo(()=>p.duration||I||I_,[p.duration,I]),Bw=q.useRef(0),Bu=q.useRef(0),uE=q.useRef(0),zu=q.useRef(null),[fL,pL]=G.split("-"),dE=q.useMemo(()=>w.reduce((fe,ze,rt)=>rt>=sa?fe:fe+ze.height,0),[w,sa]),hE=KF(),mL=p.invert||f,zw=Zn==="loading";Bu.current=q.useMemo(()=>sa*j+dE,[sa,dE]),q.useEffect(()=>{ni.current=cE},[cE]),q.useEffect(()=>{In(!0)},[]),q.useEffect(()=>{let fe=qi.current;if(fe){let ze=fe.getBoundingClientRect().height;return py(ze),b(rt=>[{toastId:p.id,height:ze,position:p.position},...rt]),()=>b(rt=>rt.filter(wr=>wr.toastId!==p.id))}},[b,p.id]),q.useLayoutEffect(()=>{if(!ie)return;let fe=qi.current,ze=fe.style.height;fe.style.height="auto";let rt=fe.getBoundingClientRect().height;fe.style.height=ze,py(rt),b(wr=>wr.find(br=>br.toastId===p.id)?wr.map(br=>br.toastId===p.id?{...br,height:rt}:br):[{toastId:p.id,height:rt,position:p.position},...wr])},[ie,p.title,p.description,b,p.id]);let ra=q.useCallback(()=>{Ce(!0),vr(Bu.current),b(fe=>fe.filter(ze=>ze.toastId!==p.id)),setTimeout(()=>{T(p)},uj)},[p,T,b,Bu]);q.useEffect(()=>{if(p.promise&&Zn==="loading"||p.duration===1/0||p.type==="loading")return;let fe;return C||m||W&&hE?(()=>{if(uE.current<Bw.current){let ze=new Date().getTime()-Bw.current;ni.current=ni.current-ze}uE.current=new Date().getTime()})():ni.current!==1/0&&(Bw.current=new Date().getTime(),fe=setTimeout(()=>{var ze;(ze=p.onAutoClose)==null||ze.call(p,p),ra()},ni.current)),()=>clearTimeout(fe)},[C,m,p,Zn,W,hE,ra]),q.useEffect(()=>{p.delete&&ra()},[ra,p.delete]);function gL(){var fe,ze,rt;return V!=null&&V.loading?q.createElement("div",{className:Ar(O==null?void 0:O.loader,(fe=p==null?void 0:p.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":Zn==="loading"},V.loading):B?q.createElement("div",{className:Ar(O==null?void 0:O.loader,(ze=p==null?void 0:p.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":Zn==="loading"},B):q.createElement(VF,{className:Ar(O==null?void 0:O.loader,(rt=p==null?void 0:p.classNames)==null?void 0:rt.loader),visible:Zn==="loading"})}return q.createElement("li",{tabIndex:0,ref:qi,className:Ar(F,na,O==null?void 0:O.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[Zn],(t=p==null?void 0:p.classNames)==null?void 0:t[Zn]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:P,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":ie,"data-promise":!!p.promise,"data-swiped":ct,"data-removed":vt,"data-visible":jw,"data-y-position":fL,"data-x-position":pL,"data-index":x,"data-front":Fw,"data-swiping":wt,"data-dismissible":On,"data-type":Zn,"data-invert":mL,"data-swipe-out":be,"data-swipe-direction":xe,"data-expanded":!!(C||L&&ie),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${vt?ei:Bu.current}px`,"--initial-height":L?"auto":`${ti}px`,...M,...p.style},onDragEnd:()=>{bn(!1),ae(null),zu.current=null},onPointerDown:fe=>{zw||!On||(my.current=new Date,vr(Bu.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(bn(!0),zu.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,ze,rt,wr;if(be||!On)return;zu.current=null;let br=Number(((fe=qi.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ia=Number(((ze=qi.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wl=new Date().getTime()-((rt=my.current)==null?void 0:rt.getTime()),xr=Y==="x"?br:ia,oa=Math.abs(xr)/Wl;if(Math.abs(xr)>=cj||oa>.11){vr(Bu.current),(wr=p.onDismiss)==null||wr.call(p,p),Te(Y==="x"?br>0?"right":"left":ia>0?"down":"up"),ra(),Oe(!0),ut(!1);return}bn(!1),ae(null)},onPointerMove:fe=>{var ze,rt,wr,br;if(!zu.current||!On||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let ia=fe.clientY-zu.current.y,Wl=fe.clientX-zu.current.x,xr=(rt=n.swipeDirections)!=null?rt:dj(G);!Y&&(Math.abs(Wl)>1||Math.abs(ia)>1)&&ae(Math.abs(Wl)>Math.abs(ia)?"x":"y");let oa={x:0,y:0};Y==="y"?(xr.includes("top")||xr.includes("bottom"))&&(xr.includes("top")&&ia<0||xr.includes("bottom")&&ia>0)&&(oa.y=ia):Y==="x"&&(xr.includes("left")||xr.includes("right"))&&(xr.includes("left")&&Wl<0||xr.includes("right")&&Wl>0)&&(oa.x=Wl),(Math.abs(oa.x)>0||Math.abs(oa.y)>0)&&ut(!0),(wr=qi.current)==null||wr.style.setProperty("--swipe-amount-x",`${oa.x}px`),(br=qi.current)==null||br.style.setProperty("--swipe-amount-y",`${oa.y}px`)}},hL&&!p.jsx?q.createElement("button",{"aria-label":oe,"data-disabled":zw,"data-close-button":!0,onClick:zw||!On?()=>{}:()=>{var fe;ra(),(fe=p.onDismiss)==null||fe.call(p,p)},className:Ar(O==null?void 0:O.closeButton,(r=p==null?void 0:p.classNames)==null?void 0:r.closeButton)},(i=V==null?void 0:V.close)!=null?i:YF):null,p.jsx||k.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:q.createElement(q.Fragment,null,Zn||p.icon||p.promise?q.createElement("div",{"data-icon":"",className:Ar(O==null?void 0:O.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||gL():null,p.type!=="loading"?p.icon||(V==null?void 0:V[Zn])||UF(Zn):null):null,q.createElement("div",{"data-content":"",className:Ar(O==null?void 0:O.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:Ar(O==null?void 0:O.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:Ar($,si,O==null?void 0:O.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),k.isValidElement(p.cancel)?p.cancel:p.cancel&&Iy(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:fe=>{var ze,rt;Iy(p.cancel)&&On&&((rt=(ze=p.cancel).onClick)==null||rt.call(ze,fe),ra())},className:Ar(O==null?void 0:O.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,k.isValidElement(p.action)?p.action:p.action&&Iy(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:fe=>{var ze,rt;Iy(p.action)&&((rt=(ze=p.action).onClick)==null||rt.call(ze,fe),!fe.defaultPrevented&&ra())},className:Ar(O==null?void 0:O.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function O_(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function fj(n,e){let t={};return[n,e].forEach((s,r)=>{let i=r===1,o=i?"--mobile-offset":"--offset",l=i?oj:ij;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?t[`${o}-${u}`]=l:t[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),t}var pj=k.forwardRef(function(n,e){let{invert:t,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:v=rj,toastOptions:m,dir:b=O_(),gap:y=lj,loadingIcon:w,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=n,[T,P]=q.useState([]),R=q.useMemo(()=>Array.from(new Set([s].concat(T.filter(W=>W.position).map(W=>W.position)))),[T,s]),[M,N]=q.useState([]),[D,F]=q.useState(!1),[$,I]=q.useState(!1),[G,j]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=q.useRef(null),L=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=q.useRef(null),V=q.useRef(!1),oe=q.useCallback(W=>{P(Y=>{var ae;return(ae=Y.find(xe=>xe.id===W.id))!=null&&ae.delete||ls.dismiss(W.id),Y.filter(({id:xe})=>xe!==W.id)})},[]);return q.useEffect(()=>ls.subscribe(W=>{if(W.dismiss){P(Y=>Y.map(ae=>ae.id===W.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{LP.flushSync(()=>{P(Y=>{let ae=Y.findIndex(xe=>xe.id===W.id);return ae!==-1?[...Y.slice(0,ae),{...Y[ae],...W},...Y.slice(ae+1)]:[W,...Y]})})})}),[]),q.useEffect(()=>{if(d!=="system"){j(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:Y})=>{j(Y?"dark":"light")})}catch{W.addListener(({matches:ae})=>{try{j(ae?"dark":"light")}catch(xe){console.error(xe)}})}},[d]),q.useEffect(()=>{T.length<=1&&F(!1)},[T]),q.useEffect(()=>{let W=Y=>{var ae,xe;r.every(Te=>Y[Te]||Y.code===Te)&&(F(!0),(ae=B.current)==null||ae.focus()),Y.code==="Escape"&&(document.activeElement===B.current||(xe=B.current)!=null&&xe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),q.useEffect(()=>{if(B.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,V.current=!1)}},[B.current]),q.createElement("section",{ref:e,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((W,Y)=>{var ae;let[xe,Te]=W.split("-");return T.length?q.createElement("ol",{key:W,dir:b==="auto"?O_():b,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":xe,"data-lifted":D&&T.length>1&&!i,"data-x-position":Te,style:{"--front-toast-height":`${((ae=M[0])==null?void 0:ae.height)||0}px`,"--width":`${aj}px`,"--gap":`${y}px`,...p,...fj(c,u)},onBlur:ie=>{V.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(V.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||V.current||(V.current=!0,O.current=ie.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{$||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},T.filter(ie=>!ie.position&&Y===0||ie.position===W).map((ie,In)=>{var vt,Ce;return q.createElement(hj,{key:ie.id,icons:x,index:In,toast:ie,defaultRichColors:h,duration:(vt=m==null?void 0:m.duration)!=null?vt:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:v,closeButton:(Ce=m==null?void 0:m.closeButton)!=null?Ce:o,interacting:$,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:oe,toasts:T.filter(wt=>wt.position==ie.position),heights:M.filter(wt=>wt.position==ie.position),setHeights:N,expandByDefault:i,gap:y,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:n.swipeDirections})})):null}))});const mj=({...n})=>{const{theme:e="system"}=$F();return A.jsx(pj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},gj=["top","right","bottom","left"],Ll=Math.min,Fs=Math.max,f0=Math.round,Oy=Math.floor,$i=n=>({x:n,y:n}),yj={left:"right",right:"left",bottom:"top",top:"bottom"},vj={start:"end",end:"start"};function Mx(n,e,t){return Fs(n,Ll(e,t))}function Yo(n,e){return typeof n=="function"?n(e):n}function Ko(n){return n.split("-")[0]}function Pf(n){return n.split("-")[1]}function EA(n){return n==="x"?"y":"x"}function _A(n){return n==="y"?"height":"width"}const wj=new Set(["top","bottom"]);function ji(n){return wj.has(Ko(n))?"y":"x"}function CA(n){return EA(ji(n))}function bj(n,e,t){t===void 0&&(t=!1);const s=Pf(n),r=CA(n),i=_A(r);let o=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=p0(o)),[o,p0(o)]}function xj(n){const e=p0(n);return[Lx(n),e,Lx(e)]}function Lx(n){return n.replace(/start|end/g,e=>vj[e])}const F_=["left","right"],j_=["right","left"],Sj=["top","bottom"],Aj=["bottom","top"];function Ej(n,e,t){switch(n){case"top":case"bottom":return t?e?j_:F_:e?F_:j_;case"left":case"right":return e?Sj:Aj;default:return[]}}function _j(n,e,t,s){const r=Pf(n);let i=Ej(Ko(n),t==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(Lx)))),i}function p0(n){return n.replace(/left|right|bottom|top/g,e=>yj[e])}function Cj(n){return{top:0,right:0,bottom:0,left:0,...n}}function xR(n){return typeof n!="number"?Cj(n):{top:n,right:n,bottom:n,left:n}}function m0(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function B_(n,e,t){let{reference:s,floating:r}=n;const i=ji(e),o=CA(e),l=_A(o),c=Ko(e),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[l]/2-r[l]/2;let p;switch(c){case"top":p={x:d,y:s.y-r.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-r.width,y:h};break;default:p={x:s.x,y:s.y}}switch(Pf(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const kj=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=B_(u,s,c),f=s,p={},v=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:w,y:x,data:_,reset:C}=await y({x:d,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=w??d,h=x??h,p={...p,[b]:{...p[b],..._}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):C.rects),{x:d,y:h}=B_(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:p}};async function Xp(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Yo(e,n),v=xR(p),b=l[f?h==="floating"?"reference":"floating":h],y=m0(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(b)))==null||t?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=m0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:x,strategy:c}):w);return{top:(y.top-C.top+v.top)/_.y,bottom:(C.bottom-y.bottom+v.bottom)/_.y,left:(y.left-C.left+v.left)/_.x,right:(C.right-y.right+v.right)/_.x}}const Tj=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Yo(n,e)||{};if(u==null)return{};const h=xR(d),f={x:t,y:s},p=CA(r),v=_A(p),m=await o.getDimensions(u),b=p==="y",y=b?"top":"left",w=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[p]-f[p]-i.floating[v],C=f[p]-i.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=T?T[x]:0;(!P||!await(o.isElement==null?void 0:o.isElement(T)))&&(P=l.floating[x]||i.floating[v]);const R=_/2-C/2,M=P/2-m[v]/2-1,N=Ll(h[y],M),D=Ll(h[w],M),F=N,$=P-m[v]-D,I=P/2-m[v]/2+R,G=Mx(F,I,$),j=!c.arrow&&Pf(r)!=null&&I!==G&&i.reference[v]/2-(I<F?N:D)-m[v]/2<0,B=j?I<F?I-F:I-$:0;return{[p]:f[p]+B,data:{[p]:G,centerOffset:I-G-B,...j&&{alignmentOffset:B}},reset:j}}}),Pj=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...b}=Yo(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const y=Ko(r),w=ji(l),x=Ko(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=f||(x||!m?[p0(l)]:xj(l)),T=v!=="none";!f&&T&&C.push(..._j(l,m,v,_));const P=[l,...C],R=await Xp(e,b),M=[];let N=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&M.push(R[y]),h){const I=bj(r,o,_);M.push(R[I[0]],R[I[1]])}if(N=[...N,{placement:r,overflows:M}],!M.every(I=>I<=0)){var D,F;const I=(((D=i.flip)==null?void 0:D.index)||0)+1,G=P[I];if(G&&(!(h==="alignment"?w!==ji(G):!1)||N.every(L=>ji(L.placement)===w?L.overflows[0]>0:!0)))return{data:{index:I,overflows:N},reset:{placement:G}};let j=(F=N.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:F.placement;if(!j)switch(p){case"bestFit":{var $;const B=($=N.filter(L=>{if(T){const O=ji(L.placement);return O===w||O==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(O=>O>0).reduce((O,V)=>O+V,0)]).sort((L,O)=>L[1]-O[1])[0])==null?void 0:$[0];B&&(j=B);break}case"initialPlacement":j=l;break}if(r!==j)return{reset:{placement:j}}}return{}}}};function z_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function $_(n){return gj.some(e=>n[e]>=0)}const Rj=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=Yo(n,e);switch(s){case"referenceHidden":{const i=await Xp(e,{...r,elementContext:"reference"}),o=z_(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$_(o)}}}case"escaped":{const i=await Xp(e,{...r,altBoundary:!0}),o=z_(i,t.floating);return{data:{escapedOffsets:o,escaped:$_(o)}}}default:return{}}}}},SR=new Set(["left","top"]);async function Nj(n,e){const{placement:t,platform:s,elements:r}=n,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Ko(t),l=Pf(t),c=ji(t)==="y",u=SR.has(o)?-1:1,d=i&&c?-1:1,h=Yo(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const Mj=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:i,placement:o,middlewareData:l}=e,c=await Nj(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},Lj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=Yo(n,e),u={x:t,y:s},d=await Xp(e,c),h=ji(Ko(r)),f=EA(h);let p=u[f],v=u[h];if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=p+d[b],x=p-d[y];p=Mx(w,p,x)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=v+d[b],x=v-d[y];v=Mx(w,v,x)}const m=l.fn({...e,[f]:p,[h]:v});return{...m,data:{x:m.x-t,y:m.y-s,enabled:{[f]:i,[h]:o}}}}}},Dj=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yo(n,e),d={x:t,y:s},h=ji(r),f=EA(h);let p=d[f],v=d[h];const m=Yo(l,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=f==="y"?"height":"width",_=i.reference[f]-i.floating[x]+b.mainAxis,C=i.reference[f]+i.reference[x]-b.mainAxis;p<_?p=_:p>C&&(p=C)}if(u){var y,w;const x=f==="y"?"width":"height",_=SR.has(Ko(r)),C=i.reference[h]-i.floating[x]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:b.crossAxis),T=i.reference[h]+i.reference[x]+(_?0:((w=o.offset)==null?void 0:w[h])||0)-(_?b.crossAxis:0);v<C?v=C:v>T&&(v=T)}return{[f]:p,[h]:v}}}},Ij=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Yo(n,e),d=await Xp(e,u),h=Ko(r),f=Pf(r),p=ji(r)==="y",{width:v,height:m}=i.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=f==="end"?"top":"bottom");const w=m-d.top-d.bottom,x=v-d.left-d.right,_=Ll(m-d[b],w),C=Ll(v-d[y],x),T=!e.middlewareData.shift;let P=_,R=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=x),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(P=w),T&&!f){const N=Fs(d.left,0),D=Fs(d.right,0),F=Fs(d.top,0),$=Fs(d.bottom,0);p?R=v-2*(N!==0||D!==0?N+D:Fs(d.left,d.right)):P=m-2*(F!==0||$!==0?F+$:Fs(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:P});const M=await o.getDimensions(l.floating);return v!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function ww(){return typeof window<"u"}function Rf(n){return AR(n)?(n.nodeName||"").toLowerCase():"#document"}function $s(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Gi(n){var e;return(e=(AR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function AR(n){return ww()?n instanceof Node||n instanceof $s(n).Node:!1}function Kr(n){return ww()?n instanceof Element||n instanceof $s(n).Element:!1}function Hi(n){return ww()?n instanceof HTMLElement||n instanceof $s(n).HTMLElement:!1}function U_(n){return!ww()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $s(n).ShadowRoot}const Oj=new Set(["inline","contents"]);function ny(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=Qr(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!Oj.has(r)}const Fj=new Set(["table","td","th"]);function jj(n){return Fj.has(Rf(n))}const Bj=[":popover-open",":modal"];function bw(n){return Bj.some(e=>{try{return n.matches(e)}catch{return!1}})}const zj=["transform","translate","scale","rotate","perspective"],$j=["transform","translate","scale","rotate","perspective","filter"],Uj=["paint","layout","strict","content"];function kA(n){const e=TA(),t=Kr(n)?Qr(n):n;return zj.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||$j.some(s=>(t.willChange||"").includes(s))||Uj.some(s=>(t.contain||"").includes(s))}function Hj(n){let e=Dl(n);for(;Hi(e)&&!pf(e);){if(kA(e))return e;if(bw(e))return null;e=Dl(e)}return null}function TA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vj=new Set(["html","body","#document"]);function pf(n){return Vj.has(Rf(n))}function Qr(n){return $s(n).getComputedStyle(n)}function xw(n){return Kr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Dl(n){if(Rf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||U_(n)&&n.host||Gi(n);return U_(e)?e.host:e}function ER(n){const e=Dl(n);return pf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Hi(e)&&ny(e)?e:ER(e)}function Yp(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=ER(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),o=$s(r);if(i){const l=Dx(o);return e.concat(o,o.visualViewport||[],ny(r)?r:[],l&&t?Yp(l):[])}return e.concat(r,Yp(r,[],t))}function Dx(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _R(n){const e=Qr(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Hi(n),i=r?n.offsetWidth:t,o=r?n.offsetHeight:s,l=f0(t)!==i||f0(s)!==o;return l&&(t=i,s=o),{width:t,height:s,$:l}}function PA(n){return Kr(n)?n:n.contextElement}function Sd(n){const e=PA(n);if(!Hi(e))return $i(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:i}=_R(e);let o=(i?f0(t.width):t.width)/s,l=(i?f0(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Wj=$i(0);function CR(n){const e=$s(n);return!TA()||!e.visualViewport?Wj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gj(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$s(n)?!1:e}function Pu(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=PA(n);let o=$i(1);e&&(s?Kr(s)&&(o=Sd(s)):o=Sd(n));const l=Gj(i,t,s)?CR(i):$i(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(i){const f=$s(i),p=s&&Kr(s)?$s(s):s;let v=f,m=Dx(v);for(;m&&s&&p!==v;){const b=Sd(m),y=m.getBoundingClientRect(),w=Qr(m),x=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,_=y.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=_,v=$s(m),m=Dx(v)}}return m0({width:d,height:h,x:c,y:u})}function Sw(n,e){const t=xw(n).scrollLeft;return e?e.left+t:Pu(Gi(n)).left+t}function kR(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-Sw(n,t),r=t.top+e.scrollTop;return{x:s,y:r}}function qj(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const i=r==="fixed",o=Gi(s),l=e?bw(e.floating):!1;if(s===o||l&&i)return t;let c={scrollLeft:0,scrollTop:0},u=$i(1);const d=$i(0),h=Hi(s);if((h||!h&&!i)&&((Rf(s)!=="body"||ny(o))&&(c=xw(s)),Hi(s))){const p=Pu(s);u=Sd(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const f=o&&!h&&!i?kR(o,c):$i(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Xj(n){return Array.from(n.getClientRects())}function Yj(n){const e=Gi(n),t=xw(n),s=n.ownerDocument.body,r=Fs(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Fs(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+Sw(n);const l=-t.scrollTop;return Qr(s).direction==="rtl"&&(o+=Fs(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:l}}const H_=25;function Kj(n,e){const t=$s(n),s=Gi(n),r=t.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;const d=TA();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const u=Sw(s);if(u<=0){const d=s.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(s.clientWidth-h.clientWidth-p);v<=H_&&(i-=v)}else u<=H_&&(i+=u);return{width:i,height:o,x:l,y:c}}const Qj=new Set(["absolute","fixed"]);function Zj(n,e){const t=Pu(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,i=Hi(n)?Sd(n):$i(1),o=n.clientWidth*i.x,l=n.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function V_(n,e,t){let s;if(e==="viewport")s=Kj(n,t);else if(e==="document")s=Yj(Gi(n));else if(Kr(e))s=Zj(e,t);else{const r=CR(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return m0(s)}function TR(n,e){const t=Dl(n);return t===e||!Kr(t)||pf(t)?!1:Qr(t).position==="fixed"||TR(t,e)}function Jj(n,e){const t=e.get(n);if(t)return t;let s=Yp(n,[],!1).filter(l=>Kr(l)&&Rf(l)!=="body"),r=null;const i=Qr(n).position==="fixed";let o=i?Dl(n):n;for(;Kr(o)&&!pf(o);){const l=Qr(o),c=kA(o);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&Qj.has(r.position)||ny(o)&&!c&&TR(n,o))?s=s.filter(d=>d!==o):r=l,o=Dl(o)}return e.set(n,s),s}function eB(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const o=[...t==="clippingAncestors"?bw(e)?[]:Jj(e,this._c):[].concat(t),s],l=o[0],c=o.reduce((u,d)=>{const h=V_(e,d,r);return u.top=Fs(h.top,u.top),u.right=Ll(h.right,u.right),u.bottom=Ll(h.bottom,u.bottom),u.left=Fs(h.left,u.left),u},V_(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tB(n){const{width:e,height:t}=_R(n);return{width:e,height:t}}function nB(n,e,t){const s=Hi(e),r=Gi(e),i=t==="fixed",o=Pu(n,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=$i(0);function u(){c.x=Sw(r)}if(s||!s&&!i)if((Rf(e)!=="body"||ny(r))&&(l=xw(e)),s){const p=Pu(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?kR(r,l):$i(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function vb(n){return Qr(n).position==="static"}function W_(n,e){if(!Hi(n)||Qr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Gi(n)===t&&(t=t.ownerDocument.body),t}function PR(n,e){const t=$s(n);if(bw(n))return t;if(!Hi(n)){let r=Dl(n);for(;r&&!pf(r);){if(Kr(r)&&!vb(r))return r;r=Dl(r)}return t}let s=W_(n,e);for(;s&&jj(s)&&vb(s);)s=W_(s,e);return s&&pf(s)&&vb(s)&&!kA(s)?t:s||Hj(n)||t}const sB=async function(n){const e=this.getOffsetParent||PR,t=this.getDimensions,s=await t(n.floating);return{reference:nB(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function rB(n){return Qr(n).direction==="rtl"}const iB={convertOffsetParentRelativeRectToViewportRelativeRect:qj,getDocumentElement:Gi,getClippingRect:eB,getOffsetParent:PR,getElementRects:sB,getClientRects:Xj,getDimensions:tB,getScale:Sd,isElement:Kr,isRTL:rB};function RR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function oB(n,e){let t=null,s;const r=Gi(n);function i(){var l;clearTimeout(s),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||e(),!f||!p)return;const v=Oy(h),m=Oy(r.clientWidth-(d+f)),b=Oy(r.clientHeight-(h+p)),y=Oy(d),x={rootMargin:-v+"px "+-m+"px "+-b+"px "+-y+"px",threshold:Fs(0,Ll(1,c))||1};let _=!0;function C(T){const P=T[0].intersectionRatio;if(P!==c){if(!_)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!RR(u,n.getBoundingClientRect())&&o(),_=!1}try{t=new IntersectionObserver(C,{...x,root:r.ownerDocument})}catch{t=new IntersectionObserver(C,x)}t.observe(n)}return o(!0),i}function aB(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=PA(n),d=r||i?[...u?Yp(u):[],...Yp(e)]:[];d.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),i&&y.addEventListener("resize",t)});const h=u&&l?oB(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let v,m=c?Pu(n):null;c&&b();function b(){const y=Pu(n);m&&!RR(m,y)&&t(),m=y,v=requestAnimationFrame(b)}return t(),()=>{var y;d.forEach(w=>{r&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const lB=Mj,cB=Lj,uB=Pj,dB=Ij,hB=Rj,G_=Tj,fB=Dj,pB=(n,e,t)=>{const s=new Map,r={platform:iB,...t},i={...r.platform,_c:s};return kj(n,e,{...r,platform:i})};var mB=typeof document<"u",gB=function(){},lv=mB?k.useLayoutEffect:gB;function g0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!g0(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const i=r[s];if(!(i==="_owner"&&n.$$typeof)&&!g0(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function NR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function q_(n,e){const t=NR(n);return Math.round(e*t)/t}function wb(n){const e=k.useRef(n);return lv(()=>{e.current=n}),e}function yB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=n,[d,h]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=k.useState(s);g0(f,s)||p(s);const[v,m]=k.useState(null),[b,y]=k.useState(null),w=k.useCallback(L=>{L!==T.current&&(T.current=L,m(L))},[]),x=k.useCallback(L=>{L!==P.current&&(P.current=L,y(L))},[]),_=i||v,C=o||b,T=k.useRef(null),P=k.useRef(null),R=k.useRef(d),M=c!=null,N=wb(c),D=wb(r),F=wb(u),$=k.useCallback(()=>{if(!T.current||!P.current)return;const L={placement:e,strategy:t,middleware:f};D.current&&(L.platform=D.current),pB(T.current,P.current,L).then(O=>{const V={...O,isPositioned:F.current!==!1};I.current&&!g0(R.current,V)&&(R.current=V,Jg.flushSync(()=>{h(V)}))})},[f,e,t,D,F]);lv(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const I=k.useRef(!1);lv(()=>(I.current=!0,()=>{I.current=!1}),[]),lv(()=>{if(_&&(T.current=_),C&&(P.current=C),_&&C){if(N.current)return N.current(_,C,$);$()}},[_,C,$,N,M]);const G=k.useMemo(()=>({reference:T,floating:P,setReference:w,setFloating:x}),[w,x]),j=k.useMemo(()=>({reference:_,floating:C}),[_,C]),B=k.useMemo(()=>{const L={position:t,left:0,top:0};if(!j.floating)return L;const O=q_(j.floating,d.x),V=q_(j.floating,d.y);return l?{...L,transform:"translate("+O+"px, "+V+"px)",...NR(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:O,top:V}},[t,l,j.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:$,refs:G,elements:j,floatingStyles:B}),[d,$,G,j,B])}const vB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?G_({element:s.current,padding:r}).fn(t):{}:s?G_({element:s,padding:r}).fn(t):{}}}},wB=(n,e)=>({...lB(n),options:[n,e]}),bB=(n,e)=>({...cB(n),options:[n,e]}),xB=(n,e)=>({...fB(n),options:[n,e]}),SB=(n,e)=>({...uB(n),options:[n,e]}),AB=(n,e)=>({...dB(n),options:[n,e]}),EB=(n,e)=>({...hB(n),options:[n,e]}),_B=(n,e)=>({...vB(n),options:[n,e]});var CB="Arrow",MR=k.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...i}=n;return A.jsx(wn.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});MR.displayName=CB;var kB=MR;function TB(n){const[e,t]=k.useState(void 0);return Yr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var LR="Popper",[DR,IR]=ey(LR),[kU,OR]=DR(LR),FR="PopperAnchor",jR=k.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,i=OR(FR,t),o=k.useRef(null),l=Xr(e,o),c=k.useRef(null);return k.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:A.jsx(wn.div,{...r,ref:l})});jR.displayName=FR;var RA="PopperContent",[PB,RB]=DR(RA),BR=k.forwardRef((n,e)=>{var ie,In,vt,Ce,wt,bn;const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=n,b=OR(RA,t),[y,w]=k.useState(null),x=Xr(e,be=>w(be)),[_,C]=k.useState(null),T=TB(_),P=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,M=s+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],F=D.length>0,$={padding:N,boundary:D.filter(MB),altBoundary:F},{refs:I,floatingStyles:G,placement:j,isPositioned:B,middlewareData:L}=yB({strategy:"fixed",placement:M,whileElementsMounted:(...be)=>aB(...be,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[wB({mainAxis:r+R,alignmentAxis:o}),c&&bB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xB():void 0,...$}),c&&SB({...$}),AB({...$,apply:({elements:be,rects:Oe,availableWidth:ct,availableHeight:ut})=>{const{width:ei,height:vr}=Oe.reference,ti=be.floating.style;ti.setProperty("--radix-popper-available-width",`${ct}px`),ti.setProperty("--radix-popper-available-height",`${ut}px`),ti.setProperty("--radix-popper-anchor-width",`${ei}px`),ti.setProperty("--radix-popper-anchor-height",`${vr}px`)}}),_&&_B({element:_,padding:l}),LB({arrowWidth:P,arrowHeight:R}),f&&EB({strategy:"referenceHidden",...$})]}),[O,V]=UR(j),oe=Xo(v);Yr(()=>{B&&(oe==null||oe())},[B,oe]);const W=(ie=L.arrow)==null?void 0:ie.x,Y=(In=L.arrow)==null?void 0:In.y,ae=((vt=L.arrow)==null?void 0:vt.centerOffset)!==0,[xe,Te]=k.useState();return Yr(()=>{y&&Te(window.getComputedStyle(y).zIndex)},[y]),A.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:B?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Ce=L.transformOrigin)==null?void 0:Ce.x,(wt=L.transformOrigin)==null?void 0:wt.y].join(" "),...((bn=L.hide)==null?void 0:bn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:A.jsx(PB,{scope:t,placedSide:O,onArrowChange:C,arrowX:W,arrowY:Y,shouldHideArrow:ae,children:A.jsx(wn.div,{"data-side":O,"data-align":V,...m,ref:x,style:{...m.style,animation:B?void 0:"none"}})})})});BR.displayName=RA;var zR="PopperArrow",NB={top:"bottom",right:"left",bottom:"top",left:"right"},$R=k.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,i=RB(zR,s),o=NB[i.placedSide];return A.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:A.jsx(kB,{...r,ref:t,style:{...r.style,display:"block"}})})});$R.displayName=zR;function MB(n){return n!==null}var LB=n=>({name:"transformOrigin",options:n,fn(e){var b,y,w;const{placement:t,rects:s,middlewareData:r}=e,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=UR(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=r.arrow)==null?void 0:y.x)??0)+l/2,p=(((w=r.arrow)==null?void 0:w.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=o?h:`${f}px`,m=`${-c}px`):u==="top"?(v=o?h:`${f}px`,m=`${s.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(v=`${s.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:v,y:m}}}});function UR(n){const[e,t="center"]=n.split("-");return[e,t]}var DB=jR,IB=BR,OB=$R,[Aw]=ey("Tooltip",[IR]),NA=IR(),HR="TooltipProvider",FB=700,X_="tooltip.open",[jB,VR]=Aw(HR),WR=n=>{const{__scopeTooltip:e,delayDuration:t=FB,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=n,o=k.useRef(!0),l=k.useRef(!1),c=k.useRef(0);return k.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),A.jsx(jB,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:k.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:k.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:i})};WR.displayName=HR;var GR="Tooltip",[TU,Ew]=Aw(GR),Ix="TooltipTrigger",BB=k.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=Ew(Ix,t),i=VR(Ix,t),o=NA(t),l=k.useRef(null),c=Xr(e,l,r.onTriggerChange),u=k.useRef(!1),d=k.useRef(!1),h=k.useCallback(()=>u.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),A.jsx(DB,{asChild:!0,...o,children:A.jsx(wn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:Ht(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ht(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:Ht(n.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ht(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:Ht(n.onBlur,r.onClose),onClick:Ht(n.onClick,r.onClose)})})});BB.displayName=Ix;var zB="TooltipPortal",[PU,$B]=Aw(zB,{forceMount:void 0}),mf="TooltipContent",qR=k.forwardRef((n,e)=>{const t=$B(mf,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...i}=n,o=Ew(mf,n.__scopeTooltip);return A.jsx(vA,{present:s||o.open,children:o.disableHoverableContent?A.jsx(XR,{side:r,...i,ref:e}):A.jsx(UB,{side:r,...i,ref:e})})}),UB=k.forwardRef((n,e)=>{const t=Ew(mf,n.__scopeTooltip),s=VR(mf,n.__scopeTooltip),r=k.useRef(null),i=Xr(e,r),[o,l]=k.useState(null),{trigger:c,onClose:u}=t,d=r.current,{onPointerInTransitChange:h}=s,f=k.useCallback(()=>{l(null),h(!1)},[h]),p=k.useCallback((v,m)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},w=qB(y,b.getBoundingClientRect()),x=XB(y,w),_=YB(m.getBoundingClientRect()),C=QB([...x,..._]);l(C),h(!0)},[h]);return k.useEffect(()=>()=>f(),[f]),k.useEffect(()=>{if(c&&d){const v=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),k.useEffect(()=>{if(o){const v=m=>{const b=m.target,y={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!KB(y,o);w?f():x&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,f]),A.jsx(XR,{...n,ref:i})}),[HB,VB]=Aw(GR,{isInside:!1}),WB=JI("TooltipContent"),XR=k.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=n,c=Ew(mf,t),u=NA(t),{onClose:d}=c;return k.useEffect(()=>(document.addEventListener(X_,d),()=>document.removeEventListener(X_,d)),[d]),k.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),A.jsx(yA,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:A.jsxs(IB,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[A.jsx(WB,{children:s}),A.jsx(HB,{scope:t,isInside:!0,children:A.jsx(EO,{id:c.contentId,role:"tooltip",children:r||s})})]})})});qR.displayName=mf;var YR="TooltipArrow",GB=k.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=NA(t);return VB(YR,t).isInside?null:A.jsx(OB,{...r,...s,ref:e})});GB.displayName=YR;function qB(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function XB(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function YB(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function KB(n,e){const{x:t,y:s}=n;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,h=c.x,f=c.y;d>s!=f>s&&t<(h-u)*(s-d)/(f-d)+u&&(r=!r)}return r}function QB(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),ZB(e)}function ZB(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var JB=WR,KR=qR;const e3=JB,t3=k.forwardRef(({className:n,sideOffset:e=4,...t},s)=>A.jsx(KR,{ref:s,sideOffset:e,className:jt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));t3.displayName=KR.displayName;var _w=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},n3={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},ya,x1,ck,s3=(ck=class{constructor(){S(this,ya,n3);S(this,x1,!1)}setTimeoutProvider(n){g(this,ya,n)}setTimeout(n,e){return a(this,ya).setTimeout(n,e)}clearTimeout(n){a(this,ya).clearTimeout(n)}setInterval(n,e){return a(this,ya).setInterval(n,e)}clearInterval(n){a(this,ya).clearInterval(n)}},ya=new WeakMap,x1=new WeakMap,ck),Ox=new s3;function r3(n){setTimeout(n,0)}var Cw=typeof window>"u"||"Deno"in globalThis;function kr(){}function i3(n,e){return typeof n=="function"?n(e):n}function o3(n){return typeof n=="number"&&n>=0&&n!==1/0}function a3(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Fx(n,e){return typeof n=="function"?n(e):n}function l3(n,e){return typeof n=="function"?n(e):n}function Y_(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:l}=n;if(o){if(s){if(e.queryHash!==MA(o,e.options))return!1}else if(!Qp(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||i&&!i(e))}function K_(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(Kp(e.options.mutationKey)!==Kp(i))return!1}else if(!Qp(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function MA(n,e){return((e==null?void 0:e.queryKeyHashFn)||Kp)(n)}function Kp(n){return JSON.stringify(n,(e,t)=>jx(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function Qp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Qp(n[t],e[t])):!1}var c3=Object.prototype.hasOwnProperty;function QR(n,e){if(n===e)return n;const t=Q_(n)&&Q_(e);if(!t&&!(jx(n)&&jx(e)))return e;const r=(t?n:Object.keys(n)).length,i=t?e:Object.keys(e),o=i.length,l=t?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=t?u:i[u],h=n[d],f=e[d];if(h===f){l[d]=h,(t?u<r:c3.call(n,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=QR(h,f);l[d]=p,p===h&&c++}return r===o&&c===r?n:l}function Q_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function jx(n){if(!Z_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Z_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Z_(n){return Object.prototype.toString.call(n)==="[object Object]"}function u3(n){return new Promise(e=>{Ox.setTimeout(e,n)})}function d3(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?QR(n,e):e}function h3(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function f3(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var LA=Symbol();function ZR(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===LA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var rc,va,Cd,uk,p3=(uk=class extends _w{constructor(){super();S(this,rc);S(this,va);S(this,Cd);g(this,Cd,e=>{if(!Cw&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){a(this,va)||this.setEventListener(a(this,Cd))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,va))==null||e.call(this),g(this,va,void 0))}setEventListener(e){var t;g(this,Cd,e),(t=a(this,va))==null||t.call(this),g(this,va,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){a(this,rc)!==e&&(g(this,rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof a(this,rc)=="boolean"?a(this,rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rc=new WeakMap,va=new WeakMap,Cd=new WeakMap,uk),JR=new p3;function m3(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}var g3=r3;function y3(){let n=[],e=0,t=l=>{l()},s=l=>{l()},r=g3;const i=l=>{e?n.push(l):r(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var Gn=y3(),kd,wa,Td,dk,v3=(dk=class extends _w{constructor(){super();S(this,kd,!0);S(this,wa);S(this,Td);g(this,Td,e=>{if(!Cw&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){a(this,wa)||this.setEventListener(a(this,Td))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,wa))==null||e.call(this),g(this,wa,void 0))}setEventListener(e){var t;g(this,Td,e),(t=a(this,wa))==null||t.call(this),g(this,wa,e(this.setOnline.bind(this)))}setOnline(e){a(this,kd)!==e&&(g(this,kd,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return a(this,kd)}},kd=new WeakMap,wa=new WeakMap,Td=new WeakMap,dk),y0=new v3;function w3(n){return Math.min(1e3*2**n,3e4)}function eN(n){return(n??"online")==="online"?y0.isOnline():!0}var Bx=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function tN(n){let e=!1,t=0,s;const r=m3(),i=()=>r.status!=="pending",o=m=>{var b;if(!i()){const y=new Bx(m);f(y),(b=n.onCancel)==null||b.call(n,y)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>JR.isFocused()&&(n.networkMode==="always"||y0.isOnline())&&n.canRun(),d=()=>eN(n.networkMode)&&n.canRun(),h=m=>{i()||(s==null||s(),r.resolve(m))},f=m=>{i()||(s==null||s(),r.reject(m))},p=()=>new Promise(m=>{var b;s=y=>{(i()||u())&&m(y)},(b=n.onPause)==null||b.call(n)}).then(()=>{var m;s=void 0,i()||(m=n.onContinue)==null||m.call(n)}),v=()=>{if(i())return;let m;const b=t===0?n.initialPromise:void 0;try{m=b??n.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var T;if(i())return;const w=n.retry??(Cw?0:3),x=n.retryDelay??w3,_=typeof x=="function"?x(t,y):x,C=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,y);if(e||!C){f(y);return}t++,(T=n.onFail)==null||T.call(n,t,y),u3(_).then(()=>u()?void 0:p()).then(()=>{e?f(y):v()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),r)}}var ic,hk,nN=(hk=class{constructor(){S(this,ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),o3(this.gcTime)&&g(this,ic,Ox.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Cw?1/0:5*60*1e3))}clearGcTimeout(){a(this,ic)&&(Ox.clearTimeout(a(this,ic)),g(this,ic,void 0))}},ic=new WeakMap,hk),oc,Pd,Ks,ac,Gt,dm,lc,Tr,Yi,fk,b3=(fk=class extends nN{constructor(e){super();S(this,Tr);S(this,oc);S(this,Pd);S(this,Ks);S(this,ac);S(this,Gt);S(this,dm);S(this,lc);g(this,lc,!1),g(this,dm,e.defaultOptions),this.setOptions(e.options),this.observers=[],g(this,ac,e.client),g(this,Ks,a(this,ac).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,g(this,oc,J_(this.options)),this.state=e.state??a(this,oc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=a(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...a(this,dm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=J_(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),g(this,oc,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&a(this,Ks).remove(this)}setData(e,t){const s=d3(this.state.data,e,this.options);return E(this,Tr,Yi).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){E(this,Tr,Yi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=a(this,Gt))==null?void 0:s.promise;return(r=a(this,Gt))==null||r.cancel(e),t?t.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(a(this,oc))}isActive(){return this.observers.some(e=>l3(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fx(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!a3(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,Gt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,Gt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),a(this,Ks).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(a(this,Gt)&&(a(this,lc)?a(this,Gt).cancel({revert:!0}):a(this,Gt).cancelRetry()),this.scheduleGc()),a(this,Ks).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||E(this,Tr,Yi).call(this,{type:"invalidate"})}async fetch(e,t){var c,u,d,h,f,p,v,m,b,y,w,x;if(this.state.fetchStatus!=="idle"&&((c=a(this,Gt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(a(this,Gt))return a(this,Gt).continueRetry(),a(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,r=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(g(this,lc,!0),s.signal)})},i=()=>{const _=ZR(this.options,t),T=(()=>{const P={client:a(this,ac),queryKey:this.queryKey,meta:this.meta};return r(P),P})();return g(this,lc,!1),this.options.persister?this.options.persister(_,T,this):_(T)},l=(()=>{const _={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:a(this,ac),state:this.state,fetchFn:i};return r(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),g(this,Pd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&E(this,Tr,Yi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),g(this,Gt,tN({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Bx&&_.revert&&this.setState({...a(this,Pd),fetchStatus:"idle"}),s.abort()},onFail:(_,C)=>{E(this,Tr,Yi).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{E(this,Tr,Yi).call(this,{type:"pause"})},onContinue:()=>{E(this,Tr,Yi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await a(this,Gt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(f=a(this,Ks).config).onSuccess)==null||p.call(f,_,this),(m=(v=a(this,Ks).config).onSettled)==null||m.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof Bx){if(_.silent)return a(this,Gt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw E(this,Tr,Yi).call(this,{type:"error",error:_}),(y=(b=a(this,Ks).config).onError)==null||y.call(b,_,this),(x=(w=a(this,Ks).config).onSettled)==null||x.call(w,this.state.data,_,this),_}finally{this.scheduleGc()}}},oc=new WeakMap,Pd=new WeakMap,Ks=new WeakMap,ac=new WeakMap,Gt=new WeakMap,dm=new WeakMap,lc=new WeakMap,Tr=new WeakSet,Yi=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...x3(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return g(this,Pd,e.manual?r:void 0),r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Gn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),a(this,Ks).notify({query:this,type:"updated",action:e})})},fk);function x3(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function J_(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function eC(n){return{onFetch:(e,t)=>{var d,h,f,p,v;const s=e.options,r=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=ZR(e.options,e.fetchOptions),w=async(x,_,C)=>{if(m)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const P=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};return b(D),D})(),R=await y(P),{maxPages:M}=e.options,N=C?f3:h3;return{pages:N(x.pages,R,M),pageParams:N(x.pageParams,_,M)}};if(r&&i.length){const x=r==="backward",_=x?S3:tC,C={pages:i,pageParams:o},T=_(s,C);l=await w(C,T,x)}else{const x=n??i.length;do{const _=c===0?o[0]??s.initialPageParam:tC(s,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function tC(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function S3(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var hm,ci,Bn,cc,ui,ua,pk,A3=(pk=class extends nN{constructor(e){super();S(this,ui);S(this,hm);S(this,ci);S(this,Bn);S(this,cc);g(this,hm,e.client),this.mutationId=e.mutationId,g(this,Bn,e.mutationCache),g(this,ci,[]),this.state=e.state||E3(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){a(this,ci).includes(e)||(a(this,ci).push(e),this.clearGcTimeout(),a(this,Bn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){g(this,ci,a(this,ci).filter(t=>t!==e)),this.scheduleGc(),a(this,Bn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){a(this,ci).length||(this.state.status==="pending"?this.scheduleGc():a(this,Bn).remove(this))}continue(){var e;return((e=a(this,cc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,d,h,f,p,v,m,b,y,w,x,_,C,T,P,R,M;const t=()=>{E(this,ui,ua).call(this,{type:"continue"})},s={client:a(this,hm),meta:this.options.meta,mutationKey:this.options.mutationKey};g(this,cc,tN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,D)=>{E(this,ui,ua).call(this,{type:"failed",failureCount:N,error:D})},onPause:()=>{E(this,ui,ua).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>a(this,Bn).canRun(this)}));const r=this.state.status==="pending",i=!a(this,cc).canStart();try{if(r)t();else{E(this,ui,ua).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=a(this,Bn).config).onMutate)==null?void 0:l.call(o,e,this,s));const D=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,s));D!==this.state.context&&E(this,ui,ua).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const N=await a(this,cc).start();return await((h=(d=a(this,Bn).config).onSuccess)==null?void 0:h.call(d,N,e,this.state.context,this,s)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,N,e,this.state.context,s)),await((m=(v=a(this,Bn).config).onSettled)==null?void 0:m.call(v,N,null,this.state.variables,this.state.context,this,s)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,N,null,e,this.state.context,s)),E(this,ui,ua).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(w=a(this,Bn).config).onError)==null?void 0:x.call(w,N,e,this.state.context,this,s)),await((C=(_=this.options).onError)==null?void 0:C.call(_,N,e,this.state.context,s)),await((P=(T=a(this,Bn).config).onSettled)==null?void 0:P.call(T,void 0,N,this.state.variables,this.state.context,this,s)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,N,e,this.state.context,s)),N}finally{E(this,ui,ua).call(this,{type:"error",error:N})}}finally{a(this,Bn).runNext(this)}}},hm=new WeakMap,ci=new WeakMap,Bn=new WeakMap,cc=new WeakMap,ui=new WeakSet,ua=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Gn.batch(()=>{a(this,ci).forEach(s=>{s.onMutationUpdate(e)}),a(this,Bn).notify({mutation:this,type:"updated",action:e})})},pk);function E3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var so,Pr,fm,mk,_3=(mk=class extends _w{constructor(e={}){super();S(this,so);S(this,Pr);S(this,fm);this.config=e,g(this,so,new Set),g(this,Pr,new Map),g(this,fm,0)}build(e,t,s){const r=new A3({client:e,mutationCache:this,mutationId:++bt(this,fm)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){a(this,so).add(e);const t=Fy(e);if(typeof t=="string"){const s=a(this,Pr).get(t);s?s.push(e):a(this,Pr).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(a(this,so).delete(e)){const t=Fy(e);if(typeof t=="string"){const s=a(this,Pr).get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&a(this,Pr).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Fy(e);if(typeof t=="string"){const s=a(this,Pr).get(t),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const t=Fy(e);if(typeof t=="string"){const r=(s=a(this,Pr).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gn.batch(()=>{a(this,so).forEach(e=>{this.notify({type:"removed",mutation:e})}),a(this,so).clear(),a(this,Pr).clear()})}getAll(){return Array.from(a(this,so))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>K_(t,s))}findAll(e={}){return this.getAll().filter(t=>K_(e,t))}notify(e){Gn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Gn.batch(()=>Promise.all(e.map(t=>t.continue().catch(kr))))}},so=new WeakMap,Pr=new WeakMap,fm=new WeakMap,mk);function Fy(n){var e;return(e=n.options.scope)==null?void 0:e.id}var di,gk,C3=(gk=class extends _w{constructor(e={}){super();S(this,di);this.config=e,g(this,di,new Map)}build(e,t,s){const r=t.queryKey,i=t.queryHash??MA(r,t);let o=this.get(i);return o||(o=new b3({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){a(this,di).has(e.queryHash)||(a(this,di).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=a(this,di).get(e.queryHash);t&&(e.destroy(),t===e&&a(this,di).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,di).get(e)}getAll(){return[...a(this,di).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Y_(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Y_(e,s)):t}notify(e){Gn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},di=new WeakMap,gk),xt,ba,xa,Rd,Nd,Sa,Md,Ld,yk,k3=(yk=class{constructor(n={}){S(this,xt);S(this,ba);S(this,xa);S(this,Rd);S(this,Nd);S(this,Sa);S(this,Md);S(this,Ld);g(this,xt,n.queryCache||new C3),g(this,ba,n.mutationCache||new _3),g(this,xa,n.defaultOptions||{}),g(this,Rd,new Map),g(this,Nd,new Map),g(this,Sa,0)}mount(){bt(this,Sa)._++,a(this,Sa)===1&&(g(this,Md,JR.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,xt).onFocus())})),g(this,Ld,y0.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,xt).onOnline())})))}unmount(){var n,e;bt(this,Sa)._--,a(this,Sa)===0&&((n=a(this,Md))==null||n.call(this),g(this,Md,void 0),(e=a(this,Ld))==null||e.call(this),g(this,Ld,void 0))}isFetching(n){return a(this,xt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return a(this,ba).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,xt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=a(this,xt).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Fx(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return a(this,xt).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=a(this,xt).get(s.queryHash),i=r==null?void 0:r.state.data,o=i3(e,i);if(o!==void 0)return a(this,xt).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Gn.batch(()=>a(this,xt).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,xt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=a(this,xt);Gn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=a(this,xt);return Gn.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=Gn.batch(()=>a(this,xt).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(kr).catch(kr)}invalidateQueries(n,e={}){return Gn.batch(()=>(a(this,xt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Gn.batch(()=>a(this,xt).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,t);return t.throwOnError||(i=i.catch(kr)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(kr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=a(this,xt).build(this,e);return t.isStaleByTime(Fx(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(kr).catch(kr)}fetchInfiniteQuery(n){return n.behavior=eC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(kr).catch(kr)}ensureInfiniteQueryData(n){return n.behavior=eC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return y0.isOnline()?a(this,ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,xt)}getMutationCache(){return a(this,ba)}getDefaultOptions(){return a(this,xa)}setDefaultOptions(n){g(this,xa,n)}setQueryDefaults(n,e){a(this,Rd).set(Kp(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...a(this,Rd).values()],t={};return e.forEach(s=>{Qp(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){a(this,Nd).set(Kp(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...a(this,Nd).values()],t={};return e.forEach(s=>{Qp(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...a(this,xa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=MA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===LA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...a(this,xa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){a(this,xt).clear(),a(this,ba).clear()}},xt=new WeakMap,ba=new WeakMap,xa=new WeakMap,Rd=new WeakMap,Nd=new WeakMap,Sa=new WeakMap,Md=new WeakMap,Ld=new WeakMap,yk),T3=k.createContext(void 0),P3=({client:n,children:e})=>(k.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),A.jsx(T3.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Zp.apply(this,arguments)}var wl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(wl||(wl={}));const nC="popstate";function R3(n){n===void 0&&(n={});function e(r,i){let{pathname:o="/",search:l="",hash:c=""}=Iu(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zx("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:v0(i))}function s(r,i){DA(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return M3(e,t,s,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function DA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N3(){return Math.random().toString(36).substr(2,8)}function sC(n,e){return{usr:n.state,key:n.key,idx:e}}function zx(n,e,t,s){return t===void 0&&(t=null),Zp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Iu(e):e,{state:t,key:e&&e.key||s||N3()})}function v0(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Iu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function M3(n,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=wl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Zp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=wl.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:m.location,delta:y})}function f(b,y){l=wl.Push;let w=zx(m.location,b,y);t&&t(w,b),u=d()+1;let x=sC(w,u),_=m.createHref(w);try{o.pushState(x,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(b,y){l=wl.Replace;let w=zx(m.location,b,y);t&&t(w,b),u=d();let x=sC(w,u),_=m.createHref(w);o.replaceState(x,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function v(b){let y=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof b=="string"?b:v0(b);return w=w.replace(/ $/,"%20"),Ot(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return l},get location(){return n(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(nC,h),c=b,()=>{r.removeEventListener(nC,h),c=null}},createHref(b){return e(r,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return m}var rC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(rC||(rC={}));function L3(n,e,t){return t===void 0&&(t="/"),D3(n,e,t)}function D3(n,e,t,s){let r=typeof e=="string"?Iu(e):e,i=IA(r.pathname||"/",t);if(i==null)return null;let o=sN(n);I3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=q3(i);l=V3(o[c],u)}return l}function sN(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ot(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Pl([s,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(Ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sN(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:U3(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of rN(i.path))r(i,o,c)}),e}function rN(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=rN(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function I3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:H3(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const O3=/^:[\w-]+$/,F3=3,j3=2,B3=1,z3=10,$3=-2,iC=n=>n==="*";function U3(n,e){let t=n.split("/"),s=t.length;return t.some(iC)&&(s+=$3),e&&(s+=j3),t.filter(r=>!iC(r)).reduce((r,i)=>r+(O3.test(i)?F3:i===""?B3:z3),s)}function H3(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function V3(n,e,t){let{routesMeta:s}=n,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=W3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Pl([i,h.pathname]),pathnameBase:Q3(Pl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Pl([i,h.pathnameBase]))}return o}function W3(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=G3(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function G3(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),DA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function q3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return DA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function IA(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function X3(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?Iu(n):n;return{pathname:t?t.startsWith("/")?t:Y3(t,e):e,search:Z3(s),hash:J3(r)}}function Y3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function bb(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iN(n,e){let t=K3(n);return e?t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function oN(n,e,t,s){s===void 0&&(s=!1);let r;typeof n=="string"?r=Iu(n):(r=Zp({},n),Ot(!r.pathname||!r.pathname.includes("?"),bb("?","pathname","search",r)),Ot(!r.pathname||!r.pathname.includes("#"),bb("#","pathname","hash",r)),Ot(!r.search||!r.search.includes("#"),bb("#","search","hash",r)));let i=n===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=t;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=X3(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pl=n=>n.join("/").replace(/\/\/+/g,"/"),Q3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Z3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,J3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function e4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const aN=["post","put","patch","delete"];new Set(aN);const t4=["get",...aN];new Set(t4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Jp.apply(this,arguments)}const OA=k.createContext(null),n4=k.createContext(null),Ou=k.createContext(null),kw=k.createContext(null),Vl=k.createContext({outlet:null,matches:[],isDataRoute:!1}),lN=k.createContext(null);function s4(n,e){let{relative:t}=e===void 0?{}:e;sy()||Ot(!1);let{basename:s,navigator:r}=k.useContext(Ou),{hash:i,pathname:o,search:l}=uN(n,{relative:t}),c=o;return s!=="/"&&(c=o==="/"?s:Pl([s,o])),r.createHref({pathname:c,search:l,hash:i})}function sy(){return k.useContext(kw)!=null}function ry(){return sy()||Ot(!1),k.useContext(kw).location}function cN(n){k.useContext(Ou).static||k.useLayoutEffect(n)}function FA(){let{isDataRoute:n}=k.useContext(Vl);return n?y4():r4()}function r4(){sy()||Ot(!1);let n=k.useContext(OA),{basename:e,future:t,navigator:s}=k.useContext(Ou),{matches:r}=k.useContext(Vl),{pathname:i}=ry(),o=JSON.stringify(iN(r,t.v7_relativeSplatPath)),l=k.useRef(!1);return cN(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=oN(u,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Pl([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,i,n])}function i4(){let{matches:n}=k.useContext(Vl),e=n[n.length-1];return e?e.params:{}}function uN(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=k.useContext(Ou),{matches:r}=k.useContext(Vl),{pathname:i}=ry(),o=JSON.stringify(iN(r,s.v7_relativeSplatPath));return k.useMemo(()=>oN(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function o4(n,e){return a4(n,e)}function a4(n,e,t,s){sy()||Ot(!1);let{navigator:r}=k.useContext(Ou),{matches:i}=k.useContext(Vl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ry(),d;if(e){var h;let b=typeof e=="string"?Iu(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ot(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=L3(n,{pathname:p}),m=h4(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Pl([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Pl([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,t,s);return e&&m?k.createElement(kw.Provider,{value:{location:Jp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wl.Pop}},m):m}function l4(){let n=g4(),e=e4(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:r},t):null,null)}const c4=k.createElement(l4,null);class u4 extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement(Vl.Provider,{value:this.props.routeContext},k.createElement(lN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d4(n){let{routeContext:e,match:t,children:s}=n,r=k.useContext(OA);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Vl.Provider,{value:e},s)}function h4(n,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(r=t)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,m=null,b=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||c4,c&&(u<0&&f===0?(v4("route-fallback"),v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),w=()=>{let x;return p?x=m:v?x=b:h.route.Component?x=k.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,k.createElement(d4,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(u4,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var dN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(dN||{}),hN=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(hN||{});function f4(n){let e=k.useContext(OA);return e||Ot(!1),e}function p4(n){let e=k.useContext(n4);return e||Ot(!1),e}function m4(n){let e=k.useContext(Vl);return e||Ot(!1),e}function fN(n){let e=m4(),t=e.matches[e.matches.length-1];return t.route.id||Ot(!1),t.route.id}function g4(){var n;let e=k.useContext(lN),t=p4(),s=fN();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function y4(){let{router:n}=f4(dN.UseNavigateStable),e=fN(hN.UseNavigateStable),t=k.useRef(!1);return cN(()=>{t.current=!0}),k.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Jp({fromRouteId:e},i)))},[n,e])}const oC={};function v4(n,e,t){oC[n]||(oC[n]=!0)}function w4(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Qf(n){Ot(!1)}function b4(n){let{basename:e="/",children:t=null,location:s,navigationType:r=wl.Pop,navigator:i,static:o=!1,future:l}=n;sy()&&Ot(!1);let c=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:o,future:Jp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Iu(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=s,m=k.useMemo(()=>{let b=IA(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:r}},[c,d,h,f,p,v,r]);return m==null?null:k.createElement(Ou.Provider,{value:u},k.createElement(kw.Provider,{children:t,value:m}))}function x4(n){let{children:e,location:t}=n;return o4($x(e),t)}new Promise(()=>{});function $x(n,e){e===void 0&&(e=[]);let t=[];return k.Children.forEach(n,(s,r)=>{if(!k.isValidElement(s))return;let i=[...e,r];if(s.type===k.Fragment){t.push.apply(t,$x(s.props.children,i));return}s.type!==Qf&&Ot(!1),!s.props.index||!s.props.children||Ot(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=$x(s.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ux(){return Ux=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ux.apply(this,arguments)}function S4(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function A4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function E4(n,e){return n.button===0&&(!e||e==="_self")&&!A4(n)}const _4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C4="6";try{window.__reactRouterVersion=C4}catch{}const k4="startTransition",aC=Rk[k4];function T4(n){let{basename:e,children:t,future:s,window:r}=n,i=k.useRef();i.current==null&&(i.current=R3({window:r,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=k.useCallback(h=>{u&&aC?aC(()=>c(h)):c(h)},[c,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>w4(s),[s]),k.createElement(b4,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:s})}const P4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lC=k.forwardRef(function(e,t){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=S4(e,_4),{basename:p}=k.useContext(Ou),v,m=!1;if(typeof u=="string"&&R4.test(u)&&(v=u,P4))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=IA(_.pathname,p);_.origin===x.origin&&C!=null?u=C+_.search+_.hash:m=!0}catch{}let b=s4(u,{relative:r}),y=N4(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function w(x){s&&s(x),x.defaultPrevented||y(x)}return k.createElement("a",Ux({},f,{href:v||b,onClick:m||i?s:w,ref:t,target:c}))});var cC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(cC||(cC={}));var uC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(uC||(uC={}));function N4(n,e){let{target:t,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=FA(),u=ry(),d=uN(n,{relative:o});return k.useCallback(h=>{if(E4(h,t)){h.preventDefault();let f=s!==void 0?s:v0(u)===v0(d);c(n,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,s,r,t,n,i,o,l])}const M4=SA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wn=k.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},i)=>{const o=s?QI:"button";return A.jsx(o,{className:jt(M4({variant:e,size:t,className:n})),ref:i,...r})});Wn.displayName="Button";const en=k.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:jt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));en.displayName="Card";const L4=k.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:jt("flex flex-col space-y-1.5 p-6",n),...e}));L4.displayName="CardHeader";const D4=k.forwardRef(({className:n,...e},t)=>A.jsx("h3",{ref:t,className:jt("text-2xl font-semibold leading-none tracking-tight",n),...e}));D4.displayName="CardTitle";const I4=k.forwardRef(({className:n,...e},t)=>A.jsx("p",{ref:t,className:jt("text-sm text-muted-foreground",n),...e}));I4.displayName="CardDescription";const hn=k.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:jt("p-6 pt-0",n),...e}));hn.displayName="CardContent";const O4=k.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:jt("flex items-center p-6 pt-0",n),...e}));O4.displayName="CardFooter";const F4=SA("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ms({className:n,variant:e,...t}){return A.jsx("div",{className:jt(F4({variant:e}),n),...t})}const Hx=k.forwardRef(({className:n,type:e,...t},s)=>A.jsx("input",{type:e,className:jt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));Hx.displayName="Input";const pN=k.forwardRef(({className:n,...e},t)=>A.jsx("textarea",{className:jt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));pN.displayName="Textarea";var mN={exports:{}},gN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=k;function j4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var B4=typeof Object.is=="function"?Object.is:j4,z4=gf.useState,$4=gf.useEffect,U4=gf.useLayoutEffect,H4=gf.useDebugValue;function V4(n,e){var t=e(),s=z4({inst:{value:t,getSnapshot:e}}),r=s[0].inst,i=s[1];return U4(function(){r.value=t,r.getSnapshot=e,xb(r)&&i({inst:r})},[n,t,e]),$4(function(){return xb(r)&&i({inst:r}),n(function(){xb(r)&&i({inst:r})})},[n]),H4(t),t}function xb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!B4(n,t)}catch{return!0}}function W4(n,e){return e()}var G4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W4:V4;gN.useSyncExternalStore=gf.useSyncExternalStore!==void 0?gf.useSyncExternalStore:G4;mN.exports=gN;var q4=mN.exports;function X4(){return q4.useSyncExternalStore(Y4,()=>!0,()=>!1)}function Y4(){return()=>{}}var jA="Avatar",[K4]=ey(jA),[Q4,yN]=K4(jA),vN=k.forwardRef((n,e)=>{const{__scopeAvatar:t,...s}=n,[r,i]=k.useState("idle");return A.jsx(Q4,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:A.jsx(wn.span,{...s,ref:e})})});vN.displayName=jA;var wN="AvatarImage",bN=k.forwardRef((n,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:r=()=>{},...i}=n,o=yN(wN,t),l=Z4(s,i),c=Xo(u=>{r(u),o.onImageLoadingStatusChange(u)});return Yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?A.jsx(wn.img,{...i,ref:e,src:s}):null});bN.displayName=wN;var xN="AvatarFallback",SN=k.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:s,...r}=n,i=yN(xN,t),[o,l]=k.useState(s===void 0);return k.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?A.jsx(wn.span,{...r,ref:e}):null});SN.displayName=xN;function dC(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Z4(n,{referrerPolicy:e,crossOrigin:t}){const s=X4(),r=k.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[o,l]=k.useState(()=>dC(i,n));return Yr(()=>{l(dC(i,n))},[i,n]),Yr(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,t,e]),o}var AN=vN,EN=bN,_N=SN;const CN=k.forwardRef(({className:n,...e},t)=>A.jsx(AN,{ref:t,className:jt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));CN.displayName=AN.displayName;const kN=k.forwardRef(({className:n,...e},t)=>A.jsx(EN,{ref:t,className:jt("aspect-square h-full w-full",n),...e}));kN.displayName=EN.displayName;const TN=k.forwardRef(({className:n,...e},t)=>A.jsx(_N,{ref:t,className:jt("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));TN.displayName=_N.displayName;const J4="/ayushmansingh-portfolio/assets/profile-CJZAqCwJ.jpg",PN="/ayushmansingh-portfolio/assets/inventory-system-C7_T-1JU.png",RN="/ayushmansingh-portfolio/assets/blog-cms-Bc1aFS2M.png",NN="/ayushmansingh-portfolio/assets/driver-drowsiness-xSXXz5ps.png";class iy{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const ez=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},mn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ez()},BA=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},tz=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=BA(n);mn.publicKey=t.publicKey,mn.blockHeadless=t.blockHeadless,mn.storageProvider=t.storageProvider,mn.blockList=t.blockList,mn.limitRate=t.limitRate,mn.origin=t.origin||e},MN=async(n,e,t={})=>{const s=await fetch(mn.origin+n,{method:"POST",headers:t,body:e}),r=await s.text(),i=new iy(s.status,r);if(s.ok)return i;throw i},LN=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},nz=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},DN=n=>n.webdriver||!n.languages||n.languages.length===0,IN=()=>new iy(451,"Unavailable For Headless Browser"),sz=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},rz=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},iz=(n,e)=>n instanceof FormData?n.get(e):n[e],ON=(n,e)=>{if(rz(n))return!1;sz(n.list,n.watchVariable);const t=iz(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},FN=()=>new iy(403,"Forbidden"),oz=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},az=async(n,e,t)=>{const s=Number(await t.get(n)||0);return e-Date.now()+s},jN=async(n,e,t)=>{if(!e.throttle||!t)return!1;oz(e.throttle,e.id);const s=e.id||n;return await az(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},BN=()=>new iy(429,"Too Many Requests"),lz=async(n,e,t,s)=>{const r=BA(s),i=r.publicKey||mn.publicKey,o=r.blockHeadless||mn.blockHeadless,l=r.storageProvider||mn.storageProvider,c={...mn.blockList,...r.blockList},u={...mn.limitRate,...r.limitRate};return o&&DN(navigator)?Promise.reject(IN()):(LN(i,n,e),nz(t),t&&ON(c,t)?Promise.reject(FN()):await jN(location.pathname,u,l)?Promise.reject(BN()):MN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},cz=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},uz=n=>typeof n=="string"?document.querySelector(n):n,dz=async(n,e,t,s)=>{const r=BA(s),i=r.publicKey||mn.publicKey,o=r.blockHeadless||mn.blockHeadless,l=mn.storageProvider||r.storageProvider,c={...mn.blockList,...r.blockList},u={...mn.limitRate,...r.limitRate};if(o&&DN(navigator))return Promise.reject(IN());const d=uz(t);LN(i,n,e),cz(d);const h=new FormData(d);return ON(c,h)?Promise.reject(FN()):await jN(location.pathname,u,l)?Promise.reject(BN()):(h.append("lib_version","4.4.1"),h.append("service_id",n),h.append("template_id",e),h.append("user_id",i),MN("/api/v1.0/email/send-form",h))},hz={init:tz,send:lz,sendForm:dz,EmailJSResponseStatus:iy};var Le;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const i={};for(const o of r)i[o]=o;return i},n.getValidEnumValues=r=>{const i=n.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),o={};for(const l of i)o[l]=r[l];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(i){return r[i]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.push(o);return i},n.find=(r,i)=>{for(const o of r)if(i(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}n.joinValues=s,n.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Le||(Le={}));var hC;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(hC||(hC={}));const ne=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pa=n=>{switch(typeof n){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return Number.isNaN(n)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(n)?ne.array:n===null?ne.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ne.promise:typeof Map<"u"&&n instanceof Map?ne.map:typeof Set<"u"&&n instanceof Set?ne.set:typeof Date<"u"&&n instanceof Date?ne.date:ne.object;default:return ne.unknown}},H=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(t(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(t(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(this),s}static assert(e){if(!(e instanceof Vi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];t[i]=t[i]||[],t[i].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Vi.create=n=>new Vi(n);const Vx=(n,e)=>{let t;switch(n.code){case H.invalid_type:n.received===ne.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case H.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Le.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:t=`Unrecognized key(s) in object: ${Le.joinValues(n.keys,", ")}`;break;case H.invalid_union:t="Invalid input";break;case H.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Le.joinValues(n.options)}`;break;case H.invalid_enum_value:t=`Invalid enum value. Expected ${Le.joinValues(n.options)}, received '${n.received}'`;break;case H.invalid_arguments:t="Invalid function arguments";break;case H.invalid_return_type:t="Invalid function return type";break;case H.invalid_date:t="Invalid date";break;case H.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Le.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case H.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case H.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case H.custom:t="Invalid input";break;case H.invalid_intersection_types:t="Intersection results could not be merged";break;case H.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case H.not_finite:t="Number must be finite";break;default:t=e.defaultError,Le.assertNever(n)}return{message:t}};let fz=Vx;function pz(){return fz}const mz=n=>{const{data:e,path:t,errorMaps:s,issueData:r}=n,i=[...t,...r.path||[]],o={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...r,path:i,message:l}};function K(n,e){const t=pz(),s=mz({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Vx?void 0:Vx].filter(r=>!!r)});n.common.issues.push(s)}class Vs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const r of t){if(r.status==="aborted")return de;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const r of t){const i=await r.key,o=await r.value;s.push({key:i,value:o})}return Vs.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const r of t){const{key:i,value:o}=r;if(i.status==="aborted"||o.status==="aborted")return de;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}}const de=Object.freeze({status:"aborted"}),Zf=n=>({status:"dirty",value:n}),yr=n=>({status:"valid",value:n}),fC=n=>n.status==="aborted",pC=n=>n.status==="dirty",yf=n=>n.status==="valid",w0=n=>typeof Promise<"u"&&n instanceof Promise;var re;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));class Il{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mC=(n,e)=>{if(yf(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Vi(n.common.issues);return this._error=t,this._error}}};function Ae(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:r}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,l)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??t??l.defaultError}},description:r}}class Me{get description(){return this._def.description}_getType(e){return pa(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:pa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vs,ctx:{common:e.parent.common,data:e.data,parsedType:pa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w0(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pa(e)},r=this._parseSync({data:e,path:s.path,parent:s});return mC(s,r)}"~validate"(e){var s,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pa(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return yf(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(r=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>yf(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pa(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(w0(r)?r:Promise.resolve(r));return mC(s,i)}refine(e,t){const s=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,i)=>{const o=e(r),l=()=>i.addIssue({code:H.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof t=="function"?t(s,r):t),!1))}_refinement(e){return new wf({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Rl.create(this,this._def)}nullable(){return bf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ui.create(this)}promise(){return A0.create(this,this._def)}or(e){return x0.create([this,e],this._def)}and(e){return S0.create(this,e,this._def)}transform(e){return new wf({...Ae(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Gx({...Ae(this._def),innerType:this,defaultValue:t,typeName:he.ZodDefault})}brand(){return new jz({typeName:he.ZodBranded,type:this,...Ae(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new qx({...Ae(this._def),innerType:this,catchValue:t,typeName:he.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return zA.create(this,e)}readonly(){return Xx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gz=/^c[^\s-]{8,}$/i,yz=/^[0-9a-z]+$/,vz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bz=/^[a-z0-9_-]{21}$/i,xz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Sz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Az=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ez="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sb;const _z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Tz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nz=new RegExp(`^${zN}$`);function $N(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Mz(n){return new RegExp(`^${$N(n)}$`)}function Lz(n){let e=`${zN}T${$N(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Dz(n,e){return!!((e==="v4"||!e)&&_z.test(n)||(e==="v6"||!e)&&kz.test(n))}function Iz(n,e){if(!xz.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function Oz(n,e){return!!((e==="v4"||!e)&&Cz.test(n)||(e==="v6"||!e)&&Tz.test(n))}class bl extends Me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ne.string){const i=this._getOrReturnCtx(e);return K(i,{code:H.invalid_type,expected:ne.string,received:i.parsedType}),de}const s=new Vs;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),K(r,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),K(r,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(r=this._getOrReturnCtx(e,r),o?K(r,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&K(r,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Az.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"email",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Sb||(Sb=new RegExp(Ez,"u")),Sb.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"emoji",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")wz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"uuid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")bz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"nanoid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")gz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"cuid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")yz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"cuid2",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")vz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"ulid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),K(r,{validation:"url",code:H.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"regex",code:H.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),K(r,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),K(r,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),K(r,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?Lz(i).test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:H.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?Nz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:H.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?Mz(i).test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:H.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Sz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"duration",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Dz(e.data,i.version)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"ip",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?Iz(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"jwt",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?Oz(e.data,i.version)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"cidr",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Pz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"base64",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?Rz.test(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{validation:"base64url",code:H.invalid_string,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(r=>e.test(r),{validation:t,code:H.invalid_string,...re.errToObj(s)})}_addCheck(e){return new bl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...re.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...re.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...re.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...re.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...re.errToObj(t)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new bl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bl.create=n=>new bl({checks:[],typeName:he.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Ae(n)});function Fz(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=t>s?t:s,i=Number.parseInt(n.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return i%o/10**r}class em extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ne.number){const i=this._getOrReturnCtx(e);return K(i,{code:H.invalid_type,expected:ne.number,received:i.parsedType}),de}let s;const r=new Vs;for(const i of this._def.checks)i.kind==="int"?Le.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),K(s,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),K(s,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Fz(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),K(s,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{code:H.not_finite,message:i.message}),r.dirty()):Le.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,s,r){return new em({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:re.toString(r)}]})}_addCheck(e){return new em({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}em.create=n=>new em({checks:[],typeName:he.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ae(n)});class tm extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ne.bigint)return this._getInvalidInput(e);let s;const r=new Vs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),K(s,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),K(s,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),K(s,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Le.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return K(t,{code:H.invalid_type,expected:ne.bigint,received:t.parsedType}),de}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,s,r){return new tm({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:re.toString(r)}]})}_addCheck(e){return new tm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}tm.create=n=>new tm({checks:[],typeName:he.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Ae(n)});class gC extends Me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ne.boolean){const s=this._getOrReturnCtx(e);return K(s,{code:H.invalid_type,expected:ne.boolean,received:s.parsedType}),de}return yr(e.data)}}gC.create=n=>new gC({typeName:he.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ae(n)});class b0 extends Me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ne.date){const i=this._getOrReturnCtx(e);return K(i,{code:H.invalid_type,expected:ne.date,received:i.parsedType}),de}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return K(i,{code:H.invalid_date}),de}const s=new Vs;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),K(r,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),K(r,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Le.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new b0({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}b0.create=n=>new b0({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:he.ZodDate,...Ae(n)});class yC extends Me{_parse(e){if(this._getType(e)!==ne.symbol){const s=this._getOrReturnCtx(e);return K(s,{code:H.invalid_type,expected:ne.symbol,received:s.parsedType}),de}return yr(e.data)}}yC.create=n=>new yC({typeName:he.ZodSymbol,...Ae(n)});class vC extends Me{_parse(e){if(this._getType(e)!==ne.undefined){const s=this._getOrReturnCtx(e);return K(s,{code:H.invalid_type,expected:ne.undefined,received:s.parsedType}),de}return yr(e.data)}}vC.create=n=>new vC({typeName:he.ZodUndefined,...Ae(n)});class wC extends Me{_parse(e){if(this._getType(e)!==ne.null){const s=this._getOrReturnCtx(e);return K(s,{code:H.invalid_type,expected:ne.null,received:s.parsedType}),de}return yr(e.data)}}wC.create=n=>new wC({typeName:he.ZodNull,...Ae(n)});class bC extends Me{constructor(){super(...arguments),this._any=!0}_parse(e){return yr(e.data)}}bC.create=n=>new bC({typeName:he.ZodAny,...Ae(n)});class xC extends Me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yr(e.data)}}xC.create=n=>new xC({typeName:he.ZodUnknown,...Ae(n)});class Ol extends Me{_parse(e){const t=this._getOrReturnCtx(e);return K(t,{code:H.invalid_type,expected:ne.never,received:t.parsedType}),de}}Ol.create=n=>new Ol({typeName:he.ZodNever,...Ae(n)});class SC extends Me{_parse(e){if(this._getType(e)!==ne.undefined){const s=this._getOrReturnCtx(e);return K(s,{code:H.invalid_type,expected:ne.void,received:s.parsedType}),de}return yr(e.data)}}SC.create=n=>new SC({typeName:he.ZodVoid,...Ae(n)});class Ui extends Me{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==ne.array)return K(t,{code:H.invalid_type,expected:ne.array,received:t.parsedType}),de;if(r.exactLength!==null){const o=t.data.length>r.exactLength.value,l=t.data.length<r.exactLength.value;(o||l)&&(K(t,{code:o?H.too_big:H.too_small,minimum:l?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(K(t,{code:H.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(K(t,{code:H.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>r.type._parseAsync(new Il(t,o,t.path,l)))).then(o=>Vs.mergeArray(s,o));const i=[...t.data].map((o,l)=>r.type._parseSync(new Il(t,o,t.path,l)));return Vs.mergeArray(s,i)}get element(){return this._def.type}min(e,t){return new Ui({...this._def,minLength:{value:e,message:re.toString(t)}})}max(e,t){return new Ui({...this._def,maxLength:{value:e,message:re.toString(t)}})}length(e,t){return new Ui({...this._def,exactLength:{value:e,message:re.toString(t)}})}nonempty(e){return this.min(1,e)}}Ui.create=(n,e)=>new Ui({type:n,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...Ae(e)});function Hu(n){if(n instanceof Dt){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=Rl.create(Hu(s))}return new Dt({...n._def,shape:()=>e})}else return n instanceof Ui?new Ui({...n._def,type:Hu(n.element)}):n instanceof Rl?Rl.create(Hu(n.unwrap())):n instanceof bf?bf.create(Hu(n.unwrap())):n instanceof Ru?Ru.create(n.items.map(e=>Hu(e))):n}class Dt extends Me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Le.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ne.object){const u=this._getOrReturnCtx(e);return K(u,{code:H.invalid_type,expected:ne.object,received:u.parsedType}),de}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ol&&this._def.unknownKeys==="strip"))for(const u in r.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Il(r,h,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Ol){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")l.length>0&&(K(r,{code:H.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Il(r,h,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Vs.mergeObjectSync(s,u)):Vs.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new Dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var i,o;const r=((o=(i=this._def).errorMap)==null?void 0:o.call(i,t,s).message)??s.defaultError;return t.code==="unrecognized_keys"?{message:re.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Dt({...this._def,catchall:e})}pick(e){const t={};for(const s of Le.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new Dt({...this._def,shape:()=>t})}omit(e){const t={};for(const s of Le.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new Dt({...this._def,shape:()=>t})}deepPartial(){return Hu(this)}partial(e){const t={};for(const s of Le.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}return new Dt({...this._def,shape:()=>t})}required(e){const t={};for(const s of Le.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Rl;)i=i._def.innerType;t[s]=i}return new Dt({...this._def,shape:()=>t})}keyof(){return UN(Le.objectKeys(this.shape))}}Dt.create=(n,e)=>new Dt({shape:()=>n,unknownKeys:"strip",catchall:Ol.create(),typeName:he.ZodObject,...Ae(e)});Dt.strictCreate=(n,e)=>new Dt({shape:()=>n,unknownKeys:"strict",catchall:Ol.create(),typeName:he.ZodObject,...Ae(e)});Dt.lazycreate=(n,e)=>new Dt({shape:n,unknownKeys:"strip",catchall:Ol.create(),typeName:he.ZodObject,...Ae(e)});class x0 extends Me{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function r(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Vi(l.ctx.common.issues));return K(t,{code:H.invalid_union,unionErrors:o}),de}if(t.common.async)return Promise.all(s.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const c of s){const u={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Vi(c));return K(t,{code:H.invalid_union,unionErrors:l}),de}}get options(){return this._def.options}}x0.create=(n,e)=>new x0({options:n,typeName:he.ZodUnion,...Ae(e)});function Wx(n,e){const t=pa(n),s=pa(e);if(n===e)return{valid:!0,data:n};if(t===ne.object&&s===ne.object){const r=Le.objectKeys(e),i=Le.objectKeys(n).filter(l=>r.indexOf(l)!==-1),o={...n,...e};for(const l of i){const c=Wx(n[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(t===ne.array&&s===ne.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<n.length;i++){const o=n[i],l=e[i],c=Wx(o,l);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return t===ne.date&&s===ne.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class S0 extends Me{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=(i,o)=>{if(fC(i)||fC(o))return de;const l=Wx(i.value,o.value);return l.valid?((pC(i)||pC(o))&&t.dirty(),{status:t.value,value:l.data}):(K(s,{code:H.invalid_intersection_types}),de)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}S0.create=(n,e,t)=>new S0({left:n,right:e,typeName:he.ZodIntersection,...Ae(t)});class Ru extends Me{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ne.array)return K(s,{code:H.invalid_type,expected:ne.array,received:s.parsedType}),de;if(s.data.length<this._def.items.length)return K(s,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&s.data.length>this._def.items.length&&(K(s,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Il(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Vs.mergeArray(t,o)):Vs.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Ru({...this._def,rest:e})}}Ru.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ru({items:n,typeName:he.ZodTuple,rest:null,...Ae(e)})};class AC extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ne.map)return K(s,{code:H.invalid_type,expected:ne.map,received:s.parsedType}),de;const r=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:r._parse(new Il(s,l,s.path,[u,"key"])),value:i._parse(new Il(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return de;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),l.set(u.value,d.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return de;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),l.set(u.value,d.value)}return{status:t.value,value:l}}}}AC.create=(n,e,t)=>new AC({valueType:e,keyType:n,typeName:he.ZodMap,...Ae(t)});class nm extends Me{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ne.set)return K(s,{code:H.invalid_type,expected:ne.set,received:s.parsedType}),de;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(K(s,{code:H.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(K(s,{code:H.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return de;d.status==="dirty"&&t.dirty(),u.add(d.value)}return{status:t.value,value:u}}const l=[...s.data.values()].map((c,u)=>i._parse(new Il(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,t){return new nm({...this._def,minSize:{value:e,message:re.toString(t)}})}max(e,t){return new nm({...this._def,maxSize:{value:e,message:re.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}nm.create=(n,e)=>new nm({valueType:n,minSize:null,maxSize:null,typeName:he.ZodSet,...Ae(e)});class EC extends Me{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}EC.create=(n,e)=>new EC({getter:n,typeName:he.ZodLazy,...Ae(e)});class _C extends Me{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return K(t,{received:t.data,code:H.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:e.data}}get value(){return this._def.value}}_C.create=(n,e)=>new _C({value:n,typeName:he.ZodLiteral,...Ae(e)});function UN(n,e){return new vf({values:n,typeName:he.ZodEnum,...Ae(e)})}class vf extends Me{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return K(t,{expected:Le.joinValues(s),received:t.parsedType,code:H.invalid_type}),de}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return K(t,{received:t.data,code:H.invalid_enum_value,options:s}),de}return yr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return vf.create(e,{...this._def,...t})}exclude(e,t=this._def){return vf.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}vf.create=UN;class CC extends Me{_parse(e){const t=Le.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ne.string&&s.parsedType!==ne.number){const r=Le.objectValues(t);return K(s,{expected:Le.joinValues(r),received:s.parsedType,code:H.invalid_type}),de}if(this._cache||(this._cache=new Set(Le.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Le.objectValues(t);return K(s,{received:s.data,code:H.invalid_enum_value,options:r}),de}return yr(e.data)}get enum(){return this._def.values}}CC.create=(n,e)=>new CC({values:n,typeName:he.ZodNativeEnum,...Ae(e)});class A0 extends Me{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ne.promise&&t.common.async===!1)return K(t,{code:H.invalid_type,expected:ne.promise,received:t.parsedType}),de;const s=t.parsedType===ne.promise?t.data:Promise.resolve(t.data);return yr(s.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}A0.create=(n,e)=>new A0({type:n,typeName:he.ZodPromise,...Ae(e)});class wf extends Me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:o=>{K(s,o),o.fatal?t.abort():t.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(t.value==="aborted")return de;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?de:c.status==="dirty"||t.value==="dirty"?Zf(c.value):c});{if(t.value==="aborted")return de;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?de:l.status==="dirty"||t.value==="dirty"?Zf(l.value):l}}if(r.type==="refinement"){const o=l=>{const c=r.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?de:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?de:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!yf(o))return de;const l=r.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>yf(o)?Promise.resolve(r.transform(o.value,i)).then(l=>({status:t.value,value:l})):de);Le.assertNever(r)}}wf.create=(n,e,t)=>new wf({schema:n,typeName:he.ZodEffects,effect:e,...Ae(t)});wf.createWithPreprocess=(n,e,t)=>new wf({schema:e,effect:{type:"preprocess",transform:n},typeName:he.ZodEffects,...Ae(t)});class Rl extends Me{_parse(e){return this._getType(e)===ne.undefined?yr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rl.create=(n,e)=>new Rl({innerType:n,typeName:he.ZodOptional,...Ae(e)});class bf extends Me{_parse(e){return this._getType(e)===ne.null?yr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bf.create=(n,e)=>new bf({innerType:n,typeName:he.ZodNullable,...Ae(e)});class Gx extends Me{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===ne.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Gx.create=(n,e)=>new Gx({innerType:n,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ae(e)});class qx extends Me{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return w0(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vi(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Vi(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}qx.create=(n,e)=>new qx({innerType:n,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ae(e)});class kC extends Me{_parse(e){if(this._getType(e)!==ne.nan){const s=this._getOrReturnCtx(e);return K(s,{code:H.invalid_type,expected:ne.nan,received:s.parsedType}),de}return{status:"valid",value:e.data}}}kC.create=n=>new kC({typeName:he.ZodNaN,...Ae(n)});class jz extends Me{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class zA extends Me{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?de:i.status==="dirty"?(t.dirty(),Zf(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?de:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,t){return new zA({in:e,out:t,typeName:he.ZodPipeline})}}class Xx extends Me{_parse(e){const t=this._def.innerType._parse(e),s=r=>(yf(r)&&(r.value=Object.freeze(r.value)),r);return w0(t)?t.then(r=>s(r)):s(t)}unwrap(){return this._def.innerType}}Xx.create=(n,e)=>new Xx({innerType:n,typeName:he.ZodReadonly,...Ae(e)});var he;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(he||(he={}));const Ab=bl.create;Ol.create;Ui.create;const Bz=Dt.create;x0.create;S0.create;Ru.create;vf.create;A0.create;Rl.create;bf.create;const zz=Bz({name:Ab().trim().min(1,"Name is required").max(100,"Name must be less than 100 characters"),email:Ab().trim().email("Invalid email address").max(255,"Email must be less than 255 characters"),message:Ab().trim().min(1,"Message is required").max(1e3,"Message must be less than 1000 characters")}),$z=()=>{const[n,e]=k.useState({name:"",email:"",message:""}),[t,s]=k.useState(!1),[r,i]=k.useState({}),[o,l]=k.useState(!1),c=async f=>{f.preventDefault();try{const p=zz.parse(n);i({}),s(!0),await hz.send("service_s6frh8y","template_u3is5b6",{from_name:p.name,from_email:p.email,message:p.message},"fM24KjD1amWug6xNK"),Ex({title:"Message Sent!",description:"Thank you for reaching out. I'll get back to you soon."}),e({name:"",email:"",message:""})}catch(p){if(p instanceof Vi){const v={};p.errors.forEach(m=>{m.path[0]&&(v[m.path[0].toString()]=m.message)}),i(v)}else console.error("EmailJS Error:",p),Ex({title:"Failed to Send",description:"Something went wrong. Please try again or email me directly.",variant:"destructive"})}finally{s(!1)}},u={"Programming Languages":["Python","C++","Java"],"Web Development":["HTML","CSS","JavaScript","Flask","React","REST APIs"],"ML/AI":["scikit-learn","TensorFlow","Keras","PyTorch"],"Data Analysis":["Pandas","NumPy","Matplotlib","Seaborn"],Tools:["Git","GitHub","Jupyter","Colab","MySQL","Excel"]},d=[{id:"driver-drowsiness",title:"Driver Drowsiness Detector",category:"AI + Computer Vision",description:"Real-time drowsiness detection system with Python, OpenCV, and MediaPipe featuring automated alerts for driver safety.",tech:["Python","OpenCV","MediaPipe","Computer Vision"],icon:GO,image:NN},{id:"inventory-management",title:"Inventory & Order Management",category:"Full-Stack Application",description:"Comprehensive management system using React, Python, and MySQL for efficient inventory tracking and order processing.",tech:["React","Python","MySQL","REST APIs"],icon:YO,image:PN},{id:"blog-cms",title:"Blog CMS Platform",category:"Content Management",description:"Dynamic platform for creating, managing, and publishing blog content with Python backend and MySQL database.",tech:["Python","MySQL","Flask","HTML/CSS"],icon:QO,image:RN}],h=f=>{const p=document.getElementById(f);p==null||p.scrollIntoView({behavior:"smooth"})};return A.jsxs("div",{className:"min-h-screen",children:[A.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-b border-border",children:A.jsxs("div",{className:"container mx-auto px-6 py-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Ayushman Singh"}),A.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[A.jsx("button",{onClick:()=>h("home"),className:"hover:text-primary transition-colors",children:"Home"}),A.jsx("button",{onClick:()=>h("about"),className:"hover:text-primary transition-colors",children:"About"}),A.jsx("button",{onClick:()=>h("projects"),className:"hover:text-primary transition-colors",children:"Projects"}),A.jsx("button",{onClick:()=>h("experience"),className:"hover:text-primary transition-colors",children:"Experience"}),A.jsx("button",{onClick:()=>h("contact"),className:"hover:text-primary transition-colors",children:"Contact"})]}),A.jsx("div",{className:"hidden md:block",children:A.jsx(Wn,{variant:"default",onClick:()=>h("contact"),children:"Let's Talk"})}),A.jsx(Wn,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>l(!o),children:o?A.jsx(uR,{className:"h-6 w-6"}):A.jsx(eF,{className:"h-6 w-6"})})]}),o&&A.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-border pt-4 animate-fade-in",children:A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("button",{onClick:()=>{h("home"),l(!1)},className:"text-left hover:text-primary transition-colors py-2",children:"Home"}),A.jsx("button",{onClick:()=>{h("about"),l(!1)},className:"text-left hover:text-primary transition-colors py-2",children:"About"}),A.jsx("button",{onClick:()=>{h("projects"),l(!1)},className:"text-left hover:text-primary transition-colors py-2",children:"Projects"}),A.jsx("button",{onClick:()=>{h("experience"),l(!1)},className:"text-left hover:text-primary transition-colors py-2",children:"Experience"}),A.jsx("button",{onClick:()=>{h("contact"),l(!1)},className:"text-left hover:text-primary transition-colors py-2",children:"Contact"}),A.jsx(Wn,{variant:"default",onClick:()=>{h("contact"),l(!1)},className:"w-full",children:"Let's Talk"})]})})]})}),A.jsx("section",{id:"home",className:"gradient-hero pt-32 pb-20 px-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[A.jsxs("div",{className:"space-y-6 animate-fade-in",children:[A.jsx(ms,{className:"bg-primary/10 text-primary hover:bg-primary/20",children:"Available for Opportunities"}),A.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight",children:["Hello, I'm ",A.jsx("br",{}),A.jsx("span",{className:"text-gradient",children:"Ayushman Singh"})]}),A.jsx("p",{className:"text-xl text-muted-foreground",children:"Aspiring Software Developer | AI & Full-Stack Enthusiast"}),A.jsx("p",{className:"text-lg leading-relaxed",children:"Motivated B.Tech student in CSE  Data Science, skilled in Python, C++, data structures & algorithms, and modern web technologies. Passionate about building real-world projects, solving problems, and creating innovative solutions."}),A.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[A.jsx(Wn,{size:"lg",className:"gap-2",asChild:!0,children:A.jsxs(lC,{to:"/resume",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[A.jsx(KO,{className:"w-4 h-4"}),"View Resume"]})}),A.jsx(Wn,{size:"lg",variant:"outline",onClick:()=>h("projects"),children:"View Portfolio"}),A.jsx(Wn,{size:"lg",variant:"outline",onClick:()=>h("contact"),children:"Contact Me"})]}),A.jsxs("div",{className:"flex gap-4 pt-4",children:[A.jsx("a",{href:"https://github.com/Ayushman-S-ingh",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-primary/10 rounded-full transition-colors",children:A.jsx(h0,{className:"w-6 h-6"})}),A.jsx("a",{href:"https://linkedin.com/in/Ayushman--singh",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-primary/10 rounded-full transition-colors",children:A.jsx(R_,{className:"w-6 h-6"})}),A.jsx("a",{href:"mailto:ayushmansingh40013@gmail.com",className:"p-2 hover:bg-primary/10 rounded-full transition-colors",children:A.jsx(N_,{className:"w-6 h-6"})})]})]}),A.jsx("div",{className:"relative animate-fade-in",children:A.jsxs("div",{className:"relative w-full max-w-md mx-auto",children:[A.jsx("div",{className:"aspect-square rounded-full bg-gradient-to-br from-primary to-accent opacity-20 absolute inset-0 animate-float"}),A.jsx("div",{className:"relative aspect-square rounded-full bg-card border-4 border-primary/20 shadow-2xl overflow-hidden",children:A.jsxs(CN,{className:"w-full h-full rounded-full",children:[A.jsx(kN,{src:J4,alt:"Ayushman Singh",className:"object-cover"}),A.jsx(TN,{children:"AS"})]})}),A.jsxs("div",{className:"absolute top-4 right-4 bg-card p-4 rounded-2xl shadow-lg animate-slide-in",children:[A.jsx("div",{className:"text-3xl font-bold text-primary",children:"3"}),A.jsx("div",{className:"text-sm text-muted-foreground",children:"Projects"})]}),A.jsxs("div",{className:"absolute bottom-8 left-4 bg-card p-4 rounded-2xl shadow-lg animate-slide-in",children:[A.jsx("div",{className:"text-3xl font-bold text-primary",children:"100%"}),A.jsx("div",{className:"text-sm text-muted-foreground",children:"Dedication"})]})]})})]}),A.jsx("div",{className:"flex justify-center mt-12",children:A.jsx("button",{onClick:()=>h("about"),className:"animate-bounce",children:A.jsx(XO,{className:"w-8 h-8 text-primary"})})})]})}),A.jsx("section",{id:"about",className:"py-20 px-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About Me"}),A.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Passionate about leveraging technology to solve real-world problems"})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-8 space-y-4",children:[A.jsx("h3",{className:"text-2xl font-bold mb-6",children:"My Journey"}),A.jsx("p",{className:"text-lg leading-relaxed",children:"As a Computer Science student specializing in Data Science, I'm deeply passionate about artificial intelligence, machine learning, and full-stack development. My journey in tech has been driven by curiosity and a desire to create impactful solutions."}),A.jsx("p",{className:"text-lg leading-relaxed",children:"I've successfully developed AI-based applications including real-time computer vision systems, comprehensive web applications, and data analytics platforms. Each project has strengthened my technical skills and problem-solving abilities."}),A.jsxs("div",{className:"pt-4",children:[A.jsx("h4",{className:"font-bold text-lg mb-3",children:"Core Strengths:"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:["Problem Solving","Communication","Leadership","Creativity","Adaptability","Team Collaboration"].map(f=>A.jsx(ms,{variant:"secondary",className:"text-sm",children:f},f))})]})]})}),A.jsxs("div",{className:"space-y-6",children:[A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsx(hn,{className:"p-6",children:A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(qO,{className:"w-6 h-6 text-primary"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h4",{className:"font-bold text-lg mb-2",children:"Education"}),A.jsx("div",{className:"space-y-3",children:A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:"B.Tech in Computer Science & Engineering"}),A.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Science Specialization"}),A.jsx("p",{className:"text-sm text-muted-foreground",children:"Noida Institute of Engineering and Technology"}),A.jsx("p",{className:"text-sm text-primary",children:"Expected Aug 2026"})]})})]})]})})}),A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsx(hn,{className:"p-6",children:A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(ms,{className:"w-6 h-6 text-primary"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h4",{className:"font-bold text-lg mb-2",children:"Certifications"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),A.jsx("p",{className:"text-sm",children:"Python Basics - Coursera"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),A.jsx("p",{className:"text-sm",children:"Java Programming Fundamentals (OOP & DSA)"})]})]})]})]})})}),A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsx(hn,{className:"p-6",children:A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(JO,{className:"w-6 h-6 text-primary"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h4",{className:"font-bold text-lg mb-2",children:"Previous Education"}),A.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[A.jsx("p",{children:"Intermediate - Harsh Chandra Inter College (2021) - 70%"}),A.jsx("p",{children:"High School - Harsh Chandra Inter College (2019) - 78%"})]})]})]})})})]})]})]})}),A.jsx("section",{className:"py-20 px-6 bg-secondary/30",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Technical Skills"}),A.jsx("p",{className:"text-xl text-muted-foreground",children:"Comprehensive toolkit for building modern applications"})]}),A.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(u).map(([f,p])=>A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300 hover:shadow-lg",children:A.jsxs(hn,{className:"p-6",children:[A.jsx("h3",{className:"font-bold text-lg mb-4 text-primary",children:f}),A.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>A.jsx(ms,{variant:"outline",className:"text-sm",children:v},v))})]})},f))})]})}),A.jsx("section",{id:"projects",className:"py-20 px-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Featured Projects"}),A.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Showcasing real-world applications built with cutting-edge technologies"})]}),A.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map((f,p)=>A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300 hover:shadow-xl group overflow-hidden",children:A.jsxs(hn,{className:"p-0",children:[f.image?A.jsx("div",{className:"relative h-48 overflow-hidden",children:A.jsx("img",{src:f.image,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}):A.jsx("div",{className:"bg-gradient-to-br from-primary/20 to-accent/20 p-12 flex items-center justify-center group-hover:from-primary/30 group-hover:to-accent/30 transition-all",children:A.jsx(f.icon,{className:"w-20 h-20 text-primary"})}),A.jsxs("div",{className:"p-6 space-y-4",children:[A.jsxs("div",{children:[A.jsx(ms,{variant:"secondary",className:"mb-2",children:f.category}),A.jsx("h3",{className:"text-xl font-bold mb-2",children:f.title}),A.jsx("p",{className:"text-muted-foreground",children:f.description})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:f.tech.map(v=>A.jsx(ms,{variant:"outline",className:"text-xs",children:v},v))}),A.jsx(lC,{to:`/project/${f.id}`,children:A.jsxs(Wn,{variant:"ghost",className:"w-full gap-2 group-hover:bg-primary group-hover:text-primary-foreground transition-all",children:["View Details",A.jsx(cR,{className:"w-4 h-4"})]})})]})]})},p))})]})}),A.jsx("section",{id:"experience",className:"py-20 px-6 bg-secondary/30",children:A.jsxs("div",{className:"container mx-auto max-w-4xl",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Experience"}),A.jsx("p",{className:"text-xl text-muted-foreground",children:"Professional journey and achievements"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute left-0 md:left-1/2 top-0 bottom-0 w-0.5 bg-border"}),A.jsx("div",{className:"relative",children:A.jsxs("div",{className:"mb-8 md:ml-12",children:[A.jsx("div",{className:"absolute left-0 md:left-1/2 w-4 h-4 bg-primary rounded-full -ml-2 md:-ml-2"}),A.jsx(en,{className:"md:ml-8 border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-6",children:[A.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:[A.jsx("h3",{className:"text-xl font-bold",children:"Data Analytics Intern"}),A.jsx(ms,{variant:"secondary",children:"Oct 2023 - Nov 2023"})]}),A.jsx("p",{className:"text-primary font-semibold mb-3",children:"YBI Foundation"}),A.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Worked extensively on data cleaning, analysis, and visualization using Python and Excel. Developed insights from complex datasets and created comprehensive reports to support data-driven decision making. Collaborated with cross-functional teams to identify trends and patterns in large datasets."}),A.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[A.jsx(ms,{variant:"outline",children:"Python"}),A.jsx(ms,{variant:"outline",children:"Excel"}),A.jsx(ms,{variant:"outline",children:"Data Analysis"}),A.jsx(ms,{variant:"outline",children:"Visualization"})]})]})})]})})]})]})}),A.jsx("section",{id:"contact",className:"py-20 px-6",children:A.jsxs("div",{className:"container mx-auto max-w-4xl",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Let's Work Together"}),A.jsx("p",{className:"text-xl text-muted-foreground",children:"Have a project in mind? Let's discuss how I can help bring your ideas to life"})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[A.jsx(en,{className:"border-2",children:A.jsxs(hn,{className:"p-8 space-y-6",children:[A.jsx("h3",{className:"text-2xl font-bold",children:"Get in Touch"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(N_,{className:"w-5 h-5 text-primary"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:"Email"}),A.jsx("a",{href:"mailto:ayushmansingh40013@gmail.com",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"ayushmansingh40013@gmail.com"})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(tF,{className:"w-5 h-5 text-primary"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:"Phone"}),A.jsx("a",{href:"tel:+917380625760",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"+91 7380625760"})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(h0,{className:"w-5 h-5 text-primary"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:"GitHub"}),A.jsx("a",{href:"https://github.com/Ayushman-S-ingh",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"@Ayushman-S-ingh"})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:A.jsx(R_,{className:"w-5 h-5 text-primary"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:"LinkedIn"}),A.jsx("a",{href:"https://linkedin.com/in/Ayushman--singh",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"@Ayushman--singh"})]})]})]})]})}),A.jsx(en,{className:"border-2",children:A.jsx(hn,{className:"p-8",children:A.jsxs("form",{onSubmit:c,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Name"}),A.jsx(Hx,{placeholder:"Your name",value:n.name,onChange:f=>e({...n,name:f.target.value}),className:r.name?"border-red-500":""}),r.name&&A.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.name})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Email"}),A.jsx(Hx,{type:"email",placeholder:"your.email@example.com",value:n.email,onChange:f=>e({...n,email:f.target.value}),className:r.email?"border-red-500":""}),r.email&&A.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.email})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Message"}),A.jsx(pN,{placeholder:"Tell me about your project...",rows:5,value:n.message,onChange:f=>e({...n,message:f.target.value}),className:r.message?"border-red-500":""}),r.message&&A.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.message})]}),A.jsx(Wn,{type:"submit",className:"w-full",size:"lg",disabled:t,children:t?A.jsxs(A.Fragment,{children:[A.jsx(ZO,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Message"})]})})})]})]})}),A.jsx("footer",{className:"bg-secondary/30 py-8 px-6",children:A.jsxs("div",{className:"container mx-auto text-center",children:[A.jsx("p",{className:"text-muted-foreground",children:" 2025 Ayushman Singh. All rights reserved."}),A.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Built with React, TypeScript, and Tailwind CSS"})]})})]})},Uz={"driver-drowsiness":{title:"Driver Drowsiness Detection System",category:"AI & Computer Vision | Python | Flask Web Integration",image:NN,overview:"The Driver Drowsiness Detection System is an intelligent computer vision-based safety solution that monitors a driver's alertness level in real time. Using facial landmark detection, it analyzes the driver's eye aspect ratio and yawning patterns to detect signs of fatigue or sleepiness. Once detected, it immediately triggers an alarm or notification to prevent potential accidents.",objectives:["Reduce road accidents caused by drowsy driving","Automate driver monitoring without external sensors","Provide an easily deployable solution for smart vehicles"],technologies:[{label:"Programming Language",value:"Python"},{label:"Libraries",value:"OpenCV, Mediapipe, NumPy, Pygame, Dlib (optional)"},{label:"Web Framework",value:"Flask (for creating a web interface)"},{label:"Frontend",value:"HTML, CSS"},{label:"Hardware",value:"Webcam or external camera"}],architecture:["Video input stream captured from webcam","Facial landmarks detected using Mediapipe","Eye Aspect Ratio (EAR) and mouth opening ratio computed","If EAR < threshold  drowsiness detected  sound alarm using Pygame","Flask web dashboard displays live video feed and system alerts"],features:["Real-time face and eye monitoring","Accurate drowsiness detection using landmark tracking","Audio alert system and optional dashboard display","Modular architecture for future IoT or car system integration","Potential extensions like auto-drive or emergency call triggers"],challenges:["Handling low-light detection accuracy","Optimizing frame processing speed for real-time alerts","Fine-tuning EAR thresholds for different users"],outcome:"Created a robust, low-latency detection system achieving ~90% accuracy in identifying eye closure or yawning, demonstrating the potential of AI in driver safety applications.",tech:["Python","OpenCV","MediaPipe","Flask","Computer Vision","Pygame"]},"inventory-management":{title:"Order and Inventory Management System",category:"Full Stack Web Application | MERN / Flask Stack",image:PN,overview:"This project is a role-based web application that allows businesses to manage customer orders, track inventory, and coordinate with vendors seamlessly. It supports multiple roles  Admin, Vendor, and Customer  each with dedicated dashboards and permissions. The system automates stock updates, manages order lifecycle, and prevents manual errors in stockkeeping.",objectives:["Simplify order and stock management for small businesses","Implement secure, role-based user access","Automate inventory tracking and alerts"],technologies:[{label:"Frontend",value:"React.js, HTML5, CSS3, Tailwind"},{label:"Backend",value:"Flask / Node.js (Express)"},{label:"Database",value:"MongoDB / MySQL"},{label:"Authentication",value:"JWT Tokens"},{label:"Tools",value:"Postman (API testing), VS Code"}],architecture:["User authentication and role assignment through JWT","React frontend interacts with backend APIs for CRUD operations","Database maintains product catalog, stock data, and orders","Admin manages users and inventory; Vendors handle products; Customers place orders","Dashboard displays analytics (orders, stock alerts, sales)"],features:["Multi-role authentication (Admin, Vendor, Customer)","Add/update/delete products with stock quantity","Auto-decrement stock after each order","Notifications for low stock","Order tracking and detailed analytics","Responsive and clean dashboard UI"],challenges:["Ensuring data synchronization between multiple user roles","Managing authentication tokens securely","Maintaining real-time inventory consistency during high load"],outcome:"Developed a full-stack web app capable of handling multi-role operations efficiently, demonstrating scalability and usability for small-to-medium retail businesses.",tech:["React","Node.js","MongoDB","MySQL","Flask","JWT","REST APIs"]},"blog-cms":{title:"Blog & Content Management System (CMS)",category:"Full Stack | Web Development | Content Platform",image:RN,overview:"The Blog CMS is a lightweight and user-friendly content management platform that enables users to create, edit, and manage blog posts efficiently. The system provides an admin dashboard for content moderation, a markdown-based editor for smooth writing, and a responsive layout optimized for reading and SEO.",objectives:["Build a CMS for managing articles and user content","Enable authenticated users to post, edit, and delete content","Create a modern, mobile-friendly UI for readers and writers"],technologies:[{label:"Frontend",value:"React.js, Tailwind CSS"},{label:"Backend",value:"Flask / Node.js"},{label:"Database",value:"MongoDB / SQLite"},{label:"APIs",value:"RESTful APIs for CRUD operations"},{label:"Editor",value:"Markdown / Rich Text Editor integration"}],architecture:["React-based frontend for creating and displaying posts","Backend API for authentication and content management","Database for storing users, posts, and comments","Admin dashboard for moderation and analytics"],features:["CRUD operations for posts and comments","Secure authentication and user sessions","Post search and category filters","Responsive UI optimized for mobile and desktop","Markdown support for blog content"],challenges:["Implementing smooth real-time markdown preview","Handling image uploads and media management","Balancing user permissions between readers, writers, and admins"],outcome:"Built a complete blogging and CMS system with a rich editing experience, proving strong backend and frontend integration skills.",tech:["React","Flask","Node.js","MongoDB","SQLite","Markdown","REST APIs"]}},Hz=()=>{const{projectId:n}=i4(),e=FA(),t=n?Uz[n]:null;if(k.useEffect(()=>{window.scrollTo(0,0)},[n]),!t)return A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Project Not Found"}),A.jsx(Wn,{onClick:()=>e("/"),children:"Go Back Home"})]})});const s=r=>{const i=document.getElementById(r);i==null||i.scrollIntoView({behavior:"smooth"})};return A.jsxs("div",{className:"min-h-screen",children:[A.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-b border-border",children:A.jsx("div",{className:"container mx-auto px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Ayushman Singh"}),A.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[A.jsx("button",{onClick:()=>e("/"),className:"hover:text-primary transition-colors",children:"Home"}),A.jsx("button",{onClick:()=>s("overview"),className:"hover:text-primary transition-colors",children:"Overview"}),A.jsx("button",{onClick:()=>s("technologies"),className:"hover:text-primary transition-colors",children:"Technologies"}),A.jsx("button",{onClick:()=>s("features"),className:"hover:text-primary transition-colors",children:"Features"}),A.jsx("button",{onClick:()=>s("source-code"),className:"hover:text-primary transition-colors",children:"Source Code"})]}),A.jsxs(Wn,{variant:"default",onClick:()=>e("/"),children:[A.jsx(Px,{className:"w-4 h-4 mr-2"}),"Back"]})]})})}),A.jsx("section",{className:"gradient-hero pt-32 pb-20 px-6",children:A.jsx("div",{className:"container mx-auto",children:A.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in text-center",children:[A.jsx(ms,{className:"bg-primary/10 text-primary hover:bg-primary/20",children:t.category}),A.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:A.jsx("span",{className:"text-gradient",children:t.title})}),A.jsx("div",{className:"flex flex-wrap justify-center gap-2 pt-4",children:t.tech.map(r=>A.jsx(ms,{variant:"outline",className:"text-sm",children:r},r))})]})})}),A.jsx("section",{className:"py-12 px-6",children:A.jsx("div",{className:"container mx-auto",children:A.jsx("div",{className:"max-w-5xl mx-auto",children:A.jsx(en,{className:"border-2 overflow-hidden",children:A.jsx("img",{src:t.image,alt:t.title,className:"w-full h-auto object-cover"})})})})}),A.jsx("section",{id:"overview",className:"py-12 px-6",children:A.jsx("div",{className:"container mx-auto",children:A.jsx("div",{className:"max-w-5xl mx-auto",children:A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-8 space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gradient",children:"Overview"}),A.jsx("p",{className:"text-lg leading-relaxed",children:t.overview}),A.jsxs("div",{className:"pt-4",children:[A.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Objectives"}),A.jsx("ul",{className:"space-y-2",children:t.objectives.map((r,i)=>A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),A.jsx("span",{className:"text-lg",children:r})]},i))})]})]})})})})}),A.jsx("section",{id:"technologies",className:"py-12 px-6 bg-secondary/30",children:A.jsx("div",{className:"container mx-auto",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsx("h2",{className:"text-3xl font-bold text-gradient mb-8 text-center",children:"Technologies Used"}),A.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.technologies.map((r,i)=>A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-6",children:[A.jsx("h3",{className:"font-bold text-lg text-primary mb-2",children:r.label}),A.jsx("p",{className:"text-muted-foreground",children:r.value})]})},i))})]})})}),A.jsx("section",{className:"py-12 px-6",children:A.jsx("div",{className:"container mx-auto",children:A.jsx("div",{className:"max-w-5xl mx-auto",children:A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-8 space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gradient",children:"System Architecture"}),A.jsx("ul",{className:"space-y-3",children:t.architecture.map((r,i)=>A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),A.jsx("span",{className:"text-lg",children:r})]},i))})]})})})})}),A.jsx("section",{id:"features",className:"py-12 px-6 bg-secondary/30",children:A.jsx("div",{className:"container mx-auto",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsx("h2",{className:"text-3xl font-bold text-gradient mb-8 text-center",children:"Key Features"}),A.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.features.map((r,i)=>A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-6 flex items-start gap-3",children:[A.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),A.jsx("span",{children:r})]})},i))})]})})}),A.jsx("section",{className:"py-12 px-6",children:A.jsx("div",{className:"container mx-auto",children:A.jsx("div",{className:"max-w-5xl mx-auto",children:A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-8 space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gradient",children:"Challenges Faced"}),A.jsx("ul",{className:"space-y-3",children:t.challenges.map((r,i)=>A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),A.jsx("span",{className:"text-lg",children:r})]},i))})]})})})})}),A.jsx("section",{className:"py-12 px-6 bg-secondary/30",children:A.jsx("div",{className:"container mx-auto",children:A.jsx("div",{className:"max-w-5xl mx-auto",children:A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-8 space-y-4",children:[A.jsx("h2",{className:"text-3xl font-bold text-gradient",children:"Outcome"}),A.jsx("p",{className:"text-lg leading-relaxed",children:t.outcome})]})})})})}),A.jsx("section",{id:"source-code",className:"py-12 px-6",children:A.jsx("div",{className:"container mx-auto",children:A.jsx("div",{className:"max-w-5xl mx-auto",children:A.jsx(en,{className:"border-2 hover:border-primary transition-all duration-300",children:A.jsxs(hn,{className:"p-8 space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(h0,{className:"w-8 h-8 text-primary"}),A.jsx("h2",{className:"text-3xl font-bold text-gradient",children:"View Source Code"})]}),A.jsx("p",{className:"text-lg text-muted-foreground",children:"The source code for this project will be available soon. Check back later or contact me for more details."}),A.jsxs("div",{className:"flex gap-4 pt-4",children:[A.jsxs(Wn,{variant:"outline",disabled:!0,className:"gap-2",children:[A.jsx(h0,{className:"w-4 h-4"}),"GitHub Repository"]}),A.jsxs(Wn,{variant:"outline",disabled:!0,className:"gap-2",children:[A.jsx(cR,{className:"w-4 h-4"}),"Live Demo"]})]})]})})})})}),A.jsx("footer",{className:"py-8 px-6 border-t border-border",children:A.jsx("div",{className:"container mx-auto text-center",children:A.jsxs(Wn,{onClick:()=>e("/"),className:"gap-2",children:[A.jsx(Px,{className:"w-4 h-4"}),"Back to Portfolio"]})})})]})},Hn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Yx=[.001,0,0,.001,0,0],Eb=1.35,Ds={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Oi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sm="pdfjs_internal_editor_",ce={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},_e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},HN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},rn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Rp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Vu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},oy={ERRORS:0,WARNINGS:1,INFOS:5},xf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},jy={moveTo:0,lineTo:1,curveTo:2,closePath:3},VN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tw=oy.WARNINGS;function Vz(n){Number.isInteger(n)&&(Tw=n)}function Wz(){return Tw}function Pw(n){Tw>=oy.INFOS&&console.info(`Info: ${n}`)}function ue(n){Tw>=oy.WARNINGS&&console.warn(`Warning: ${n}`)}function Ke(n){throw new Error(n)}function ke(n,e){n||Ke(e)}function Gz(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $A(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Qz(n)}catch{}}const s=e?URL.parse(n,e):URL.parse(n);return Gz(s)?s:null}function UA(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&$A(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ye(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const Fu=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class TC extends Fu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _b extends Fu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class E0 extends Fu{constructor(e){super(e,"InvalidPDFException")}}class rm extends Fu{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class qz extends Fu{constructor(e){super(e,"FormatError")}}class Qo extends Fu{constructor(e){super(e,"AbortException")}}function WN(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ke("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),o=n.subarray(r,i);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function ay(n){typeof n!="string"&&Ke("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function Xz(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Yz(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Kz(){try{return new Function(""),!0}catch{return!1}}class sn{static get isLittleEndian(){return ye(this,"isLittleEndian",Yz())}static get isEvalSupported(){return ye(this,"isEvalSupported",Kz())}static get isOffscreenCanvasSupported(){return ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ye(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ye(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ye(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Cb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Uo,cv,Kx;class J{static makeHexColor(e,t,s){return`#${Cb[e]}${Cb[t]}${Cb[s]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,s=0){const r=e[s],i=e[s+1];e[s]=r*t[0]+i*t[2]+t[4],e[s+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const r=t[0],i=t[1],o=t[2],l=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[s+d],f=e[s+d+1];e[s+d]=h*r+f*o+c,e[s+d+1]=h*i+f*l+u}}static applyInverseTransform(e,t){const s=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-s*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,s){const r=t[0],i=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let v=r*d+c,m=v,b=r*f+c,y=b,w=l*h+u,x=w,_=l*p+u,C=_;if(i!==0||o!==0){const T=i*d,P=i*f,R=o*h,M=o*p;v+=R,y+=R,b+=M,m+=M,w+=T,C+=T,_+=P,x+=P}s[0]=Math.min(s[0],v,b,m,y),s[1]=Math.min(s[1],w,_,x,C),s[2]=Math.max(s[2],v,b,m,y),s[3]=Math.max(s[3],w,_,x,C)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],r=e[1],i=e[2],o=e[3],l=s**2+r**2,c=s*i+r*o,u=i**2+o**2,d=(l+u)/2,h=Math.sqrt(d**2-(l*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[s,i,r,o]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,r,i){i[0]=Math.min(i[0],e,s),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,s),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,s,r,i,o,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),E(this,Uo,Kx).call(this,e,s,i,l,t,r,o,c,3*(-e+3*(s-i)+l),6*(e-2*s+i),3*(s-e),u),E(this,Uo,Kx).call(this,e,s,i,l,t,r,o,c,3*(-t+3*(r-o)+c),6*(t-2*r+o),3*(r-t),u)}}Uo=new WeakSet,cv=function(e,t,s,r,i,o,l,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,v=h*(h*(h*e+3*u*t)+3*f*s)+p*r,m=h*(h*(h*i+3*u*o)+3*f*l)+p*c;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],m)},Kx=function(e,t,s,r,i,o,l,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,Uo,cv).call(this,e,t,s,r,i,o,l,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const v=Math.sqrt(p),m=2*u;E(this,Uo,cv).call(this,e,t,s,r,i,o,l,c,(-d+v)/m,f),E(this,Uo,cv).call(this,e,t,s,r,i,o,l,c,(-d-v)/m,f)},S(J,Uo);function Qz(n){return decodeURIComponent(escape(n))}let kb=null,PC=null;function GN(n){return kb||(kb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,PC=new Map([["","t"]])),n.replaceAll(kb,(e,t,s)=>t?t.normalize("NFKC"):PC.get(s))}function HA(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),WN(n)}const VA="pdfjs_internal_id_";function Zz(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,r,...i]=t;if(!n(s)&&!Number.isInteger(s)||!e(r))return!1;const o=i.length;let l=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const c of i)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function Rn(n,e,t){return Math.min(Math.max(n,e),t)}function qN(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(WN(n))}function Jz(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):ay(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class im{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(i){var c;if(!i)return;let o=null;const l=i.name;if(l==="#text")o=i.value;else if(im.shouldBuildText(l))(c=i==null?void 0:i.attributes)!=null&&c.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)r(u)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class WA{static setupStorage(e,t,s,r,i){const o=r.getValue(t,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?e.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",l=>{r.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of s.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:i}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&i.addLinkAttributes(e,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(e,o.dataId,t,s)}static render(e){var h,f;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,i=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:s});const l=i!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),l&&im.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const d=[[r,-1,o]];for(;d.length>0;){const[p,v,m]=d.at(-1);if(v+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const x=document.createTextNode(b.value);u.push(x),m.append(x);continue}const w=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(m.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:t,intent:i,linkService:s}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,w]);else if(b.value){const x=document.createTextNode(b.value);l&&im.shouldBuildText(y)&&u.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ki="http://www.w3.org/2000/svg",Zl=class Zl{};z(Zl,"CSS",96),z(Zl,"PDF",72),z(Zl,"PDF_TO_CSS_UNITS",Zl.CSS/Zl.PDF);let Zo=Zl;async function Nf(n,e="text"){if(Jf(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class ly{constructor({viewBox:e,userUnit:t,scale:s,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=r,this.offsetX=i,this.offsetY=o,s*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(f=-f,p=-p);let v,m,b,y;d===0?(v=Math.abs(u-e[1])*s+i,m=Math.abs(c-e[0])*s+o,b=(e[3]-e[1])*s,y=(e[2]-e[0])*s):(v=Math.abs(c-e[0])*s+i,m=Math.abs(u-e[1])*s+o,b=(e[2]-e[0])*s,y=(e[3]-e[1])*s),this.transform=[d*s,h*s,f*s,p*s,v-d*s*c-f*s*u,m-h*s*c-p*s*u],this.width=b,this.height=y}get rawDims(){const e=this.viewBox;return ye(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new ly({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const s=[e,t];return J.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];J.applyTransform(t,this.transform);const s=[e[2],e[3]];return J.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return J.applyInverseTransform(s,this.transform),s}}class Rw extends Fu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function cy(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Nw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function XN(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function YN(n,e="document.pdf"){if(typeof n!="string")return e;if(cy(n))return ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!s)return e;const r=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},i=/\.pdf$/i,o=s.pathname.split("/").at(-1);if(i.test(o))return r(o);if(s.searchParams.size>0){const l=Array.from(s.searchParams.values()).reverse();for(const u of l)if(i.test(u))return r(u);const c=Array.from(s.searchParams.keys()).reverse();for(const u of c)if(i.test(u))return r(u)}if(s.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(c)return r(c[0])}return e}class RC{constructor(){z(this,"started",Object.create(null));z(this,"times",[])}time(e){e in this.started&&ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:i}of this.times)e.push(`${s.padEnd(t)} ${i-r}ms
`);return e.join("")}}function Jf(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ws(n){n.preventDefault()}function pt(n){n.preventDefault(),n.stopPropagation()}function e$(n){console.log("Deprecated API usage: "+n)}var pm;class om{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;a(this,pm)||g(this,pm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,pm).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,l+=h):u==="+"&&(o-=d,l-=h),new Date(Date.UTC(s,r,i,o,l,c))}}pm=new WeakMap,S(om,pm);function KN(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,i=[0,0,parseInt(s),parseInt(r)];return new ly({viewBox:i,userUnit:1,scale:e,rotation:t})}function Mf(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ue(`Not a valid color format: "${n}"`),[0,0,0])}function t$(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Mf(s))}e.remove()}function ht(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform();return[e,t,s,r,i,o]}function ii(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform().invertSelf();return[e,t,s,r,i,o]}function Fl(n,e,t=!1,s=!0){if(e instanceof ly){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:o}=n,l=sn.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${i}px`,d=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class Zr{constructor(){const{pixelRatio:e}=Zr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,r,i=-1){let o=1/0,l=1/0,c=1/0;s=Zr.capPixels(s,i),s>0&&(o=Math.sqrt(s/(e*t))),r!==-1&&(l=r/e,c=r/t);const u=Math.min(o,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const _0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class n${static get isDarkMode(){var e;return ye(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class QN{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:s}=window.getComputedStyle(e);return e.remove(),ye(this,"commentForegroundColor",Mf(s))}}function ZN(n,e,t,s){s=Math.min(Math.max(s??1,0),1);const r=255*(1-s);return n=Math.round(n*s+r),e=Math.round(e*s+r),t=Math.round(t*s+r),[n,e,t]}function NC(n,e){const t=n[0]/255,s=n[1]/255,r=n[2]/255,i=Math.max(t,s,r),o=Math.min(t,s,r),l=(i+o)/2;if(i===o)e[0]=e[1]=0;else{const c=i-o;switch(e[1]=l<.5?c/(i+o):c/(2-i-o),i){case t:e[0]=((s-r)/c+(s<r?6:0))*60;break;case s:e[0]=((r-t)/c+2)*60;break;case r:e[0]=((t-s)/c+4)*60;break}}e[2]=l}function Qx(n,e){const t=n[0],s=n[1],r=n[2],i=(1-Math.abs(2*r-1))*s,o=i*(1-Math.abs(t/60%2-1)),l=r-i/2;switch(Math.floor(t/60)){case 0:e[0]=i+l,e[1]=o+l,e[2]=l;break;case 1:e[0]=o+l,e[1]=i+l,e[2]=l;break;case 2:e[0]=l,e[1]=i+l,e[2]=o+l;break;case 3:e[0]=l,e[1]=o+l,e[2]=i+l;break;case 4:e[0]=o+l,e[1]=l,e[2]=i+l;break;case 5:case 6:e[0]=i+l,e[1]=l,e[2]=o+l;break}}function MC(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function LC(n,e,t){Qx(n,t),t.map(MC);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];Qx(e,t),t.map(MC);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return s>r?(s+.05)/(r+.05):(r+.05)/(s+.05)}const DC=new Map;function JN(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let s=DC.get(t);if(s)return s;const r=new Float32Array(9),i=r.subarray(0,3),o=r.subarray(3,6);NC(n,o);const l=r.subarray(6,9);NC(e,l);const c=l[2]<.5,u=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),LC(o,l,i)<u){let d,h;c?(d=o[2],h=1):(d=0,h=o[2]);const f=.005;for(;h-d>f;){const p=o[2]=(d+h)/2;c===LC(o,l,i)<u?d=p:h=p}o[2]=c?h:d}return Qx(o,i),s=J.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),DC.set(t,s),s}function GA({html:n,dir:e,className:t},s){const r=document.createDocumentFragment();if(typeof n=="string"){const i=document.createElement("p");i.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const u=o[l];i.append(document.createTextNode(u)),l<c-1&&i.append(document.createElement("br"))}r.append(i)}else WA.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",t),s.append(r)}var Aa,Ea,Qs,Zs,mm,_a,Dd,Id,gm,O0,e2,gn,t2,n2,Wu,ep;const eo=class eo{constructor(e){S(this,gn);S(this,Aa,null);S(this,Ea,null);S(this,Qs);S(this,Zs,null);S(this,mm,null);S(this,_a,null);S(this,Dd,null);S(this,Id,null);g(this,Qs,e),a(eo,gm)||g(eo,gm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=g(this,Aa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,Qs)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Ws,{signal:t}),e.addEventListener("pointerdown",E(eo,O0,e2),{signal:t}));const s=g(this,Zs,document.createElement("div"));s.className="buttons",e.append(s);const r=a(this,Qs).toolbarPosition;if(r){const{style:i}=e,o=a(this,Qs)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,Aa)}hide(){var e;a(this,Aa).classList.add("hidden"),(e=a(this,Ea))==null||e.hideDropdown()}show(){var e,t;a(this,Aa).classList.remove("hidden"),(e=a(this,mm))==null||e.shown(),(t=a(this,_a))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,Qs),s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",a(eo,gm)[e]),E(this,gn,Wu).call(this,s)&&s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),a(this,Zs).append(s)}async addAltText(e){const t=await e.render();E(this,gn,Wu).call(this,t),a(this,Zs).append(t,a(this,gn,ep)),g(this,mm,e)}addComment(e,t=null){if(a(this,_a))return;const s=e.renderForToolbar();if(!s)return;E(this,gn,Wu).call(this,s);const r=g(this,Dd,a(this,gn,ep));t?(a(this,Zs).insertBefore(s,t),a(this,Zs).insertBefore(r,t)):a(this,Zs).append(s,r),g(this,_a,e),e.toolbar=this}addColorPicker(e){if(a(this,Ea))return;g(this,Ea,e);const t=e.renderButton();E(this,gn,Wu).call(this,t),a(this,Zs).append(t,a(this,gn,ep))}async addEditSignatureButton(e){const t=g(this,Id,await e.renderEditButton(a(this,Qs)));E(this,gn,Wu).call(this,t),a(this,Zs).append(t,a(this,gn,ep))}removeButton(e){var t,s;switch(e){case"comment":(t=a(this,_a))==null||t.removeToolbarCommentButton(),g(this,_a,null),(s=a(this,Dd))==null||s.remove(),g(this,Dd,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,s){const r=a(this,Zs).querySelector(s);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){a(this,Id)&&(a(this,Id).title=e)}remove(){var e;a(this,Aa).remove(),(e=a(this,Ea))==null||e.destroy(),g(this,Ea,null)}};Aa=new WeakMap,Ea=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,mm=new WeakMap,_a=new WeakMap,Dd=new WeakMap,Id=new WeakMap,gm=new WeakMap,O0=new WeakSet,e2=function(e){e.stopPropagation()},gn=new WeakSet,t2=function(e){a(this,Qs)._focusEventsAllowed=!1,pt(e)},n2=function(e){a(this,Qs)._focusEventsAllowed=!0,pt(e)},Wu=function(e){const t=a(this,Qs)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",E(this,gn,t2).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,gn,n2).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ws,{signal:t}),!0)},ep=function(){const e=document.createElement("div");return e.className="divider",e},S(eo,O0),S(eo,gm,null);let Zx=eo;var ym,uc,ro,Jo,s2,r2,Jx;class s${constructor(e){S(this,Jo);S(this,ym,null);S(this,uc,null);S(this,ro);g(this,ro,e)}show(e,t,s){const[r,i]=E(this,Jo,r2).call(this,t,s),{style:o}=a(this,uc)||g(this,uc,E(this,Jo,s2).call(this));e.append(a(this,uc)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,uc).remove()}}ym=new WeakMap,uc=new WeakMap,ro=new WeakMap,Jo=new WeakSet,s2=function(){const e=g(this,uc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=a(this,ro)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Ws,{signal:t});const s=g(this,ym,document.createElement("div"));return s.className="buttons",e.append(s),a(this,ro).hasCommentManager()&&E(this,Jo,Jx).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{a(this,ro).commentSelection("floating_button")}),E(this,Jo,Jx).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{a(this,ro).highlightSelection("floating_button")}),e},r2=function(e,t){let s=0,r=0;for(const i of e){const o=i.y+i.height;if(o<s)continue;const l=i.x+(t?i.width:0);if(o>s){r=l,s=o;continue}t?l>r&&(r=l):l<r&&(r=l)}return[t?1-r:r,s]},Jx=function(e,t,s,r){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const o=document.createElement("span");i.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",s);const l=a(this,ro)._signal;l instanceof AbortSignal&&!l.aborted&&(i.addEventListener("contextmenu",Ws,{signal:l}),i.addEventListener("click",r,{signal:l})),a(this,ym).append(i)};function i2(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}var F0;class r${constructor(){S(this,F0,0)}get id(){return`${sm}${bt(this,F0)._++}`}}F0=new WeakMap;var Od,vm,En,Fd,uv;const rE=class rE{constructor(){S(this,Fd);S(this,Od,HA());S(this,vm,0);S(this,En,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return ye(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:i}=e;return E(this,Fd,uv).call(this,`${t}_${s}_${r}_${i}`,e)}async getFromUrl(e){return E(this,Fd,uv).call(this,e,e)}async getFromBlob(e,t){const s=await t;return E(this,Fd,uv).call(this,e,s)}async getFromId(e){a(this,En)||g(this,En,new Map);const t=a(this,En).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,En)||g(this,En,new Map);let s=a(this,En).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${a(this,Od)}_${bt(this,vm)._++}`,refCounter:1,isSvg:!1},a(this,En).set(e,s),a(this,En).set(s.id,s),s}getSvgUrl(e){const t=a(this,En).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;a(this,En)||g(this,En,new Map);const t=a(this,En).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,Od)}_`)}};Od=new WeakMap,vm=new WeakMap,En=new WeakMap,Fd=new WeakSet,uv=async function(e,t){a(this,En)||g(this,En,new Map);let s=a(this,En).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${a(this,Od)}_${bt(this,vm)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await Nf(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=rE._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{s.bitmap=l,s.isSvg=!0,u()},o.onload=async()=>{const h=s.svgUrl=o.result;l.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=d});o.readAsDataURL(r),await c}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){ue(r),s=null}return a(this,En).set(e,s),s&&a(this,En).set(s.id,s),s};let eS=rE;var Pt,Ca,wm,dt;class i${constructor(e=128){S(this,Pt,[]);S(this,Ca,!1);S(this,wm);S(this,dt,-1);g(this,wm,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(r&&e(),a(this,Ca))return;const c={cmd:e,undo:t,post:s,type:i};if(a(this,dt)===-1){a(this,Pt).length>0&&(a(this,Pt).length=0),g(this,dt,0),a(this,Pt).push(c);return}if(o&&a(this,Pt)[a(this,dt)].type===i){l&&(c.undo=a(this,Pt)[a(this,dt)].undo),a(this,Pt)[a(this,dt)]=c;return}const u=a(this,dt)+1;u===a(this,wm)?a(this,Pt).splice(0,1):(g(this,dt,u),u<a(this,Pt).length&&a(this,Pt).splice(u)),a(this,Pt).push(c)}undo(){if(a(this,dt)===-1)return;g(this,Ca,!0);const{undo:e,post:t}=a(this,Pt)[a(this,dt)];e(),t==null||t(),g(this,Ca,!1),g(this,dt,a(this,dt)-1)}redo(){if(a(this,dt)<a(this,Pt).length-1){g(this,dt,a(this,dt)+1),g(this,Ca,!0);const{cmd:e,post:t}=a(this,Pt)[a(this,dt)];e(),t==null||t(),g(this,Ca,!1)}}hasSomethingToUndo(){return a(this,dt)!==-1}hasSomethingToRedo(){return a(this,dt)<a(this,Pt).length-1}cleanType(e){if(a(this,dt)!==-1){for(let t=a(this,dt);t>=0;t--)if(a(this,Pt)[t].type!==e){a(this,Pt).splice(t+1,a(this,dt)-t),g(this,dt,t);return}a(this,Pt).length=0,g(this,dt,-1)}}destroy(){g(this,Pt,null)}}Pt=new WeakMap,Ca=new WeakMap,wm=new WeakMap,dt=new WeakMap;var j0,o2;class uy{constructor(e){S(this,j0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=sn.platform;for(const[s,r,i={}]of e)for(const o of s){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(E(this,j0,o2).call(this,t));if(!s)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:l=null}}=s;l&&!l(e,t)||(r.bind(e,...o,t)(),i||pt(t))}}j0=new WeakSet,o2=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const B0=class B0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return t$(e),ye(this,"_colors",e)}convert(e){const t=Mf(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((i,o)=>i===t[o]))return B0._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?J.makeHexColor(...t):e}};z(B0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let tS=B0;var jd,ys,Bd,St,zt,zd,Js,$d,er,_n,ka,Ta,Ud,Pa,hi,tr,dc,bm,xm,Hd,Sm,fi,Ra,Vd,Na,pi,z0,Ma,Wd,Am,La,hc,Gd,Da,Em,Lt,Fe,io,Ia,Oa,_m,qd,Cm,Fa,mi,oo,km,Tm,nr,X,dv,nS,a2,l2,tp,c2,u2,d2,sS,h2,rS,iS,f2,Fn,Qi,p2,m2,oS,g2,np,aS;const dd=class dd{constructor(e,t,s,r,i,o,l,c,u,d,h,f,p,v,m,b){S(this,X);S(this,jd,new AbortController);S(this,ys,null);S(this,Bd,null);S(this,St,new Map);S(this,zt,new Map);S(this,zd,null);S(this,Js,null);S(this,$d,null);S(this,er,new i$);S(this,_n,null);S(this,ka,null);S(this,Ta,null);S(this,Ud,0);S(this,Pa,new Set);S(this,hi,null);S(this,tr,null);S(this,dc,new Set);z(this,"_editorUndoBar",null);S(this,bm,!1);S(this,xm,!1);S(this,Hd,!1);S(this,Sm,null);S(this,fi,null);S(this,Ra,null);S(this,Vd,null);S(this,Na,!1);S(this,pi,null);S(this,z0,new r$);S(this,Ma,!1);S(this,Wd,!1);S(this,Am,!1);S(this,La,null);S(this,hc,null);S(this,Gd,null);S(this,Da,null);S(this,Em,null);S(this,Lt,ce.NONE);S(this,Fe,new Set);S(this,io,null);S(this,Ia,null);S(this,Oa,null);S(this,_m,null);S(this,qd,null);S(this,Cm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,Fa,[0,0]);S(this,mi,null);S(this,oo,null);S(this,km,null);S(this,Tm,null);S(this,nr,null);const y=this._signal=a(this,jd).signal;g(this,oo,e),g(this,km,t),g(this,Tm,s),g(this,zd,r),g(this,_n,i),g(this,Ia,o),g(this,qd,c),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:y}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),l._on("setpreference",this.onSetPreference.bind(this),{signal:y}),l._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:y}),window.addEventListener("pointerdown",()=>{g(this,Wd,!0)},{capture:!0,signal:y}),window.addEventListener("pointerup",()=>{g(this,Wd,!1)},{capture:!0,signal:y}),E(this,X,c2).call(this),E(this,X,f2).call(this),E(this,X,sS).call(this),g(this,Js,c.annotationStorage),g(this,Sm,c.filterFactory),g(this,Oa,u),g(this,Vd,d||null),g(this,bm,h),g(this,xm,f),g(this,Hd,p),g(this,Em,v||null),this.viewParameters={realScale:Zo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=b!==!1,i==null||i.setSidebarUiManager(this)}static get _keyboardManager(){const e=dd.prototype,t=o=>a(o,oo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return ye(this,"_keyboardManager",new uy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,oo).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,oo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,s,r,i,o,l,c,u;(e=a(this,nr))==null||e.resolve(),g(this,nr,null),(t=a(this,jd))==null||t.abort(),g(this,jd,null),this._signal=null;for(const d of a(this,zt).values())d.destroy();a(this,zt).clear(),a(this,St).clear(),a(this,dc).clear(),(s=a(this,Da))==null||s.clear(),g(this,ys,null),a(this,Fe).clear(),a(this,er).destroy(),(r=a(this,zd))==null||r.destroy(),(i=a(this,_n))==null||i.destroy(),(o=a(this,Ia))==null||o.destroy(),(l=a(this,pi))==null||l.hide(),g(this,pi,null),(c=a(this,Gd))==null||c.destroy(),g(this,Gd,null),g(this,Bd,null),a(this,fi)&&(clearTimeout(a(this,fi)),g(this,fi,null)),a(this,mi)&&(clearTimeout(a(this,mi)),g(this,mi,null)),(u=this._editorUndoBar)==null||u.destroy(),g(this,qd,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,Em)}get useNewAltTextFlow(){return a(this,xm)}get useNewAltTextWhenAddingImage(){return a(this,Hd)}get hcmFilter(){return ye(this,"hcmFilter",a(this,Oa)?a(this,Sm).addHCMFilter(a(this,Oa).foreground,a(this,Oa).background):"none")}get direction(){return ye(this,"direction",getComputedStyle(a(this,oo)).direction)}get _highlightColors(){return ye(this,"_highlightColors",a(this,Vd)?new Map(a(this,Vd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ye(this,"highlightColors",null);const t=new Map,s=!!a(this,Oa);for(const[r,i]of e){const o=r.endsWith("_HCM");if(s&&o){t.set(r.replace("_HCM",""),i);continue}!s&&!o&&t.set(r,i)}return ye(this,"highlightColors",t)}get highlightColorNames(){return ye(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),g(this,Ta,e)}setMainHighlightColorPicker(e){g(this,Gd,e)}editAltText(e,t=!1){var s;(s=a(this,zd))==null||s.editAltText(this,e,t)}hasCommentManager(){return!!a(this,_n)}editComment(e,t,s,r){var i;(i=a(this,_n))==null||i.showDialog(this,e,t,s,r)}selectComment(e,t){const s=a(this,zt).get(e),r=s==null?void 0:s.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=a(this,_n))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=a(this,_n))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=a(this,_n))==null||t.removeComments([e.uid])}toggleComment(e,t,s=void 0){var r;(r=a(this,_n))==null||r.toggleCommentPopup(e,t,s)}makeCommentColor(e,t){var s;return e&&((s=a(this,_n))==null?void 0:s.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=a(this,_n))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(a(this,zt).has(e-1))return;const{resolve:t,promise:s}=Promise.withResolvers(),r=i=>{i.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await s}getSignature(e){var t;(t=a(this,Ia))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,Ia)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":g(this,Hd,t);break}}onPageChanging({pageNumber:e}){g(this,Ud,e-1)}focusMainContainer(){a(this,oo).focus()}findParent(e,t){for(const s of a(this,zt).values()){const{x:r,y:i,width:o,height:l}=s.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=i&&t<=i+l)return s}return null}disableUserSelect(e=!1){a(this,km).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,dc).add(e)}removeShouldRescale(e){a(this,dc).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Zo.PDF_TO_CSS_UNITS;for(const s of a(this,dc))s.onScaleChanging();(t=a(this,Ta))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:l}=s,c=s.toString(),d=E(this,X,dv).call(this,s).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;s.empty();const f=E(this,X,nS).call(this,d),p=a(this,Lt)===ce.NONE,v=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:l,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(p){this.switchToMode(ce.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!a(this,Js))return null;const t=`${sm}${e}`,s=a(this,Js).getRawValue(t);return s&&a(this,Js).remove(t),s}addToAnnotationStorage(e){!e.isEmpty()&&a(this,Js)&&!a(this,Js).has(e.id)&&a(this,Js).setValue(e.id,e)}a11yAlert(e,t=null){const s=a(this,Tm);s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,Na)&&(g(this,Na,!1),E(this,X,tp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,Fe))if(t.div.contains(e)){g(this,hc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,hc))return;const[e,t]=a(this,hc);g(this,hc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,X,sS).call(this),E(this,X,rS).call(this)}removeEditListeners(){E(this,X,h2).call(this),E(this,X,iS).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of a(this,tr))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of a(this,tr))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=a(this,ys))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of a(this,Fe)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of a(this,tr))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){ue(`paste: "${i.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const c of s){const u=await r.deserialize(c);if(!u)return;i.push(u)}const o=()=>{for(const c of i)E(this,X,oS).call(this,c);E(this,X,aS).call(this,i)},l=()=>{for(const c of i)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(i){ue(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,Lt)!==ce.NONE&&!this.isEditorHandlingKeyboard&&dd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,Na)&&(g(this,Na,!1),E(this,X,tp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(E(this,X,u2).call(this),E(this,X,rS).call(this),E(this,X,Fn).call(this,{isEditing:a(this,Lt)!==ce.NONE,isEmpty:E(this,X,np).call(this),hasSomethingToUndo:a(this,er).hasSomethingToUndo(),hasSomethingToRedo:a(this,er).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,X,d2).call(this),E(this,X,iS).call(this),E(this,X,Fn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,tr)){g(this,tr,e);for(const t of a(this,tr))E(this,X,Qi).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,z0).id}get currentLayer(){return a(this,zt).get(a(this,Ud))}getLayer(e){return a(this,zt).get(e)}get currentPageIndex(){return a(this,Ud)}addLayer(e){a(this,zt).set(e.pageIndex,e),a(this,Ma)?e.enable():e.disable()}removeLayer(e){a(this,zt).delete(e.pageIndex)}async updateMode(e,t=null,s=!1,r=!1,i=!1){var o,l,c,u,d,h;if(a(this,Lt)!==e&&!(a(this,nr)&&(await a(this,nr).promise,!a(this,nr)))){if(g(this,nr,Promise.withResolvers()),(o=a(this,Ta))==null||o.commitOrRemove(),a(this,Lt)===ce.POPUP&&((l=a(this,_n))==null||l.hideSidebar()),(c=a(this,_n))==null||c.destroyPopup(),g(this,Lt,e),e===ce.NONE){this.setEditingState(!1),E(this,X,m2).call(this);for(const f of a(this,St).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),a(this,nr).resolve();return}for(const f of a(this,St).values())f.addStandaloneCommentButton();e===ce.SIGNATURE&&await((d=a(this,Ia))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await E(this,X,p2).call(this),this.unselectAll();for(const f of a(this,zt).values())f.updateMode(e);if(e===ce.POPUP){a(this,Bd)||g(this,Bd,await a(this,qd).getAnnotationsByType(new Set(a(this,tr).map(v=>v._editorType))));const f=new Set,p=[];for(const v of a(this,St).values()){const{annotationElementId:m,hasComment:b,deleted:y}=v;m&&f.add(m),b&&!y&&p.push(v.getData())}for(const v of a(this,Bd)){const{id:m,popupRef:b,contentsObj:y}=v;b&&(y!=null&&y.str)&&!f.has(m)&&!a(this,Pa).has(m)&&p.push(v)}(h=a(this,_n))==null||h.showSidebar(p)}if(!t){s&&this.addNewEditorFromKeyboard(),a(this,nr).resolve();return}for(const f of a(this,St).values())f.uid===t?(this.setSelected(f),i?f.editComment():r?f.enterInEditMode():f.focus()):f.unselect();a(this,nr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,Lt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(a(this,tr)){switch(e){case _e.CREATE:this.currentLayer.addNewEditor(t);return;case _e.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,_m)||g(this,_m,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const s of a(this,Fe))s.updateParams(e,t);else for(const s of a(this,tr))s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var i;for(const o of a(this,St).values())o.editorType===e&&o.show(t);(((i=a(this,_m))==null?void 0:i.get(_e.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,X,Qi).call(this,[[_e.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,Am)!==e){g(this,Am,e);for(const t of a(this,zt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of a(this,St).values())t.pageIndex===e&&(yield t)}getEditor(e){return a(this,St).get(e)}addEditor(e){a(this,St).set(e.id,e)}removeEditor(e){var t,s;e.div.contains(document.activeElement)&&(a(this,fi)&&clearTimeout(a(this,fi)),g(this,fi,setTimeout(()=>{this.focusMainContainer(),g(this,fi,null)},0))),a(this,St).delete(e.id),e.annotationElementId&&((t=a(this,Da))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,Pa).has(e.annotationElementId))&&((s=a(this,Js))==null||s.remove(e.id))}addDeletedAnnotationElement(e){a(this,Pa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,Pa).has(e)}removeDeletedAnnotationElement(e){a(this,Pa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,ys)!==e&&(g(this,ys,e),e&&E(this,X,Qi).call(this,e.propertiesToUpdate))}updateUI(e){a(this,X,g2)===e&&E(this,X,Qi).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){E(this,X,Qi).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,Fe).has(e)){a(this,Fe).delete(e),e.unselect(),E(this,X,Fn).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,Fe).add(e),e.select(),E(this,X,Qi).call(this,e.propertiesToUpdate),E(this,X,Fn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=a(this,Ta))==null||t.commitOrRemove();for(const s of a(this,Fe))s!==e&&s.unselect();a(this,Fe).clear(),a(this,Fe).add(e),e.select(),E(this,X,Qi).call(this,e.propertiesToUpdate),E(this,X,Fn).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,Fe).has(e)}get firstSelectedEditor(){return a(this,Fe).values().next().value}unselect(e){e.unselect(),a(this,Fe).delete(e),E(this,X,Fn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,Fe).size!==0}get isEnterHandled(){return a(this,Fe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,er).undo(),E(this,X,Fn).call(this,{hasSomethingToUndo:a(this,er).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,X,np).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,er).redo(),E(this,X,Fn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,er).hasSomethingToRedo(),isEmpty:E(this,X,np).call(this)})}addCommands(e){a(this,er).add(e),E(this,X,Fn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,X,np).call(this)})}cleanUndoStack(e){a(this,er).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,Fe)],s=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},r=()=>{for(const o of t)E(this,X,oS).call(this,o)};this.addCommands({cmd:s,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=a(this,ys))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,ys)||this.hasSelection}selectAll(){for(const e of a(this,Fe))e.commit();E(this,X,aS).call(this,a(this,St).values())}unselectAll(){var e;if(!(a(this,ys)&&(a(this,ys).commitOrRemove(),a(this,Lt)!==ce.NONE))&&!((e=a(this,Ta))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,Fe))t.unselect();a(this,Fe).clear(),E(this,X,Fn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;a(this,Fa)[0]+=e,a(this,Fa)[1]+=t;const[r,i]=a(this,Fa),o=[...a(this,Fe)],l=1e3;a(this,mi)&&clearTimeout(a(this,mi)),g(this,mi,setTimeout(()=>{g(this,mi,null),a(this,Fa)[0]=a(this,Fa)[1]=0,this.addCommands({cmd:()=>{for(const c of o)a(this,St).has(c.id)&&(c.translateInPage(r,i),c.translationDone())},undo:()=>{for(const c of o)a(this,St).has(c.id)&&(c.translateInPage(-r,-i),c.translationDone())},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),g(this,hi,new Map);for(const e of a(this,Fe))a(this,hi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,hi))return!1;this.disableUserSelect(!1);const e=a(this,hi);g(this,hi,null);let t=!1;for(const[{x:r,y:i,pageIndex:o},l]of e)l.newX=r,l.newY=i,l.newPageIndex=o,t||(t=r!==l.savedX||i!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const s=(r,i,o,l)=>{if(a(this,St).has(r.id)){const c=a(this,zt).get(l);c?r._setParentAndPosition(c,i,o):(r.pageIndex=l,r.x=i,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:o,newPageIndex:l}]of e)s(r,i,o,l)},undo:()=>{for(const[r,{savedX:i,savedY:o,savedPageIndex:l}]of e)s(r,i,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,hi))for(const s of a(this,hi).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,Fe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,ys)===e}getActive(){return a(this,ys)}getMode(){return a(this,Lt)}isEditingMode(){return a(this,Lt)!==ce.NONE}get imageManager(){return ye(this,"imageManager",new eS)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:s,y:r,width:i,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-r)/o,y:1-(u+h-s)/i,width:f/o,height:h/i});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-s)/i,y:1-(d+f-r)/o,width:h/i,height:f/o});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-r)/o,y:(u-s)/i,width:f/o,height:h/i});break;default:l=(u,d,h,f)=>({x:(u-s)/i,y:(d-r)/o,width:h/i,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:v,height:m}of h.getClientRects())v===0||m===0||c.push(l(f,p,v,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,$d)||g(this,$d,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,$d))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=a(this,$d))==null?void 0:r.get(e.data.id);if(!t)return;const s=a(this,Js).getRawValue(t);s&&(a(this,Lt)===ce.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){var i;const r=(i=a(this,Da))==null?void 0:i.get(e);r&&(r.setCanvas(t,s),a(this,Da).delete(e))}addMissingCanvas(e,t){(a(this,Da)||g(this,Da,new Map)).set(e,t)}};jd=new WeakMap,ys=new WeakMap,Bd=new WeakMap,St=new WeakMap,zt=new WeakMap,zd=new WeakMap,Js=new WeakMap,$d=new WeakMap,er=new WeakMap,_n=new WeakMap,ka=new WeakMap,Ta=new WeakMap,Ud=new WeakMap,Pa=new WeakMap,hi=new WeakMap,tr=new WeakMap,dc=new WeakMap,bm=new WeakMap,xm=new WeakMap,Hd=new WeakMap,Sm=new WeakMap,fi=new WeakMap,Ra=new WeakMap,Vd=new WeakMap,Na=new WeakMap,pi=new WeakMap,z0=new WeakMap,Ma=new WeakMap,Wd=new WeakMap,Am=new WeakMap,La=new WeakMap,hc=new WeakMap,Gd=new WeakMap,Da=new WeakMap,Em=new WeakMap,Lt=new WeakMap,Fe=new WeakMap,io=new WeakMap,Ia=new WeakMap,Oa=new WeakMap,_m=new WeakMap,qd=new WeakMap,Cm=new WeakMap,Fa=new WeakMap,mi=new WeakMap,oo=new WeakMap,km=new WeakMap,Tm=new WeakMap,nr=new WeakMap,X=new WeakSet,dv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},nS=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of a(this,zt).values())if(s.hasTextLayer(e))return s;return null},a2=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=E(this,X,dv).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(a(this,pi)||g(this,pi,new s$(this)),a(this,pi).show(s,r,this.direction==="ltr"))},l2=function(){var i,o,l;const e=document.getSelection();if(!e||e.isCollapsed){a(this,io)&&((i=a(this,pi))==null||i.hide(),g(this,io,null),E(this,X,Fn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,io))return;const r=E(this,X,dv).call(this,e).closest(".textLayer");if(!r){a(this,io)&&((o=a(this,pi))==null||o.hide(),g(this,io,null),E(this,X,Fn).call(this,{hasSelectedText:!1}));return}if((l=a(this,pi))==null||l.hide(),g(this,io,t),E(this,X,Fn).call(this,{hasSelectedText:!0}),!(a(this,Lt)!==ce.HIGHLIGHT&&a(this,Lt)!==ce.NONE)&&(a(this,Lt)===ce.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),g(this,Na,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=a(this,Lt)===ce.HIGHLIGHT?E(this,X,nS).call(this,r):null;if(c==null||c.toggleDrawing(),a(this,Wd)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&E(this,X,tp).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),E(this,X,tp).call(this,"main_toolbar")}},tp=function(e=""){a(this,Lt)===ce.HIGHLIGHT?this.highlightSelection(e):a(this,bm)&&E(this,X,a2).call(this)},c2=function(){document.addEventListener("selectionchange",E(this,X,l2).bind(this),{signal:this._signal})},u2=function(){if(a(this,Ra))return;g(this,Ra,new AbortController);const e=this.combinedSignal(a(this,Ra));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},d2=function(){var e;(e=a(this,Ra))==null||e.abort(),g(this,Ra,null)},sS=function(){if(a(this,La))return;g(this,La,new AbortController);const e=this.combinedSignal(a(this,La));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},h2=function(){var e;(e=a(this,La))==null||e.abort(),g(this,La,null)},rS=function(){if(a(this,ka))return;g(this,ka,new AbortController);const e=this.combinedSignal(a(this,ka));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},iS=function(){var e;(e=a(this,ka))==null||e.abort(),g(this,ka,null)},f2=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Fn=function(e){Object.entries(e).some(([s,r])=>a(this,Cm)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,Cm),e)}),a(this,Lt)===ce.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,X,Qi).call(this,[[_e.HIGHLIGHT_FREE,!0]]))},Qi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},p2=async function(){if(!a(this,Ma)){g(this,Ma,!0);const e=[];for(const t of a(this,zt).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,St).values())t.enable()}},m2=function(){if(this.unselectAll(),a(this,Ma)){g(this,Ma,!1);for(const e of a(this,zt).values())e.disable();for(const e of a(this,St).values())e.disable()}},oS=function(e){const t=a(this,zt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},g2=function(){let e=null;for(e of a(this,Fe));return e},np=function(){if(a(this,St).size===0)return!0;if(a(this,St).size===1)for(const e of a(this,St).values())return e.isEmpty();return!1},aS=function(e){for(const t of a(this,Fe))t.unselect();a(this,Fe).clear();for(const t of e)t.isEmpty()||(a(this,Fe).add(t),t.select());E(this,X,Fn).call(this,{hasSelectedEditor:this.hasSelection})},z(dd,"TRANSLATE_SMALL",1),z(dd,"TRANSLATE_BIG",10);let jl=dd;var qt,gi,Rr,Xd,yi,vs,Yd,vi,ts,ao,fc,wi,ja,Vr,sp,hv;const jn=class jn{constructor(e){S(this,Vr);S(this,qt,null);S(this,gi,!1);S(this,Rr,null);S(this,Xd,null);S(this,yi,null);S(this,vs,null);S(this,Yd,!1);S(this,vi,null);S(this,ts,null);S(this,ao,null);S(this,fc,null);S(this,wi,!1);g(this,ts,e),g(this,wi,e._uiManager.useNewAltTextFlow),a(jn,ja)||g(jn,ja,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){jn._l10n??(jn._l10n=e)}async render(){const e=g(this,Rr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=g(this,Xd,document.createElement("span"));e.append(t),a(this,wi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(jn,ja).missing),t.setAttribute("data-l10n-id",a(jn,ja)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=a(this,ts)._uiManager._signal;e.addEventListener("contextmenu",Ws,{signal:s}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),a(this,ts)._uiManager.editAltText(a(this,ts)),a(this,wi)&&a(this,ts)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,Vr,sp)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(g(this,Yd,!0),r(i))},{signal:s}),await E(this,Vr,hv).call(this),e}finish(){a(this,Rr)&&(a(this,Rr).focus({focusVisible:a(this,Yd)}),g(this,Yd,!1))}isEmpty(){return a(this,wi)?a(this,qt)===null:!a(this,qt)&&!a(this,gi)}hasData(){return a(this,wi)?a(this,qt)!==null||!!a(this,ao):this.isEmpty()}get guessedText(){return a(this,ao)}async setGuessedText(e){a(this,qt)===null&&(g(this,ao,e),g(this,fc,await jn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,Vr,hv).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,wi)||a(this,qt)){(t=a(this,vi))==null||t.remove(),g(this,vi,null);return}if(!a(this,vi)){const s=g(this,vi,document.createElement("div"));s.className="noAltTextBadge",a(this,ts).div.append(s)}a(this,vi).classList.toggle("hidden",!e)}serialize(e){let t=a(this,qt);return!e&&a(this,ao)===t&&(t=a(this,fc)),{altText:t,decorative:a(this,gi),guessedText:a(this,ao),textWithDisclaimer:a(this,fc)}}get data(){return{altText:a(this,qt),decorative:a(this,gi)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:i=!1}){s&&(g(this,ao,s),g(this,fc,r)),!(a(this,qt)===e&&a(this,gi)===t)&&(i||(g(this,qt,e),g(this,gi,t)),E(this,Vr,hv).call(this))}toggle(e=!1){a(this,Rr)&&(!e&&a(this,vs)&&(clearTimeout(a(this,vs)),g(this,vs,null)),a(this,Rr).disabled=!e)}shown(){a(this,ts)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,Vr,sp)}})}destroy(){var e,t;(e=a(this,Rr))==null||e.remove(),g(this,Rr,null),g(this,Xd,null),g(this,yi,null),(t=a(this,vi))==null||t.remove(),g(this,vi,null)}};qt=new WeakMap,gi=new WeakMap,Rr=new WeakMap,Xd=new WeakMap,yi=new WeakMap,vs=new WeakMap,Yd=new WeakMap,vi=new WeakMap,ts=new WeakMap,ao=new WeakMap,fc=new WeakMap,wi=new WeakMap,ja=new WeakMap,Vr=new WeakSet,sp=function(){return a(this,qt)&&"added"||a(this,qt)===null&&this.guessedText&&"review"||"missing"},hv=async function(){var r,i,o;const e=a(this,Rr);if(!e)return;if(a(this,wi)){if(e.classList.toggle("done",!!a(this,qt)),e.setAttribute("data-l10n-id",a(jn,ja)[a(this,Vr,sp)]),(r=a(this,Xd))==null||r.setAttribute("data-l10n-id",a(jn,ja)[`${a(this,Vr,sp)}-label`]),!a(this,qt)){(i=a(this,yi))==null||i.remove();return}}else{if(!a(this,qt)&&!a(this,gi)){e.classList.remove("done"),(o=a(this,yi))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,yi);if(!t){g(this,yi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,ts).id}`;const l=100,c=a(this,ts)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(a(this,vs)),g(this,vs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{g(this,vs,setTimeout(()=>{g(this,vs,null),a(this,yi).classList.add("show"),a(this,ts)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;a(this,vs)&&(clearTimeout(a(this,vs)),g(this,vs,null)),(u=a(this,yi))==null||u.classList.remove("show")},{signal:c})}a(this,gi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,qt)),t.parentNode||e.append(t);const s=a(this,ts).getElementForAltText();s==null||s.setAttribute("aria-describedby",t.id)},S(jn,ja,null),z(jn,"_l10n",null);let C0=jn;var on,sr,pc,Qe,Pm,mc,Nr,gc,yc,vc,Rm,lS;class By{constructor(e){S(this,Rm);S(this,on,null);S(this,sr,null);S(this,pc,!1);S(this,Qe,null);S(this,Pm,null);S(this,mc,null);S(this,Nr,null);S(this,gc,null);S(this,yc,!1);S(this,vc,null);g(this,Qe,e)}renderForToolbar(){const e=g(this,sr,document.createElement("button"));return e.className="comment",E(this,Rm,lS).call(this,e,!1)}renderForStandalone(){const e=g(this,on,document.createElement("button"));e.className="annotationCommentButton";const t=a(this,Qe).commentButtonPosition;if(t){const{style:s}=e;s.insetInlineEnd=`calc(${100*(a(this,Qe)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,s.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=a(this,Qe).commentButtonColor;r&&(s.backgroundColor=r)}return E(this,Rm,lS).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=a(this,on)??a(this,sr))==null||e.focus()},0)}onUpdatedColor(){if(!a(this,on))return;const e=a(this,Qe).commentButtonColor;e&&(a(this,on).style.backgroundColor=e),a(this,Qe)._uiManager.updatePopupColor(a(this,Qe))}get commentButtonWidth(){var e;return(((e=a(this,on))==null?void 0:e.getBoundingClientRect().width)??0)/a(this,Qe).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(a(this,vc))return a(this,vc);if(!a(this,on))return null;const{x:e,y:t,height:s}=a(this,on).getBoundingClientRect(),{x:r,y:i,width:o,height:l}=a(this,Qe).parent.boundingClientRect;return[(e-r)/o,(t+s-i)/l]}set commentPopupPositionInLayer(e){g(this,vc,e)}hasDefaultPopupPosition(){return a(this,vc)===null}removeStandaloneCommentButton(){var e;(e=a(this,on))==null||e.remove(),g(this,on,null)}removeToolbarCommentButton(){var e;(e=a(this,sr))==null||e.remove(),g(this,sr,null)}setCommentButtonStates({selected:e,hasPopup:t}){a(this,on)&&(a(this,on).classList.toggle("selected",e),a(this,on).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let s,r;if(t)[s,r]=t;else{[s,r]=a(this,Qe).commentButtonPosition;const{width:d,height:h,x:f,y:p}=a(this,Qe);s=f+s*d,r=p+r*h}const i=a(this,Qe).parent.boundingClientRect,{x:o,y:l,width:c,height:u}=i;a(this,Qe)._uiManager.editComment(a(this,Qe),o+s*c,l+r*u,{...e,parentDimensions:i})}finish(){a(this,sr)&&(a(this,sr).focus({focusVisible:a(this,pc)}),g(this,pc,!1))}isDeleted(){return a(this,yc)||a(this,Nr)===""}isEmpty(){return a(this,Nr)===null}hasBeenEdited(){return this.isDeleted()||a(this,Nr)!==a(this,Pm)}serialize(){return this.data}get data(){return{text:a(this,Nr),richText:a(this,mc),date:a(this,gc),deleted:this.isDeleted()}}set data(e){if(e!==a(this,Nr)&&g(this,mc,null),e===null){g(this,Nr,""),g(this,yc,!0);return}g(this,Nr,e),g(this,gc,new Date),g(this,yc,!1)}setInitialText(e,t=null){g(this,Pm,e),this.data=e,g(this,gc,null),g(this,mc,t)}shown(){}destroy(){var e,t;(e=a(this,sr))==null||e.remove(),g(this,sr,null),(t=a(this,on))==null||t.remove(),g(this,on,null),g(this,Nr,""),g(this,mc,null),g(this,gc,null),g(this,Qe,null),g(this,pc,!1),g(this,yc,!1)}}on=new WeakMap,sr=new WeakMap,pc=new WeakMap,Qe=new WeakMap,Pm=new WeakMap,mc=new WeakMap,Nr=new WeakMap,gc=new WeakMap,yc=new WeakMap,vc=new WeakMap,Rm=new WeakSet,lS=function(e,t){if(!a(this,Qe)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[a(this,Qe)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const s=a(this,Qe)._uiManager._signal;if(!(s instanceof AbortSignal)||s.aborted)return e;e.addEventListener("contextmenu",Ws,{signal:s}),t&&(e.addEventListener("focusin",i=>{a(this,Qe)._focusEventsAllowed=!1,pt(i)},{capture:!0,signal:s}),e.addEventListener("focusout",i=>{a(this,Qe)._focusEventsAllowed=!0,pt(i)},{capture:!0,signal:s})),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),e===a(this,sr)?this.edit():a(this,Qe).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(g(this,pc,!0),r(i))},{signal:s}),e.addEventListener("pointerenter",()=>{a(this,Qe).toggleComment(!1,!0)},{signal:s}),e.addEventListener("pointerleave",()=>{a(this,Qe).toggleComment(!1,!1)},{signal:s}),e};var Kd,wc,Nm,Mm,Lm,Dm,Im,lo,bc,co,xc,uo,Bl,y2,v2,w2;const iE=class iE{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:r=null,onPinching:i=null,onPinchEnd:o=null,signal:l}){S(this,Bl);S(this,Kd);S(this,wc,!1);S(this,Nm,null);S(this,Mm);S(this,Lm);S(this,Dm);S(this,Im);S(this,lo,null);S(this,bc);S(this,co,null);S(this,xc);S(this,uo,null);g(this,Kd,e),g(this,Nm,s),g(this,Mm,t),g(this,Lm,r),g(this,Dm,i),g(this,Im,o),g(this,xc,new AbortController),g(this,bc,AbortSignal.any([l,a(this,xc).signal])),e.addEventListener("touchstart",E(this,Bl,y2).bind(this),{passive:!1,signal:a(this,bc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zr.pixelRatio}destroy(){var e,t;(e=a(this,xc))==null||e.abort(),g(this,xc,null),(t=a(this,lo))==null||t.abort(),g(this,lo,null)}};Kd=new WeakMap,wc=new WeakMap,Nm=new WeakMap,Mm=new WeakMap,Lm=new WeakMap,Dm=new WeakMap,Im=new WeakMap,lo=new WeakMap,bc=new WeakMap,co=new WeakMap,xc=new WeakMap,uo=new WeakMap,Bl=new WeakSet,y2=function(e){var r,i,o;if((r=a(this,Mm))!=null&&r.call(this))return;if(e.touches.length===1){if(a(this,lo))return;const l=g(this,lo,new AbortController),c=AbortSignal.any([a(this,bc),l.signal]),u=a(this,Kd),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=a(this,lo))==null||p.abort(),g(this,lo,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(pt(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!a(this,uo)){g(this,uo,new AbortController);const l=AbortSignal.any([a(this,bc),a(this,uo).signal]),c=a(this,Kd),u={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",E(this,Bl,v2).bind(this),u);const d=E(this,Bl,w2).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",pt,u),c.addEventListener("pointermove",pt,u),c.addEventListener("pointercancel",pt,u),c.addEventListener("pointerup",pt,u),(i=a(this,Lm))==null||i.call(this)}if(pt(e),e.touches.length!==2||(o=a(this,Nm))!=null&&o.call(this)){g(this,co,null);return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),g(this,co,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY})},v2=function(e){var _;if(!a(this,co)||e.touches.length!==2)return;pt(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:r,screenY:i}=t,{screenX:o,screenY:l}=s,c=a(this,co),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,v=f-d,m=o-r,b=l-i,y=Math.hypot(m,b)||1,w=Math.hypot(p,v)||1;if(!a(this,wc)&&Math.abs(w-y)<=iE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=i,c.touch1X=o,c.touch1Y=l,!a(this,wc)){g(this,wc,!0);return}const x=[(r+o)/2,(i+l)/2];(_=a(this,Dm))==null||_.call(this,x,w,y)},w2=function(e){var t;e.touches.length>=2||(a(this,uo)&&(a(this,uo).abort(),g(this,uo,null),(t=a(this,Im))==null||t.call(this)),a(this,co)&&(pt(e),g(this,co,null),g(this,wc,!1)))};let am=iE;var Sc,Mr,ot,Ge,ho,Qd,Ba,Om,an,Ac,fo,bi,za,Fm,Ec,ws,jm,_c,po,xi,Zd,Jd,rr,Cc,Bm,$0,le,cS,zm,uS,fv,b2,x2,dS,pv,hS,S2,A2,E2,fS,_2,pS,C2,k2,T2,mS,rp;const pe=class pe{constructor(e){S(this,le);S(this,Sc,null);S(this,Mr,null);S(this,ot,null);S(this,Ge,null);S(this,ho,null);S(this,Qd,!1);S(this,Ba,null);S(this,Om,"");S(this,an,null);S(this,Ac,null);S(this,fo,null);S(this,bi,null);S(this,za,null);S(this,Fm,"");S(this,Ec,!1);S(this,ws,null);S(this,jm,!1);S(this,_c,!1);S(this,po,!1);S(this,xi,null);S(this,Zd,0);S(this,Jd,0);S(this,rr,null);S(this,Cc,null);z(this,"isSelected",!1);z(this,"_isCopy",!1);z(this,"_editToolbar",null);z(this,"_initialOptions",Object.create(null));z(this,"_initialData",null);z(this,"_isVisible",!0);z(this,"_uiManager",null);z(this,"_focusEventsAllowed",!0);S(this,Bm,!1);S(this,$0,pe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[i,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=pe.prototype._resizeWithKeyboard,t=jl.TRANSLATE_SMALL,s=jl.TRANSLATE_BIG;return ye(this,"_resizerKeyboardManager",new uy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],pe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ye(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new o$({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(pe._l10n??(pe._l10n=e),pe._l10nResizer||(pe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),pe._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);pe._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ke("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,Bm)}set _isDraggable(e){var t;g(this,Bm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,$0)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(E(this,le,rp).call(this),(t=a(this,bi))==null||t.remove(),g(this,bi,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,Ec)?g(this,Ec,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[i,o]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/i,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,r]=this.parentDimensions;this.setAt(e*s,t*r,this.width*s,this.height*r),this._onTranslated()}translate(e,t){E(this,le,cS).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,ws)||g(this,ws,[this.x,this.y,this.width,this.height]),E(this,le,cS).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,ws)||g(this,ws,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,u]=this.getBaseTranslation();o+=c,l+=u;const{style:d}=s;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,ws)&&(a(this,ws)[0]!==this.x||a(this,ws)[1]!==this.y)}get _hasBeenResized(){return!!a(this,ws)&&(a(this,ws)[2]!==this.width||a(this,ws)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=pe,r=s/e,i=s/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,r]}=this;let{x:i,y:o,width:l,height:c}=this;if(l*=s,c*=r,i*=s,o*=r,this._mustFixPosition)switch(e){case 0:i=Rn(i,0,s-l),o=Rn(o,0,r-c);break;case 90:i=Rn(i,0,s-c),o=Rn(o,l,r);break;case 180:i=Rn(i,l,s),o=Rn(o,c,r);break;case 270:i=Rn(i,c,s),o=Rn(o,0,r-l);break}this.x=i/=s,this.y=o/=r;const[u,d]=this.getBaseTranslation();i+=u,o+=d,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return E(s=pe,zm,uS).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return E(s=pe,zm,uS).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(){const{div:{style:e},width:t,height:s}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*s).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,ot))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,_c))return this._editToolbar;this._editToolbar=new Zx(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=a(this,ot))==null||t.destroy()}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,ot)||(C0.initialize(pe._l10n),g(this,ot,new C0(this)),a(this,Sc)&&(a(this,ot).data=a(this,Sc),g(this,Sc,null))),a(this,ot)}get altTextData(){var e;return(e=a(this,ot))==null?void 0:e.data}set altTextData(e){a(this,ot)&&(a(this,ot).data=e)}get guessedAltText(){var e;return(e=a(this,ot))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,ot))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,ot))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,ot)&&!a(this,ot).isEmpty()}hasAltTextData(){var e;return((e=a(this,ot))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=a(this,Ge))==null||e.focusButton()}addCommentButton(){return a(this,Ge)||g(this,Ge,new By(this))}addStandaloneCommentButton(){if(a(this,ho)){this._uiManager.isEditingMode()&&a(this,ho).classList.remove("hidden");return}this.hasComment&&(g(this,ho,a(this,Ge).renderForStandalone()),this.div.append(a(this,ho)))}removeStandaloneCommentButton(){a(this,Ge).removeStandaloneCommentButton(),g(this,ho,null)}hideStandaloneCommentButton(){var e;(e=a(this,ho))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:s,deleted:r}}=a(this,Ge);return{text:t,richText:e,date:s,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){a(this,Ge)||g(this,Ge,new By(this)),a(this,Ge).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:s}){if(!t||(a(this,Ge)||g(this,Ge,new By(this)),a(this,Ge).setInitialText(e,s),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=a(this,Ge))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=a(this,Ge))==null?void 0:e.isDeleted()}get hasComment(){return!!a(this,Ge)&&!a(this,Ge).isEmpty()&&!a(this,Ge).isDeleted()}async editComment(e){a(this,Ge)||g(this,Ge,new By(this)),a(this,Ge).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){a(this,Ge).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[i]=this.pageDimensions,[o]=this.pageTranslation,l=o+i+1,c=r-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){a(this,Ge).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,Qd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),E(this,le,pS).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),i2(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,Cc)||g(this,Cc,new am({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,le,S2).bind(this),onPinching:E(this,le,A2).bind(this),onPinchEnd:E(this,le,E2).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=sn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(g(this,Ec,!0),this._isDraggable){E(this,le,_2).call(this,e);return}E(this,le,fS).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,xi)&&clearTimeout(a(this,xi)),g(this,xi,setTimeout(()=>{var e;g(this,xi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const r=this.parentScale,[i,o]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/r,d=t/r,h=this.x*i,f=this.y*o,p=this.width*i,v=this.height*o;switch(s){case 0:return[h+u+l,o-f-d-v+c,h+u+p+l,o-f-d+c];case 90:return[h+d+l,o-f+u+c,h+d+v+l,o-f+u+p+c];case 180:return[h-u-p+l,o-f+d+c,h-u+l,o-f+d+v+c];case 270:return[h-d-v+l,o-f-u-p+c,h-d+l,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,i,o]=e,l=i-s,c=o-r;switch(this.rotation){case 0:return[s,t-o,l,c];case 90:return[s,t-r,c,l];case 180:return[i,t-r,l,c];case 270:return[i,t-o,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&pe._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=a(this,Ge))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:s,opacity:r,deleted:i,richText:o},uid:l,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:s||d,popupRef:!i,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),g(this,_c,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),g(this,_c,!1),!0):!1}isInEditMode(){return a(this,_c)}shouldGetKeyboardEvents(){return a(this,po)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return t<o&&r>0&&e<i&&s>0}rebuild(){E(this,le,pS).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var s;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((s=this._initialData)==null?void 0:s.popupRef)||""}}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,g(r,Sc,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,o]=r.pageDimensions,[l,c,u,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=l/i,r.y=c/o,r.width=u/i,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=a(this,za))==null||e.abort(),g(this,za,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),a(this,xi)&&(clearTimeout(a(this,xi)),g(this,xi,null)),E(this,le,rp).call(this),this.removeEditToolbar(),a(this,rr)){for(const s of a(this,rr).values())clearTimeout(s);g(this,rr,null)}this.parent=null,(t=a(this,Cc))==null||t.destroy(),g(this,Cc,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,le,b2).call(this),a(this,an).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[s,r,i,o]=this.getPDFRect();return[pe._round(s+(i-s)*e),pe._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return a(this,Ge).commentPopupPositionInLayer}set commentPopupPosition(e){a(this,Ge).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return a(this,Ge).hasDefaultPopupPosition()}get commentButtonWidth(){return a(this,Ge).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){a(this,Ge).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),g(this,fo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,an).children;if(!a(this,Mr)){g(this,Mr,Array.from(t));const o=E(this,le,C2).bind(this),l=E(this,le,k2).bind(this),c=this._uiManager._signal;for(const u of a(this,Mr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",E(this,le,T2).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",pe._l10nResizer[d])}}const s=a(this,Mr)[0];let r=0;for(const o of t){if(o===s)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(a(this,Mr).length/4);if(i!==r){if(i<r)for(let l=0;l<r-i;l++)a(this,an).append(a(this,an).firstChild);else if(i>r)for(let l=0;l<i-r;l++)a(this,an).firstChild.before(a(this,an).lastChild);let o=0;for(const l of t){const u=a(this,Mr)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",pe._l10nResizer[u])}}E(this,le,mS).call(this,0),g(this,po,!0),a(this,an).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,po)&&E(this,le,hS).call(this,a(this,Fm),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,le,rp).call(this),this.div.focus()}select(){var e,t,s;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(s=a(this,ot))==null||s.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,s,r,i;this.isSelected&&(this.isSelected=!1,(e=a(this,an))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=a(this,ot))==null||i.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,jm)}set isEditing(e){g(this,jm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,rr)||g(this,rr,new Map);const{action:s}=e;let r=a(this,rr).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),a(this,rr).delete(s),a(this,rr).size===0&&g(this,rr,null)},pe._telemetryTimeout),a(this,rr).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),g(this,Qd,!1)}disable(){this.div&&(this.div.tabIndex=-1),g(this,Qd,!0)}updateFakeAnnotationElement(e){if(!a(this,bi)&&!this.deleted){g(this,bi,e.addFakeAnnotation(this));return}if(this.deleted){a(this,bi).remove(),g(this,bi,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&a(this,bi).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Sc=new WeakMap,Mr=new WeakMap,ot=new WeakMap,Ge=new WeakMap,ho=new WeakMap,Qd=new WeakMap,Ba=new WeakMap,Om=new WeakMap,an=new WeakMap,Ac=new WeakMap,fo=new WeakMap,bi=new WeakMap,za=new WeakMap,Fm=new WeakMap,Ec=new WeakMap,ws=new WeakMap,jm=new WeakMap,_c=new WeakMap,po=new WeakMap,xi=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,rr=new WeakMap,Cc=new WeakMap,Bm=new WeakMap,$0=new WeakMap,le=new WeakSet,cS=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},zm=new WeakSet,uS=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},fv=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},b2=function(){if(a(this,an))return;g(this,an,document.createElement("div")),a(this,an).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");a(this,an).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",E(this,le,x2).bind(this,s),{signal:t}),r.addEventListener("contextmenu",Ws,{signal:t}),r.tabIndex=-1}this.div.prepend(a(this,an))},x2=function(e,t){var d;t.preventDefault();const{isMac:s}=sn.platform;if(t.button!==0||t.ctrlKey&&s)return;(d=a(this,ot))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,g(this,Ac,[t.screenX,t.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,le,hS).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",pt,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ws,{signal:o}),g(this,fo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=a(this,ot))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=c,E(this,le,pv).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},dS=function(e,t,s,r){this.width=s,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},pv=function(){if(!a(this,fo))return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=a(this,fo);g(this,fo,null);const i=this.x,o=this.y,l=this.width,c=this.height;i===e&&o===t&&l===s&&c===r||this.addCommands({cmd:E(this,le,dS).bind(this,i,o,l,c),undo:E(this,le,dS).bind(this,e,t,s,r),mustExec:!0})},hS=function(e,t){const[s,r]=this.parentDimensions,i=this.x,o=this.y,l=this.width,c=this.height,u=pe.MIN_SIZE/s,d=pe.MIN_SIZE/r,h=E(this,le,fv).call(this,this.rotation),f=(j,B)=>[h[0]*j+h[2]*B,h[1]*j+h[3]*B],p=E(this,le,fv).call(this,360-this.rotation),v=(j,B)=>[p[0]*j+p[2]*B,p[1]*j+p[3]*B];let m,b,y=!1,w=!1;switch(e){case"topLeft":y=!0,m=(j,B)=>[0,0],b=(j,B)=>[j,B];break;case"topMiddle":m=(j,B)=>[j/2,0],b=(j,B)=>[j/2,B];break;case"topRight":y=!0,m=(j,B)=>[j,0],b=(j,B)=>[0,B];break;case"middleRight":w=!0,m=(j,B)=>[j,B/2],b=(j,B)=>[0,B/2];break;case"bottomRight":y=!0,m=(j,B)=>[j,B],b=(j,B)=>[0,0];break;case"bottomMiddle":m=(j,B)=>[j/2,B],b=(j,B)=>[j/2,0];break;case"bottomLeft":y=!0,m=(j,B)=>[0,B],b=(j,B)=>[j,0];break;case"middleLeft":w=!0,m=(j,B)=>[0,B/2],b=(j,B)=>[j,B/2];break}const x=m(l,c),_=b(l,c);let C=f(..._);const T=pe._round(i+C[0]),P=pe._round(o+C[1]);let R=1,M=1,N,D;if(t.fromKeyboard)({deltaX:N,deltaY:D}=t);else{const{screenX:j,screenY:B}=t,[L,O]=a(this,Ac);[N,D]=this.screenToPageTranslation(j-L,B-O),a(this,Ac)[0]=j,a(this,Ac)[1]=B}if([N,D]=v(N/s,D/r),y){const j=Math.hypot(l,c);R=M=Math.max(Math.min(Math.hypot(_[0]-x[0]-N,_[1]-x[1]-D)/j,1/l,1/c),u/l,d/c)}else w?R=Rn(Math.abs(_[0]-x[0]-N),u,1)/l:M=Rn(Math.abs(_[1]-x[1]-D),d,1)/c;const F=pe._round(l*R),$=pe._round(c*M);C=f(...b(F,$));const I=T-C[0],G=P-C[1];a(this,ws)||g(this,ws,[this.x,this.y,this.width,this.height]),this.width=F,this.height=$,this.x=I,this.y=G,this.setDims(),this.fixAndSetPosition(),this._onResizing()},S2=function(){var e;g(this,fo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,ot))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},A2=function(e,t,s){let i=.7*(s/t)+1-.7;if(i===1)return;const o=E(this,le,fv).call(this,this.rotation),l=(T,P)=>[o[0]*T+o[2]*P,o[1]*T+o[3]*P],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,v=pe.MIN_SIZE/c,m=pe.MIN_SIZE/u;i=Math.max(Math.min(i,1/f,1/p),v/f,m/p);const b=pe._round(f*i),y=pe._round(p*i);if(b===f&&y===p)return;a(this,ws)||g(this,ws,[d,h,f,p]);const w=l(f/2,p/2),x=pe._round(d+w[0]),_=pe._round(h+w[1]),C=l(b/2,y/2);this.x=x-C[0],this.y=_-C[1],this.width=b,this.height=y,this.setDims(),this.fixAndSetPosition(),this._onResizing()},E2=function(){var e;(e=a(this,ot))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),E(this,le,pv).call(this)},fS=function(e){const{isMac:t}=sn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},_2=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:i},l=u=>{r.abort(),g(this,Ba,null),g(this,Ec,!1),this._uiManager.endDragSession()||E(this,le,fS).call(this,u),s&&this._onStopDragging()};t&&(g(this,Zd,e.clientX),g(this,Jd,e.clientY),g(this,Ba,e.pointerId),g(this,Om,e.pointerType),window.addEventListener("pointermove",u=>{s||(s=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==a(this,Ba)){pt(u);return}const[p,v]=this.screenToPageTranslation(d-a(this,Zd),h-a(this,Jd));g(this,Zd,d),g(this,Jd,h),this._uiManager.dragSelectedEditors(p,v)},o),window.addEventListener("touchmove",pt,o),window.addEventListener("pointerdown",u=>{u.pointerType===a(this,Om)&&(a(this,Cc)||u.isPrimary)&&l(u),pt(u)},o));const c=u=>{if(!a(this,Ba)||a(this,Ba)===u.pointerId){l(u);return}pt(u)};window.addEventListener("pointerup",c,{signal:i}),window.addEventListener("blur",c,{signal:i})},pS=function(){if(a(this,za)||!this.div)return;g(this,za,new AbortController);const e=this._uiManager.combinedSignal(a(this,za));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},C2=function(e){pe._resizerKeyboardManager.exec(this,e)},k2=function(e){var t;a(this,po)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,an)&&E(this,le,rp).call(this)},T2=function(e){g(this,Fm,a(this,po)?e:"")},mS=function(e){if(a(this,Mr))for(const t of a(this,Mr))t.tabIndex=e},rp=function(){g(this,po,!1),E(this,le,mS).call(this,-1),E(this,le,pv).call(this)},S(pe,zm),z(pe,"_l10n",null),z(pe,"_l10nResizer",null),z(pe,"_borderLineWidth",-1),z(pe,"_colorManager",new tS),z(pe,"_zIndex",1),z(pe,"_telemetryTimeout",1e3);let Je=pe;class o$ extends Je{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const IC=3285377520,Xs=4294901760,oi=65535;class P2{constructor(e){this.h1=e?e&4294967295:IC,this.h2=e?e&4294967295:IC}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let m=0,b=e.length;m<b;m++){const y=e.charCodeAt(m);y<=255?t[s++]=y:(t[s++]=y>>>8,t[s++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,i=s-r*4,o=new Uint32Array(t.buffer,0,r);let l=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&oi,v=f&oi;for(let m=0;m<r;m++)m&1?(l=o[m],l=l*h&Xs|l*p&oi,l=l<<15|l>>>17,l=l*f&Xs|l*v&oi,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[m],c=c*h&Xs|c*p&oi,c=c<<15|c>>>17,c=c*f&Xs|c*v&oi,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,i){case 3:l^=t[r*4+2]<<16;case 2:l^=t[r*4+1]<<8;case 1:l^=t[r*4],l=l*h&Xs|l*p&oi,l=l<<15|l>>>17,l=l*f&Xs|l*v&oi,r&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xs|e*36045&oi,t=t*4283543511&Xs|((t<<16|e>>>16)*2950163797&Xs)>>>16,e^=t>>>1,e=e*444984403&Xs|e*60499&oi,t=t*3301882366&Xs|((t<<16|e>>>16)*3120437893&Xs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const gS=Object.freeze({map:null,hash:"",transfer:void 0});var kc,Tc,mo,ln,U0,R2;class qA{constructor(){S(this,U0);S(this,kc,!1);S(this,Tc,null);S(this,mo,null);S(this,ln,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=a(this,ln).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return a(this,ln).get(e)}remove(e){const t=a(this,ln).get(e);if(t!==void 0&&(t instanceof Je&&a(this,mo).delete(t.annotationElementId),a(this,ln).delete(e),a(this,ln).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const s of a(this,ln).values())if(s instanceof Je)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=a(this,ln).get(e);let r=!1;if(s!==void 0)for(const[i,o]of Object.entries(t))s[i]!==o&&(r=!0,s[i]=o);else r=!0,a(this,ln).set(e,t);r&&E(this,U0,R2).call(this),t instanceof Je&&((a(this,mo)||g(this,mo,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return a(this,ln).has(e)}get size(){return a(this,ln).size}resetModified(){a(this,kc)&&(g(this,kc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new N2(this)}get serializable(){if(a(this,ln).size===0)return gS;const e=new Map,t=new P2,s=[],r=Object.create(null);let i=!1;for(const[o,l]of a(this,ln)){const c=l instanceof Je?l.serialize(!1,r):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const o of e.values())o.bitmap&&s.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:gS}get editorStats(){let e=null;const t=new Map;let s=0,r=0;for(const i of a(this,ln).values()){if(!(i instanceof Je)){i.popup&&(i.popup.deleted?r+=1:s+=1);continue}i.isCommentDeleted?r+=1:i.hasEditedComment&&(s+=1);const o=i.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[u,d]of Object.entries(o)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const f=h.get(d)??0;h.set(d,f+1)}}if((r>0||s>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:s}),!e)return null;for(const[i,o]of t)e[i]=o.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){g(this,Tc,null)}updateEditor(e,t){var r;const s=(r=a(this,mo))==null?void 0:r.get(e);return s?(s.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=a(this,mo))==null?void 0:t.get(e))||null}get modifiedIds(){if(a(this,Tc))return a(this,Tc);const e=[];if(a(this,mo))for(const t of a(this,mo).values())t.serialize()&&e.push(t.annotationElementId);return g(this,Tc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,ln).entries()}}kc=new WeakMap,Tc=new WeakMap,mo=new WeakMap,ln=new WeakMap,U0=new WeakSet,R2=function(){a(this,kc)||(g(this,kc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var $m;class N2 extends qA{constructor(t){super();S(this,$m);const{map:s,hash:r,transfer:i}=t.serializable,o=structuredClone(s,i?{transfer:i}:null);g(this,$m,{map:o,hash:r,transfer:i})}get print(){Ke("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,$m)}get modifiedIds(){return ye(this,"modifiedIds",{ids:new Set,hash:""})}}$m=new WeakMap;var eh;class a${constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,eh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,eh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||a(this,eh).has(e.loadedName))){if(ke(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,l=new FontFace(r,i,o);this.addNativeFontFace(l);try{await l.load(),a(this,eh).add(r),s==null||s(e)}catch{ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Ke("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw ue(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ye(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ye(this,"isSyncFontLoadingSupported",Hn||sn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ke(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const i=s.shift();setTimeout(i.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ye(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(_,C){return _.charCodeAt(C)<<24|_.charCodeAt(C+1)<<16|_.charCodeAt(C+2)<<8|_.charCodeAt(C+3)&255}function r(_,C,T,P){const R=_.substring(0,C),M=_.substring(C+T);return R+P+M}let i,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(_,C){if(++u>30){ue("Load test font never loaded."),C();return}if(c.font="30px "+_,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,_,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const v=16,m=1482184792;let b=s(f,v);for(i=0,o=h.length-3;i<o;i+=4)b=b-m+s(h,i)|0;i<h.length&&(b=b-m+s(h+"XXX",i)|0),f=r(f,v,4,Xz(b));const y=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const _ of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=_,x.append(C)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}eh=new WeakMap;var $e;class l${constructor(e,t=null,s,r){S(this,$e);this.compiledGlyphs=Object.create(null),g(this,$e,e),this._inspectFont=t,s&&Object.assign(this,s),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${qN(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let r;try{r=e.get(s)}catch(o){ue(`getPathGenerator - ignoring character: "${o}".`)}const i=new Path2D(r||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=i}get black(){return a(this,$e).black}get bold(){return a(this,$e).bold}get disableFontFace(){return a(this,$e).disableFontFace??!1}get fontExtraProperties(){return a(this,$e).fontExtraProperties??!1}get isInvalidPDFjsFont(){return a(this,$e).isInvalidPDFjsFont}get isType3Font(){return a(this,$e).isType3Font}get italic(){return a(this,$e).italic}get missingFile(){return a(this,$e).missingFile}get remeasure(){return a(this,$e).remeasure}get vertical(){return a(this,$e).vertical}get ascent(){return a(this,$e).ascent}get defaultWidth(){return a(this,$e).defaultWidth}get descent(){return a(this,$e).descent}get bbox(){return a(this,$e).bbox}get fontMatrix(){return a(this,$e).fontMatrix}get fallbackName(){return a(this,$e).fallbackName}get loadedName(){return a(this,$e).loadedName}get mimetype(){return a(this,$e).mimetype}get name(){return a(this,$e).name}get data(){return a(this,$e).data}clearData(){a(this,$e).clearData()}get cssFontInfo(){return a(this,$e).cssFontInfo}get systemFontInfo(){return a(this,$e).systemFontInfo}get defaultVMetrics(){return a(this,$e).defaultVMetrics}}$e=new WeakMap;function c$(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Hn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function u$(n){if(Hn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return ay(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zy(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const yS=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,d$=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",M2=Zz.bind(null,yS,d$);var go,H0;class h${constructor(){S(this,go,new Map);S(this,H0,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};a(this,H0).then(()=>{for(const[r]of a(this,go))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted){ue("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}a(this,go).set(t,r)}removeEventListener(e,t){const s=a(this,go).get(t);s==null||s(),a(this,go).delete(t)}terminate(){for(const[,e]of a(this,go))e==null||e();a(this,go).clear()}}go=new WeakMap,H0=new WeakMap;const $y={DATA:1,ERROR:2},Mt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function OC(){}function Jn(n){if(n instanceof Qo||n instanceof E0||n instanceof TC||n instanceof rm||n instanceof _b)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ke('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Qo(n.message);case"InvalidPDFException":return new E0(n.message);case"PasswordException":return new TC(n.message,n.code);case"ResponseException":return new rm(n.message,n.status,n.missing);case"UnknownErrorException":return new _b(n.message,n.details)}return new _b(n.message,n.toString())}var th,pr,L2,D2,I2,mv;class ip{constructor(e,t,s){S(this,pr);S(this,th,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",E(this,pr,L2).bind(this),{signal:a(this,th).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,s,r){const i=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:i,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,c.postMessage({sourceName:o,targetName:l,stream:Mt.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{ke(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:Mt.CANCEL,streamId:i,reason:Jn(u)}),d.promise}},s)}destroy(){var e;(e=a(this,th))==null||e.abort(),g(this,th,null)}}th=new WeakMap,pr=new WeakSet,L2=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,pr,I2).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===$y.DATA)r.resolve(e.data);else if(e.callback===$y.ERROR)r.reject(Jn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(o){i.postMessage({sourceName:s,targetName:r,callback:$y.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:s,targetName:r,callback:$y.ERROR,callbackId:e.callbackId,reason:Jn(o)})});return}if(e.streamId){E(this,pr,D2).call(this,e);return}t(e.data)},D2=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:r,stream:Mt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:Mt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){ke(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:Mt.ERROR,streamId:t,reason:Jn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){i.postMessage({sourceName:s,targetName:r,stream:Mt.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:Mt.START_COMPLETE,streamId:t,reason:Jn(u)})})},I2=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Mt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Jn(e.reason));break;case Mt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Jn(e.reason));break;case Mt.PULL:if(!l){i.postMessage({sourceName:s,targetName:r,stream:Mt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||OC).then(function(){i.postMessage({sourceName:s,targetName:r,stream:Mt.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:Mt.PULL_COMPLETE,streamId:t,reason:Jn(u)})});break;case Mt.ENQUEUE:if(ke(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Mt.CLOSE:if(ke(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,pr,mv).call(this,o,t);break;case Mt.ERROR:ke(o,"error should have stream controller"),o.controller.error(Jn(e.reason)),E(this,pr,mv).call(this,o,t);break;case Mt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Jn(e.reason)),E(this,pr,mv).call(this,o,t);break;case Mt.CANCEL:if(!l)break;const c=Jn(e.reason);Promise.try(l.onCancel||OC,c).then(function(){i.postMessage({sourceName:s,targetName:r,stream:Mt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:Mt.CANCEL_COMPLETE,streamId:t,reason:Jn(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},mv=async function(e,t){var s,r,i;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Um;class O2{constructor({enableHWA:e=!1}){S(this,Um,!1);g(this,Um,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!a(this,Um)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ke("Abstract method `_createCanvas` called.")}}Um=new WeakMap;class f$ extends O2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class F2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ke("Abstract method `_fetch` called.")}}class FC extends F2{async _fetch(e){const t=await Nf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):ay(t)}}class j2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,i){return"none"}destroy(e=!1){}}var Pc,nh,yo,vo,Cn,Rc,Nc,Q,An,op,Gu,gv,qu,B2,vS,Xu,ap,lp,wS,cp;class p$ extends j2{constructor({docId:t,ownerDocument:s=globalThis.document}){super();S(this,Q);S(this,Pc);S(this,nh);S(this,yo);S(this,vo);S(this,Cn);S(this,Rc);S(this,Nc,0);g(this,vo,t),g(this,Cn,s)}addFilter(t){if(!t)return"none";let s=a(this,Q,An).get(t);if(s)return s;const[r,i,o]=E(this,Q,gv).call(this,t),l=t.length===1?r:`${r}${i}${o}`;if(s=a(this,Q,An).get(l),s)return a(this,Q,An).set(t,s),s;const c=`g_${a(this,vo)}_transfer_map_${bt(this,Nc)._++}`,u=E(this,Q,qu).call(this,c);a(this,Q,An).set(t,u),a(this,Q,An).set(l,u);const d=E(this,Q,Xu).call(this,c);return E(this,Q,lp).call(this,r,i,o,d),u}addHCMFilter(t,s){var v;const r=`${t}-${s}`,i="base";let o=a(this,Q,op).get(i);if((o==null?void 0:o.key)===r||(o?((v=o.filter)==null||v.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},a(this,Q,op).set(i,o)),!t||!s))return o.url;const l=E(this,Q,cp).call(this,t);t=J.makeHexColor(...l);const c=E(this,Q,cp).call(this,s);if(s=J.makeHexColor(...c),a(this,Q,Gu).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return o.url;const u=new Array(256);for(let m=0;m<=255;m++){const b=m/255;u[m]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${a(this,vo)}_hcm_filter`,f=o.filter=E(this,Q,Xu).call(this,h);E(this,Q,lp).call(this,d,d,d,f),E(this,Q,vS).call(this,f);const p=(m,b)=>{const y=l[m]/255,w=c[m]/255,x=new Array(b+1);for(let _=0;_<=b;_++)x[_]=y+_/b*(w-y);return x.join(",")};return E(this,Q,lp).call(this,p(0,5),p(1,5),p(2,5),f),o.url=E(this,Q,qu).call(this,h),o.url}addAlphaFilter(t){let s=a(this,Q,An).get(t);if(s)return s;const[r]=E(this,Q,gv).call(this,[t]),i=`alpha_${r}`;if(s=a(this,Q,An).get(i),s)return a(this,Q,An).set(t,s),s;const o=`g_${a(this,vo)}_alpha_map_${bt(this,Nc)._++}`,l=E(this,Q,qu).call(this,o);a(this,Q,An).set(t,l),a(this,Q,An).set(i,l);const c=E(this,Q,Xu).call(this,o);return E(this,Q,wS).call(this,r,c),l}addLuminosityFilter(t){let s=a(this,Q,An).get(t||"luminosity");if(s)return s;let r,i;if(t?([r]=E(this,Q,gv).call(this,[t]),i=`luminosity_${r}`):i="luminosity",s=a(this,Q,An).get(i),s)return a(this,Q,An).set(t,s),s;const o=`g_${a(this,vo)}_luminosity_map_${bt(this,Nc)._++}`,l=E(this,Q,qu).call(this,o);a(this,Q,An).set(t,l),a(this,Q,An).set(i,l);const c=E(this,Q,Xu).call(this,o);return E(this,Q,B2).call(this,c),t&&E(this,Q,wS).call(this,r,c),l}addHighlightHCMFilter(t,s,r,i,o){var w;const l=`${s}-${r}-${i}-${o}`;let c=a(this,Q,op).get(t);if((c==null?void 0:c.key)===l||(c?((w=c.filter)==null||w.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},a(this,Q,op).set(t,c)),!s||!r))return c.url;const[u,d]=[s,r].map(E(this,Q,cp).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,v]=[i,o].map(E(this,Q,cp).bind(this));f<h&&([h,f,p,v]=[f,h,v,p]),a(this,Q,Gu).style.color="";const m=(x,_,C)=>{const T=new Array(256),P=(f-h)/C,R=x/255,M=(_-x)/(255*C);let N=0;for(let D=0;D<=C;D++){const F=Math.round(h+D*P),$=R+D*M;for(let I=N;I<=F;I++)T[I]=$;N=F+1}for(let D=N;D<256;D++)T[D]=T[N-1];return T.join(",")},b=`g_${a(this,vo)}_hcm_${t}_filter`,y=c.filter=E(this,Q,Xu).call(this,b);return E(this,Q,vS).call(this,y),E(this,Q,lp).call(this,m(p[0],v[0],5),m(p[1],v[1],5),m(p[2],v[2],5),y),c.url=E(this,Q,qu).call(this,b),c.url}destroy(t=!1){var s,r,i,o;t&&((s=a(this,Rc))!=null&&s.size)||((r=a(this,yo))==null||r.parentNode.parentNode.remove(),g(this,yo,null),(i=a(this,nh))==null||i.clear(),g(this,nh,null),(o=a(this,Rc))==null||o.clear(),g(this,Rc,null),g(this,Nc,0))}}Pc=new WeakMap,nh=new WeakMap,yo=new WeakMap,vo=new WeakMap,Cn=new WeakMap,Rc=new WeakMap,Nc=new WeakMap,Q=new WeakSet,An=function(){return a(this,nh)||g(this,nh,new Map)},op=function(){return a(this,Rc)||g(this,Rc,new Map)},Gu=function(){if(!a(this,yo)){const t=a(this,Cn).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=a(this,Cn).createElementNS(Ki,"svg");r.setAttribute("width",0),r.setAttribute("height",0),g(this,yo,a(this,Cn).createElementNS(Ki,"defs")),t.append(r),r.append(a(this,yo)),a(this,Cn).body.append(t)}return a(this,yo)},gv=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[s,r,i]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=s[u]/255,l[u]=r[u]/255,c[u]=i[u]/255;return[o.join(","),l.join(","),c.join(",")]},qu=function(t){if(a(this,Pc)===void 0){g(this,Pc,"");const s=a(this,Cn).URL;s!==a(this,Cn).baseURI&&(cy(s)?ue('#createUrl: ignore "data:"-URL for performance reasons.'):g(this,Pc,UA(s,"")))}return`url(${a(this,Pc)}#${t})`},B2=function(t){const s=a(this,Cn).createElementNS(Ki,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},vS=function(t){const s=a(this,Cn).createElementNS(Ki,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},Xu=function(t){const s=a(this,Cn).createElementNS(Ki,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),a(this,Q,Gu).append(s),s},ap=function(t,s,r){const i=a(this,Cn).createElementNS(Ki,s);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},lp=function(t,s,r,i){const o=a(this,Cn).createElementNS(Ki,"feComponentTransfer");i.append(o),E(this,Q,ap).call(this,o,"feFuncR",t),E(this,Q,ap).call(this,o,"feFuncG",s),E(this,Q,ap).call(this,o,"feFuncB",r)},wS=function(t,s){const r=a(this,Cn).createElementNS(Ki,"feComponentTransfer");s.append(r),E(this,Q,ap).call(this,r,"feFuncA",t)},cp=function(t){return a(this,Q,Gu).style.color=t,Mf(getComputedStyle(a(this,Q,Gu)).getPropertyValue("color"))};class z2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ke("Abstract method `_fetch` called.")}}class jC extends z2{async _fetch(e){const t=await Nf(e,"arraybuffer");return new Uint8Array(t)}}class $2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ke("Abstract method `_fetch` called.")}}class BC extends $2{async _fetch(e){const t=await Nf(e,"arraybuffer");return new Uint8Array(t)}}Hn&&ue("Please use the `legacy` build in Node.js environments.");async function XA(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class m$ extends j2{}class g$ extends O2{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class y$ extends F2{async _fetch(e){return XA(e)}}class v$ extends z2{async _fetch(e){return XA(e)}}class w$ extends $2{async _fetch(e){return XA(e)}}const Uu="__forcedDependency",{floor:zC,ceil:$C}=Math;function Uy(n,e,t,s,r,i){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],s),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],i)}const bS=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var sh,$a;class b${constructor(e,t){S(this,sh);S(this,$a);g(this,sh,e),g(this,$a,t)}get length(){return a(this,sh).length}isEmpty(e){return a(this,sh)[e]===bS}minX(e){return a(this,$a)[e*4+0]/256}minY(e){return a(this,$a)[e*4+1]/256}maxX(e){return(a(this,$a)[e*4+2]+1)/256}maxY(e){return(a(this,$a)[e*4+3]+1)/256}}sh=new WeakMap,$a=new WeakMap;const Hy=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var ns,ss,Mc,Lr,Lc,wo,je,Ue,bo,rs,Hm,rh,Dc,Ic,xo,kn,Si,Vm,xS;class x${constructor(e,t,s=!1){S(this,Vm);S(this,ns,{__proto__:null});S(this,ss,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Uu]:[]});S(this,Mc,new Map);S(this,Lr,[]);S(this,Lc,[]);S(this,wo,[[1,0,0,1,0,0]]);S(this,je,[-1/0,-1/0,1/0,1/0]);S(this,Ue,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,bo,-1);S(this,rs,new Set);S(this,Hm,new Map);S(this,rh,new Map);S(this,Dc);S(this,Ic);S(this,xo);S(this,kn);S(this,Si);g(this,Dc,e.width),g(this,Ic,e.height),E(this,Vm,xS).call(this,t),s&&g(this,Si,new Map)}growOperationsCount(e){e>=a(this,kn).length&&E(this,Vm,xS).call(this,e,a(this,kn))}save(e){return g(this,ns,{__proto__:a(this,ns)}),g(this,ss,{__proto__:a(this,ss),transform:{__proto__:a(this,ss).transform},moveText:{__proto__:a(this,ss).moveText},sameLineText:{__proto__:a(this,ss).sameLineText},[Uu]:{__proto__:a(this,ss)[Uu]}}),g(this,je,{__proto__:a(this,je)}),a(this,Lr).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(a(this,ns));if(t===null)return this;g(this,ns,t),g(this,ss,Object.getPrototypeOf(a(this,ss))),g(this,je,Object.getPrototypeOf(a(this,je)));const s=a(this,Lr).pop();return s!==void 0&&((r=Hy(a(this,Si),e))==null||r.dependencies.add(s),a(this,kn)[e]=a(this,kn)[s]),this}recordOpenMarker(e){return a(this,Lr).push(e),this}getOpenMarker(){return a(this,Lr).length===0?null:a(this,Lr).at(-1)}recordCloseMarker(e){var s;const t=a(this,Lr).pop();return t!==void 0&&((s=Hy(a(this,Si),e))==null||s.dependencies.add(t),a(this,kn)[e]=a(this,kn)[t]),this}beginMarkedContent(e){return a(this,Lc).push(e),this}endMarkedContent(e){var s;const t=a(this,Lc).pop();return t!==void 0&&((s=Hy(a(this,Si),e))==null||s.dependencies.add(t),a(this,kn)[e]=a(this,kn)[t]),this}pushBaseTransform(e){return a(this,wo).push(J.multiplyByDOMMatrix(a(this,wo).at(-1),e.getTransform())),this}popBaseTransform(){return a(this,wo).length>1&&a(this,wo).pop(),this}recordSimpleData(e,t){return a(this,ns)[e]=t,this}recordIncrementalData(e,t){return a(this,ss)[e].push(t),this}resetIncrementalData(e,t){return a(this,ss)[e].length=0,this}recordNamedData(e,t){return a(this,Mc).set(e,t),this}recordSimpleDataFromNamed(e,t,s){a(this,ns)[e]=a(this,Mc).get(t)??s}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Uu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in a(this,ns)&&this.recordFutureForcedDependency(t,a(this,ns)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of a(this,rs))this.recordFutureForcedDependency(Uu,e);return this}resetBBox(e){return a(this,bo)!==e&&(g(this,bo,e),a(this,Ue)[0]=1/0,a(this,Ue)[1]=1/0,a(this,Ue)[2]=-1/0,a(this,Ue)[3]=-1/0),this}recordClipBox(e,t,s,r,i,o){const l=J.multiplyByDOMMatrix(a(this,wo).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];J.axialAlignedBoundingBox([s,i,r,o],l,c);const u=J.intersect(a(this,je),c);return u?(a(this,je)[0]=u[0],a(this,je)[1]=u[1],a(this,je)[2]=u[2],a(this,je)[3]=u[3]):(a(this,je)[0]=a(this,je)[1]=1/0,a(this,je)[2]=a(this,je)[3]=-1/0),this}recordBBox(e,t,s,r,i,o){const l=a(this,je);if(l[0]===1/0)return this;const c=J.multiplyByDOMMatrix(a(this,wo).at(-1),t.getTransform());if(l[0]===-1/0)return J.axialAlignedBoundingBox([s,i,r,o],c,a(this,Ue)),this;const u=[1/0,1/0,-1/0,-1/0];return J.axialAlignedBoundingBox([s,i,r,o],c,u),a(this,Ue)[0]=Math.min(a(this,Ue)[0],Math.max(u[0],l[0])),a(this,Ue)[1]=Math.min(a(this,Ue)[1],Math.max(u[1],l[1])),a(this,Ue)[2]=Math.max(a(this,Ue)[2],Math.min(u[2],l[2])),a(this,Ue)[3]=Math.max(a(this,Ue)[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,s,r=1,i=0,o=0,l){const c=s.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&a(this,rh).get(s),u!==!1&&(d=[0,0,0,0],J.axialAlignedBoundingBox(c,s.fontMatrix,d),(r!==1||i!==0||o!==0)&&J.scaleMinMax([r,0,0,-r,i,o],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&d&&u===void 0&&(u=d[0]<=i-h.actualBoundingBoxLeft&&d[2]>=i+h.actualBoundingBoxRight&&d[1]<=o-h.actualBoundingBoxAscent&&d[3]>=o+h.actualBoundingBoxDescent,a(this,rh).set(s,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,i-h.actualBoundingBoxLeft,i+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return a(this,Ue)[0]=Math.max(0,a(this,je)[0]),a(this,Ue)[1]=Math.max(0,a(this,je)[1]),a(this,Ue)[2]=Math.min(a(this,Dc),a(this,je)[2]),a(this,Ue)[3]=Math.min(a(this,Ic),a(this,je)[3]),this}getSimpleIndex(e){return a(this,ns)[e]}recordDependencies(e,t){const s=a(this,rs),r=a(this,ns),i=a(this,ss);for(const o of t)o in a(this,ns)?s.add(r[o]):o in i&&i[o].forEach(s.add,s);return this}recordNamedDependency(e,t){return a(this,Mc).has(t)&&a(this,rs).add(a(this,Mc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Uu]),a(this,Si)){const s=Hy(a(this,Si),e),{dependencies:r}=s;a(this,rs).forEach(r.add,r),a(this,Lr).forEach(r.add,r),a(this,Lc).forEach(r.add,r),r.delete(e),s.isRenderingOperation=!0}if(a(this,bo)===e){const s=zC(a(this,Ue)[0]*256/a(this,Dc)),r=zC(a(this,Ue)[1]*256/a(this,Ic)),i=$C(a(this,Ue)[2]*256/a(this,Dc)),o=$C(a(this,Ue)[3]*256/a(this,Ic));Uy(a(this,xo),e,s,r,i,o);for(const l of a(this,rs))l!==e&&Uy(a(this,xo),l,s,r,i,o);for(const l of a(this,Lr))l!==e&&Uy(a(this,xo),l,s,r,i,o);for(const l of a(this,Lc))l!==e&&Uy(a(this,xo),l,s,r,i,o);t||(a(this,rs).clear(),g(this,bo,-1))}return this}recordShowTextOperation(e,t=!1){const s=Array.from(a(this,rs));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of s)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return a(this,bo)===e&&(g(this,bo,-1),a(this,je)[0]=Math.max(a(this,je)[0],a(this,Ue)[0]),a(this,je)[1]=Math.max(a(this,je)[1],a(this,Ue)[1]),a(this,je)[2]=Math.min(a(this,je)[2],a(this,Ue)[2]),a(this,je)[3]=Math.min(a(this,je)[3],a(this,Ue)[3]),t||a(this,rs).clear()),this}_takePendingDependencies(){const e=a(this,rs);return g(this,rs,new Set),e}_extractOperation(e){const t=a(this,Hm).get(e);return a(this,Hm).delete(e),t}_pushPendingDependencies(e){for(const t of e)a(this,rs).add(t)}take(){return a(this,rh).clear(),new b$(a(this,kn),a(this,xo))}takeDebugMetadata(){return a(this,Si)}}ns=new WeakMap,ss=new WeakMap,Mc=new WeakMap,Lr=new WeakMap,Lc=new WeakMap,wo=new WeakMap,je=new WeakMap,Ue=new WeakMap,bo=new WeakMap,rs=new WeakMap,Hm=new WeakMap,rh=new WeakMap,Dc=new WeakMap,Ic=new WeakMap,xo=new WeakMap,kn=new WeakMap,Si=new WeakMap,Vm=new WeakSet,xS=function(e,t){const s=new ArrayBuffer(e*4);g(this,xo,new Uint8ClampedArray(s)),g(this,kn,new Uint32Array(s)),t&&t.length>0?(a(this,kn).set(t),a(this,kn).fill(bS,t.length)):a(this,kn).fill(bS)};var qe,At,Dr,ih,oh;const oE=class oE{constructor(e,t,s){S(this,qe);S(this,At);S(this,Dr);S(this,ih,0);S(this,oh,0);if(e instanceof oE&&a(e,Dr)===!!s)return e;g(this,qe,e),g(this,At,t),g(this,Dr,!!s)}growOperationsCount(){throw new Error("Unreachable")}save(e){return bt(this,oh)._++,a(this,qe).save(a(this,At)),this}restore(e){return a(this,oh)>0&&(a(this,qe).restore(a(this,At)),bt(this,oh)._--),this}recordOpenMarker(e){return bt(this,ih)._++,this}getOpenMarker(){return a(this,ih)>0?a(this,At):a(this,qe).getOpenMarker()}recordCloseMarker(e){return bt(this,ih)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return a(this,qe).pushBaseTransform(e),this}popBaseTransform(){return a(this,qe).popBaseTransform(),this}recordSimpleData(e,t){return a(this,qe).recordSimpleData(e,a(this,At)),this}recordIncrementalData(e,t){return a(this,qe).recordIncrementalData(e,a(this,At)),this}resetIncrementalData(e,t){return a(this,qe).resetIncrementalData(e,a(this,At)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,s){return a(this,qe).recordSimpleDataFromNamed(e,t,a(this,At)),this}recordFutureForcedDependency(e,t){return a(this,qe).recordFutureForcedDependency(e,a(this,At)),this}inheritSimpleDataAsFutureForcedDependencies(e){return a(this,qe).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return a(this,qe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return a(this,Dr)||a(this,qe).resetBBox(a(this,At)),this}recordClipBox(e,t,s,r,i,o){return a(this,Dr)||a(this,qe).recordClipBox(a(this,At),t,s,r,i,o),this}recordBBox(e,t,s,r,i,o){return a(this,Dr)||a(this,qe).recordBBox(a(this,At),t,s,r,i,o),this}recordCharacterBBox(e,t,s,r,i,o,l){return a(this,Dr)||a(this,qe).recordCharacterBBox(a(this,At),t,s,r,i,o,l),this}recordFullPageBBox(e){return a(this,Dr)||a(this,qe).recordFullPageBBox(a(this,At)),this}getSimpleIndex(e){return a(this,qe).getSimpleIndex(e)}recordDependencies(e,t){return a(this,qe).recordDependencies(a(this,At),t),this}recordNamedDependency(e,t){return a(this,qe).recordNamedDependency(a(this,At),t),this}recordOperation(e){return a(this,qe).recordOperation(a(this,At),!0),this}recordShowTextOperation(e){return a(this,qe).recordShowTextOperation(a(this,At),!0),this}bboxToClipBoxDropOperation(e){return a(this,Dr)||a(this,qe).bboxToClipBoxDropOperation(a(this,At),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};qe=new WeakMap,At=new WeakMap,Dr=new WeakMap,ih=new WeakMap,oh=new WeakMap;let k0=oE;const Ys={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},fn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function SS(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class YA{isModifyingCurrentTransform(){return!1}getPattern(){Ke("Abstract method `getPattern` called.")}}class S$ extends YA{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let i;if(r===fn.STROKE||r===fn.FILL){const o=t.current.getClippedPathBoundingBox(r,ht(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),s=J.transform(s,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),SS(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(s);i.setTransform(h)}else SS(e,this._bbox),i=this._createGradient(e);return i}}function Tb(n,e,t,s,r,i,o,l){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[s+1]&&(f=t,t=s,s=f,f=i,i=o,o=f),c[s+1]>c[r+1]&&(f=s,s=r,r=f,f=o,o=l,l=f),c[t+1]>c[s+1]&&(f=t,t=s,s=f,f=i,i=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,v=(c[t+1]+e.offsetY)*e.scaleY,m=(c[s]+e.offsetX)*e.scaleX,b=(c[s+1]+e.offsetY)*e.scaleY,y=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY;if(v>=w)return;const x=u[i],_=u[i+1],C=u[i+2],T=u[o],P=u[o+1],R=u[o+2],M=u[l],N=u[l+1],D=u[l+2],F=Math.round(v),$=Math.round(w);let I,G,j,B,L,O,V,oe;for(let W=F;W<=$;W++){if(W<b){const ie=W<v?0:(v-W)/(v-b);I=p-(p-m)*ie,G=x-(x-T)*ie,j=_-(_-P)*ie,B=C-(C-R)*ie}else{let ie;W>w?ie=1:b===w?ie=0:ie=(b-W)/(b-w),I=m-(m-y)*ie,G=T-(T-M)*ie,j=P-(P-N)*ie,B=R-(R-D)*ie}let Y;W<v?Y=0:W>w?Y=1:Y=(v-W)/(v-w),L=p-(p-y)*Y,O=x-(x-M)*Y,V=_-(_-N)*Y,oe=C-(C-D)*Y;const ae=Math.round(Math.min(I,L)),xe=Math.round(Math.max(I,L));let Te=h*W+ae*4;for(let ie=ae;ie<=xe;ie++)Y=(I-ie)/(I-L),Y<0?Y=0:Y>1&&(Y=1),d[Te++]=G-(G-O)*Y|0,d[Te++]=j-(j-V)*Y|0,d[Te++]=B-(B-oe)*Y|0,d[Te++]=255}}function A$(n,e,t){const s=e.coords,r=e.colors;let i,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(s.length/l)-1,u=l-1;for(i=0;i<c;i++){let d=i*l;for(let h=0;h<u;h++,d++)Tb(n,t,s[d],s[d+1],s[d+l],r[d],r[d+1],r[d+l]),Tb(n,t,s[d+l+1],s[d+1],s[d+l],r[d+l+1],r[d+1],r[d+l])}break;case"triangles":for(i=0,o=s.length;i<o;i+=3)Tb(n,t,s[i],s[i+1],s[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class E$ extends YA{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,v=d/f,m={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/p,scaleY:1/v},b=h+2*2,y=f+2*2,w=s.getCanvas("mesh",b,y),x=w.context,_=x.createImageData(h,f);if(t){const T=_.data;for(let P=0,R=T.length;P<R;P+=4)T[P]=t[0],T[P+1]=t[1],T[P+2]=t[2],T[P+3]=255}for(const T of this._figures)A$(_,T,m);return x.putImageData(_,2,2),{canvas:w.canvas,offsetX:l-2*p,offsetY:c-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,r){SS(e,this._bbox);const i=new Float32Array(2);if(r===fn.SHADING)J.singularValueDecompose2dScale(ht(e),i);else if(this.matrix){J.singularValueDecompose2dScale(this.matrix,i);const[l,c]=i;J.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=l,i[1]*=c}else J.singularValueDecompose2dScale(t.baseTransform,i);const o=this._createMeshCanvas(i,r===fn.SHADING?null:this._background,t.cachedCanvases);return r!==fn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class _$ extends YA{getPattern(){return"hotpink"}}function C$(n){switch(n[0]){case"RadialAxial":return new S$(n);case"Mesh":return new E$(n);case"Dummy":return new _$}throw new Error(`Unknown IR type: ${n[0]}`)}const UC={COLORED:1,UNCOLORED:2},V0=class V0{constructor(e,t,s,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e,t){var O,V;const{bbox:s,operatorList:r,paintType:i,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),Pw("TilingType: "+o);const h=s[0],f=s[1],p=s[2],v=s[3],m=p-h,b=v-f,y=new Float32Array(2);J.singularValueDecompose2dScale(this.matrix,y);const[w,x]=y;J.singularValueDecompose2dScale(this.baseTransform,y);const _=w*y[0],C=x*y[1];let T=m,P=b,R=!1,M=!1;const N=Math.ceil(u*_),D=Math.ceil(d*C),F=Math.ceil(m*_),$=Math.ceil(b*C);N>=F?T=u:R=!0,D>=$?P=d:M=!0;const I=this.getSizeAndScale(T,this.ctx.canvas.width,_),G=this.getSizeAndScale(P,this.ctx.canvas.height,C),j=e.cachedCanvases.getCanvas("pattern",I.size,G.size),B=j.context,L=c.createCanvasGraphics(B,t);if(L.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(L,i,l),B.translate(-I.scale*h,-G.scale*f),L.transform(0,I.scale,0,0,G.scale,0,0),B.save(),(O=L.dependencyTracker)==null||O.save(),this.clipBbox(L,h,f,p,v),L.baseTransform=ht(L.ctx),L.executeOperatorList(r),L.endDrawing(),(V=L.dependencyTracker)==null||V.restore(),B.restore(),R||M){const oe=j.canvas;R&&(T=u),M&&(P=d);const W=this.getSizeAndScale(T,this.ctx.canvas.width,_),Y=this.getSizeAndScale(P,this.ctx.canvas.height,C),ae=W.size,xe=Y.size,Te=e.cachedCanvases.getCanvas("pattern-workaround",ae,xe),ie=Te.context,In=R?Math.floor(m/u):0,vt=M?Math.floor(b/d):0;for(let Ce=0;Ce<=In;Ce++)for(let wt=0;wt<=vt;wt++)ie.drawImage(oe,ae*Ce,xe*wt,ae,xe,0,0,ae,xe);return{canvas:Te.canvas,scaleX:W.scale,scaleY:Y.scale,offsetX:h,offsetY:f}}return{canvas:j.canvas,scaleX:I.scale,scaleY:G.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,s){const r=Math.max(V0.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=r?i=r:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,r,i){const o=r-t,l=i-s;e.ctx.rect(t,s,o,l),J.axialAlignedBoundingBox([t,s,r,i],ht(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,i=e.current;switch(t){case UC.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;r.fillStyle=i.fillColor=o,r.strokeStyle=i.strokeColor=l;break;case UC.UNCOLORED:r.fillStyle=r.strokeStyle=s,i.fillColor=i.strokeColor=s;break;default:throw new qz(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,r,i){let o=s;r!==fn.SHADING&&(o=J.transform(o,t.baseTransform),this.matrix&&(o=J.transform(o,this.matrix)));const l=this.createPatternCanvas(t,i);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}};z(V0,"MAX_PATTERN_SIZE",3e3);let AS=V0;function k$({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const l=sn.isLittleEndian?4278190080:255,[c,u]=o?[i,l]:[l,i],d=s>>3,h=s&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<r;v++){for(const b=e+d;e<b;e++){const y=e<f?n[e]:255;t[p++]=y&128?u:c,t[p++]=y&64?u:c,t[p++]=y&32?u:c,t[p++]=y&16?u:c,t[p++]=y&8?u:c,t[p++]=y&4?u:c,t[p++]=y&2?u:c,t[p++]=y&1?u:c}if(h===0)continue;const m=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=m&1<<7-b?u:c}return{srcPos:e,destPos:p}}const HC=16,VC=100,T$=15,WC=10,cs=16,Pb=new DOMMatrix,Os=new Float32Array(2),ud=new Float32Array([1/0,1/0,-1/0,-1/0]);function P$(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,r,i,o,l){e.transform(t,s,r,i,o,l),this.__originalTransform(t,s,r,i,o,l)},n.setTransform=function(t,s,r,i,o,l){e.setTransform(t,s,r,i,o,l),this.__originalSetTransform(t,s,r,i,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,i,o,l){e.bezierCurveTo(t,s,r,i,o,l),this.__originalBezierCurveTo(t,s,r,i,o,l)},n.rect=function(t,s,r,i){e.rect(t,s,r,i),this.__originalRect(t,s,r,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class R${constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Vy(n,e,t,s,r,i,o,l,c,u){const[d,h,f,p,v,m]=ht(n);if(h===0&&f===0){const w=o*d+v,x=Math.round(w),_=l*p+m,C=Math.round(_),T=(o+c)*d+v,P=Math.abs(Math.round(T)-x)||1,R=(l+u)*p+m,M=Math.abs(Math.round(R)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,C),n.drawImage(e,t,s,r,i,0,0,P,M),n.setTransform(d,h,f,p,v,m),[P,M]}if(d===0&&p===0){const w=l*f+v,x=Math.round(w),_=o*h+m,C=Math.round(_),T=(l+u)*f+v,P=Math.abs(Math.round(T)-x)||1,R=(o+c)*h+m,M=Math.abs(Math.round(R)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,C),n.drawImage(e,t,s,r,i,0,0,M,P),n.setTransform(d,h,f,p,v,m),[M,P]}n.drawImage(e,t,s,r,i,o,l,c,u);const b=Math.hypot(d,h),y=Math.hypot(f,p);return[b*c,y*u]}class GC{constructor(e,t,s){z(this,"alphaIsShape",!1);z(this,"fontSize",0);z(this,"fontSizeScale",1);z(this,"textMatrix",null);z(this,"textMatrixScale",1);z(this,"fontMatrix",Yx);z(this,"leading",0);z(this,"x",0);z(this,"y",0);z(this,"lineX",0);z(this,"lineY",0);z(this,"charSpacing",0);z(this,"wordSpacing",0);z(this,"textHScale",1);z(this,"textRenderingMode",rn.FILL);z(this,"textRise",0);z(this,"fillColor","#000000");z(this,"strokeColor","#000000");z(this,"patternFill",!1);z(this,"patternStroke",!1);z(this,"fillAlpha",1);z(this,"strokeAlpha",1);z(this,"lineWidth",1);z(this,"activeSMask",null);z(this,"transferMaps","none");s==null||s(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=ud.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=fn.FILL,t=null){const s=this.minMax.slice();if(e===fn.STROKE){t||Ke("Stroke bounding box must include transform."),J.singularValueDecompose2dScale(t,Os);const r=Os[0]*this.lineWidth/2,i=Os[1]*this.lineWidth/2;s[0]-=r,s[1]-=i,s[2]+=r,s[3]+=i}return s}updateClipFromPath(){const e=J.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(ud,0)}getClippedPathBoundingBox(e=fn.FILL,t=null){return J.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function qC(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%cs,i=(t-r)/cs,o=r===0?i:i+1,l=n.createImageData(s,cs);let c=0,u;const d=e.data,h=l.data;let f,p,v,m;if(e.kind===Rp.GRAYSCALE_1BPP){const b=d.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),w=y.length,x=s+7>>3,_=4294967295,C=sn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<i?cs:r,u=0,p=0;p<v;p++){const T=b-c;let P=0;const R=T>x?s:T*8-7,M=R&-8;let N=0,D=0;for(;P<M;P+=8)D=d[c++],y[u++]=D&128?_:C,y[u++]=D&64?_:C,y[u++]=D&32?_:C,y[u++]=D&16?_:C,y[u++]=D&8?_:C,y[u++]=D&4?_:C,y[u++]=D&2?_:C,y[u++]=D&1?_:C;for(;P<R;P++)N===0&&(D=d[c++],N=128),y[u++]=D&N?_:C,N>>=1}for(;u<w;)y[u++]=0;n.putImageData(l,0,f*cs)}}else if(e.kind===Rp.RGBA_32BPP){for(p=0,m=s*cs*4,f=0;f<i;f++)h.set(d.subarray(c,c+m)),c+=m,n.putImageData(l,0,p),p+=cs;f<o&&(m=s*r*4,h.set(d.subarray(c,c+m)),n.putImageData(l,0,p))}else if(e.kind===Rp.RGB_24BPP)for(v=cs,m=s*v,f=0;f<o;f++){for(f>=i&&(v=r,m=s*v),u=0,p=m;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(l,0,f*cs)}else throw new Error(`bad image kind: ${e.kind}`)}function XC(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%cs,i=(t-r)/cs,o=r===0?i:i+1,l=n.createImageData(s,cs);let c=0;const u=e.data,d=l.data;for(let h=0;h<o;h++){const f=h<i?cs:r;({srcPos:c}=k$({src:u,srcPos:c,dest:d,width:s,height:f,nonBlackColor:0})),n.putImageData(l,0,h*cs)}}function Hf(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Wy(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function YC(n,e){if(e)return!0;J.singularValueDecompose2dScale(n,Os);const t=Math.fround(Zr.pixelRatio*Zo.PDF_TO_CSS_UNITS);return Os[0]<=t&&Os[1]<=t}const N$=["butt","round","square"],M$=["miter","round","bevel"],L$={},KC={};var Jr,ES,_S,CS;const aE=class aE{constructor(e,t,s,r,i,{optionalContentConfig:o,markedContentStack:l=null},c,u,d){S(this,Jr);this.ctx=e,this.current=new GC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new R$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,s=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=l,s){const c=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...ht(this.compositeCtx))}this.ctx.save(),Wy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ht(this.ctx)}executeOperatorList(e,t,s,r,i){var y;const o=e.argsArray,l=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const d=u-c>WC&&typeof s=="function",h=d?Date.now()+T$:0;let f=0;const p=this.commonObjs,v=this.objs;let m,b;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,s),c;if(!i||i(c))if(m=l[c],b=o[c]??null,m!==xf.dependency)b===null?this[m](c):this[m](c,...b);else for(const w of b){(y=this.dependencyTracker)==null||y.recordNamedData(w,c);const x=w.startsWith("g_")?p:v;if(!x.has(w))return x.get(w,s),c}if(c++,c===u)return c;if(d&&++f>WC){if(Date.now()>h)return s(),c;f=0}}}endDrawing(){E(this,Jr,ES).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,Jr,_S).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=s,c=r,u="prescale1",d,h;for(;i>2&&l>1||o>2&&c>1;){let f=l,p=c;i>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),i/=l/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,l,c,0,0,f,p),e=d.canvas,l=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){var N,D;const s=this.ctx,{width:r,height:i}=t,o=this.current.fillColor,l=this.current.patternFill,c=ht(s);let u,d,h,f;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(F),u||(u=new Map,this._cachedBitmapsMap.set(F,u));const $=u.get(d);if($&&!l){const I=Math.round(Math.min(c[0],c[2])+c[4]),G=Math.round(Math.min(c[1],c[3])+c[5]);return(N=this.dependencyTracker)==null||N.recordDependencies(e,Ys.transformAndFill),{canvas:$,offsetX:I,offsetY:G}}h=$}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),XC(f.context,t));let p=J.transform(c,[1/r,0,0,-1/i,0,0]);p=J.transform(p,[1,0,0,1,0,-i]);const v=ud.slice();J.axialAlignedBoundingBox([0,0,r,i],p,v);const[m,b,y,w]=v,x=Math.round(y-m)||1,_=Math.round(w-b)||1,C=this.cachedCanvases.getCanvas("fillCanvas",x,_),T=C.context,P=m,R=b;T.translate(-P,-R),T.transform(...p),h||(h=this._scaleImage(f.canvas,ii(T)),h=h.img,u&&l&&u.set(d,h)),T.imageSmoothingEnabled=YC(ht(T),t.interpolate),Vy(T,h,0,0,h.width,h.height,0,0,r,i),T.globalCompositeOperation="source-in";const M=J.transform(ii(T),[1,0,0,1,-P,-R]);return T.fillStyle=l?o.getPattern(s,this,M,fn.FILL,e):o,T.fillRect(0,0,r,i),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,C.canvas)),(D=this.dependencyTracker)==null||D.recordDependencies(e,Ys.transformAndFill),{canvas:C.canvas,offsetX:Math.round(P),offsetY:Math.round(R)}}setLineWidth(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineCap",e),this.ctx.lineCap=N$[t]}setLineJoin(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineJoin",e),this.ctx.lineJoin=M$[t]}setMiterLimit(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var s,r,i,o,l;for(const[c,u]of t)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(s=this.dependencyTracker)==null||s.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,s);this.suspendedCtx=this.ctx;const o=this.ctx=i.context;o.setTransform(this.suspendedCtx.getTransform()),Hf(this.suspendedCtx,o),P$(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const i=r[0],o=r[1],l=r[2]-i,c=r[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,s,l,c,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,i,o,l,c,u,d,h){let f=e.canvas,p=c-d,v=u-h;if(o)if(p<0||v<0||p+s>f.width||v+r>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",s,r),y=b.context;y.drawImage(f,-p,-v),y.globalCompositeOperation="destination-atop",y.fillStyle=o,y.fillRect(0,0,s,r),y.globalCompositeOperation="source-over",f=b.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,v,s,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,v,s,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const m=new Path2D;m.rect(c,u,s,r),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,v,s,r,c,u,s,r),t.restore()}save(e){var s;this.inSMaskMode&&Hf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(s=this.dependencyTracker)==null||s.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Hf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,r,i,o,l){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,s,r,i,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,r){let[i]=s;if(!r){i||(i=s[0]=new Path2D),this[t](e,i);return}if(this.dependencyTracker!==null){const o=t===xf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}if(!(i instanceof Path2D)){const o=s[0]=new Path2D;for(let l=0,c=i.length;l<c;)switch(i[l++]){case jy.moveTo:o.moveTo(i[l++],i[l++]);break;case jy.lineTo:o.lineTo(i[l++],i[l++]);break;case jy.curveTo:o.bezierCurveTo(i[l++],i[l++],i[l++],i[l++],i[l++],i[l++]);break;case jy.closePath:o.closePath();break;default:ue(`Unrecognized drawing path operator: ${i[l-1]}`);break}i=o}J.axialAlignedBoundingBox(r,ht(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,s=!0){var o;const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,ii(r),fn.STROKE,e),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,Ys.stroke),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(fn.STROKE,ht(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,s=!0){var u,d,h;const r=this.ctx,i=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const f=i.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=i.getPattern(r,this,ii(r),fn.FILL,e),f){const p=new Path2D;p.addPath(t,r.getTransform().invertSelf().multiplySelf(f)),t=p}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ys.fill),l&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),s&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var s;this.ctx.fill(t),(s=this.dependencyTracker)==null||s.recordDependencies(e,Ys.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=L$}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=KC}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,i=s.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(o).preMultiplySelf(i).translate(l,c).scale(u,-u));s.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||Yx,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ue("Invalid font matrix for font "+t),s<0?(s=-s,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=s,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=((f=r.systemFontInfo)==null?void 0:f.css)||`"${o}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const u=r.italic?"italic":"normal";let d=s;s<HC?d=HC:s>VC&&(d=VC),this.current.fontSizeScale=s/d,this.ctx.font=`${u} ${c} ${d}px ${l}`}setTextRenderingMode(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,s,r,i,o){var y,w,x,_;const l=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&rn.FILL_STROKE_MASK,p=!!(d&rn.ADD_TO_PATH_FLAG),v=c.patternFill&&!u.missingFile,m=c.patternStroke&&!u.missingFile;let b;if((u.disableFontFace||p||v||m)&&!u.missingFile&&(b=u.getPathGenerator(this.commonObjs,t)),b&&(u.disableFontFace||v||m)){l.save(),l.translate(s,r),l.scale(h,-h),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,l,u);let C;if(f===rn.FILL||f===rn.FILL_STROKE)if(i){C=l.getTransform(),l.setTransform(...i);const T=E(this,Jr,CS).call(this,b,C,i);l.fill(T)}else l.fill(b);if(f===rn.STROKE||f===rn.FILL_STROKE)if(o){C||(C=l.getTransform()),l.setTransform(...o);const{a:T,b:P,c:R,d:M}=C,N=J.inverseTransform(o),D=J.transform([T,P,R,M,0,0],N);J.singularValueDecompose2dScale(D,Os),l.lineWidth*=Math.max(Os[0],Os[1])/h,l.stroke(E(this,Jr,CS).call(this,b,C,o))}else l.lineWidth/=h,l.stroke(b);l.restore()}else(f===rn.FILL||f===rn.FILL_STROKE)&&(l.fillText(t,s,r),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,l,u,h,s,r,()=>l.measureText(t))),(f===rn.STROKE||f===rn.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,l,u,h,s,r,()=>l.measureText(t)).recordDependencies(e,Ys.stroke)),l.strokeText(t,s,r));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ht(l),x:s,y:r,fontSize:h,path:b}),(_=this.dependencyTracker)==null||_.recordCharacterBBox(e,l,u,h,s,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return ye(this,"isFontSubpixelAAEnabled",s)}showText(e,t){var R,M,N,D;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ys.showText).resetBBox(e),this.current.textRenderingMode&rn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,r=s.font;if(r.isType3Font){this.showType3Text(e,t),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e);return}const i=s.fontSize;if(i===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const o=this.ctx,l=s.fontSizeScale,c=s.charSpacing,u=s.wordSpacing,d=s.fontDirection,h=s.textHScale*d,f=t.length,p=r.vertical,v=p?1:-1,m=r.defaultVMetrics,b=i*s.fontMatrix[0],y=s.textRenderingMode===rn.FILL&&!r.disableFontFace&&!s.patternFill;o.save(),s.textMatrix&&o.transform(...s.textMatrix),o.translate(s.x,s.y+s.textRise),d>0?o.scale(h,-1):o.scale(h,1);let w,x;if(s.patternFill){o.save();const F=s.fillColor.getPattern(o,this,ii(o),fn.FILL,e);w=ht(o),o.restore(),o.fillStyle=F}if(s.patternStroke){o.save();const F=s.strokeColor.getPattern(o,this,ii(o),fn.STROKE,e);x=ht(o),o.restore(),o.strokeStyle=F}let _=s.lineWidth;const C=s.textMatrixScale;if(C===0||_===0){const F=s.textRenderingMode&rn.FILL_STROKE_MASK;(F===rn.STROKE||F===rn.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=C;if(l!==1&&(o.scale(l,l),_/=l),o.lineWidth=_,r.isInvalidPDFjsFont){const F=[];let $=0;for(const G of t)F.push(G.unicode),$+=G.width;const I=F.join("");if(o.fillText(I,0,0),this.dependencyTracker!==null){const G=o.measureText(I);this.dependencyTracker.recordBBox(e,this.ctx,-G.actualBoundingBoxLeft,G.actualBoundingBoxRight,-G.actualBoundingBoxAscent,G.actualBoundingBoxDescent).recordShowTextOperation(e)}s.x+=$*b*h,o.restore(),this.compose();return}let T=0,P;for(P=0;P<f;++P){const F=t[P];if(typeof F=="number"){T+=v*F*i/1e3;continue}let $=!1;const I=(F.isSpace?u:0)+c,G=F.fontChar,j=F.accent;let B,L,O=F.width;if(p){const W=F.vmetric||m,Y=-(F.vmetric?W[1]:O*.5)*b,ae=W[2]*b;O=W?-W[0]:O,B=Y/l,L=(T+ae)/l}else B=T/l,L=0;let V;if(r.remeasure&&O>0){V=o.measureText(G);const W=V.width*1e3/i*l;if(O<W&&this.isFontSubpixelAAEnabled){const Y=O/W;$=!0,o.save(),o.scale(Y,1),B/=Y}else O!==W&&(B+=(O-W)/2e3*i/l)}if(this.contentVisible&&(F.isInFont||r.missingFile)){if(y&&!j)o.fillText(G,B,L),(N=this.dependencyTracker)==null||N.recordCharacterBBox(e,o,V?{bbox:null}:r,i/l,B,L,()=>V??o.measureText(G));else if(this.paintChar(e,G,B,L,w,x),j){const W=B+i*j.offset.x/l,Y=L-i*j.offset.y/l;this.paintChar(e,j.fontChar,W,Y,w,x)}}const oe=p?O*b-I*d:O*b+I*d;T+=oe,$&&o.restore()}p?s.y-=T:s.x+=T*h,o.restore(),this.compose(),(D=this.dependencyTracker)==null||D.recordShowTextOperation(e)}showType3Text(e,t){const s=this.ctx,r=this.current,i=r.font,o=r.fontSize,l=r.fontDirection,c=i.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*l,f=r.fontMatrix||Yx,p=t.length,v=r.textRenderingMode===rn.INVISIBLE;let m,b,y,w;if(v||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),s.scale(h,l);const x=this.dependencyTracker;for(this.dependencyTracker=x?new k0(x,e):null,m=0;m<p;++m){if(b=t[m],typeof b=="number"){w=c*b*o/1e3,this.ctx.translate(w,0),r.x+=w*h;continue}const _=(b.isSpace?d:0)+u,C=i.charProcOperatorList[b.operatorListId];C?this.contentVisible&&(this.save(),s.scale(o,o),s.transform(...f),this.executeOperatorList(C),this.restore()):ue(`Type3 character "${b.operatorListId}" is not available.`);const T=[b.width,0];J.applyTransform(T,f),y=T[0]*o+_,s.translate(y,0),r.x+=y*h}s.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,r,i,o,l){var u;const c=new Path2D;c.rect(r,i,o-r,l-i),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,o,i,l).recordClipBox(e,this.ctx,r,o,i,l),this.endPath(e)}getColorN_Pattern(e,t){let s;if(t[0]==="TilingPattern"){const r=this.baseTransform||ht(this.ctx),i={createCanvasGraphics:(o,l)=>new aE(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new k0(this.dependencyTracker,l,!0):null)};s=new AS(t,this.ctx,i,r)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e,...t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,s=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=C$(this.getObject(e,t)),this.cachedPatterns.set(t,r)),s&&(r.matrix=s),r}shadingFill(e,t){var o;if(!this.contentVisible)return;const s=this.ctx;this.save(e);const r=this._getPattern(e,t);s.fillStyle=r.getPattern(s,this,ii(s),fn.SHADING,e);const i=ii(s);if(i){const{width:l,height:c}=s.canvas,u=ud.slice();J.axialAlignedBoundingBox([0,0,l,c],i,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ys.transform).recordDependencies(e,Ys.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ke("Should not call beginInlineImage")}beginImageData(){Ke("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=ht(this.ctx),s)){J.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[i,o,l,c]=s,u=new Path2D;u.rect(i,o,l-i,c-o),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,i,l,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||Pw("TODO: Support non-isolated groups."),t.knockout&&ue("Knockout groups not supported.");const r=ht(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=ud.slice();J.axialAlignedBoundingBox(t.bbox,ht(s),i);const o=[0,0,s.canvas.width,s.canvas.height];i=J.intersect(i,o)||[0,0,0,0];const l=Math.floor(i[0]),c=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-l,1),d=Math.max(Math.ceil(i[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-l,-c),p.transform(...r);let v=new Path2D;const[m,b,y,w]=t.bbox;if(v.rect(m,b,y-m,w-b),t.matrix){const _=new Path2D;_.addPath(v,new DOMMatrix(t.matrix)),v=_}p.clip(v),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(s.setTransform(1,0,0,1,0,0),s.translate(l,c),s.save()),Hf(s,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){var i;if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=ht(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const l=ud.slice();J.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],o,l),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,s,r,i,o){if(E(this,Jr,ES).call(this),Wy(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const l=s[2]-s[0],c=s[3]-s[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=s[0],r[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=l,s[3]=c,J.singularValueDecompose2dScale(ht(this.ctx),Os);const{viewportScale:u}=this,d=Math.ceil(l*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Os[0],0,0,-Os[1],0,c*Os[1]),Wy(this.ctx)}else{Wy(this.ctx),this.endPath(e);const u=new Path2D;u.rect(s[0],s[1],l,c),this.ctx.clip(u)}}this.current=new GC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),E(this,Jr,_S).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const s=t.count;t=this.getObject(e,t.data,t),t.count=s;const r=this.ctx,i=this._createMaskCanvas(e,t),o=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,i.offsetX,i.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+o.width,i.offsetY,i.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s,r=0,i=0,o,l){var h,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=ht(c);c.transform(s,r,i,o,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let v=0,m=l.length;v<m;v+=2){const b=J.transform(u,[s,r,i,o,l[v],l[v+1]]);c.drawImage(d.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+d.canvas.width,b[5],b[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,l,c;if(!this.contentVisible)return;const s=this.ctx,r=this.current.fillColor,i=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,Ys.transformAndFill);for(const u of t){const{data:d,width:h,height:f,transform:p}=u,v=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=v.context;m.save();const b=this.getObject(e,d,u);XC(m,b),m.globalCompositeOperation="source-in",m.fillStyle=i?r.getPattern(m,this,ii(s),fn.FILL,e):r,m.fillRect(0,0,h,f),m.restore(),s.save(),s.transform(...p),s.scale(1,-1),Vy(s,v.canvas,0,0,h,f,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,s,0,h,0,f),s.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,s)}paintImageXObjectRepeat(e,t,s,r,i){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){ue("Dependent image isn't ready yet");return}const l=o.width,c=o.height,u=[];for(let d=0,h=i.length;d<h;d+=2)u.push({transform:[s,0,0,r,i[d],i[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const s=t.width,r=t.height,i=this.ctx;this.save(e);const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none"),i.scale(1/s,-1/r);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",s,r).context;qC(h,t),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,ii(i));i.imageSmoothingEnabled=YC(ht(i),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,i,0,s,-r,0).recordDependencies(e,Ys.imageXObject).recordOperation(e),Vy(i,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,s,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){var o,l,c;if(!this.contentVisible)return;const r=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const u=t.width,d=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;qC(f,t),i=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of s)r.save(),r.transform(...u.transform),r.scale(1,-1),Vy(r,i,u.x,u.y,u.w,u.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ys.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){var o,l;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const i=this.ctx;this.pendingClip?(r||(this.pendingClip===KC?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:i}=this.ctx.getTransform();let o,l;if(s===0&&r===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(e===0)o=l=1/c;else{const d=c*e;o=l=d<1?1/d:1}else if(e===0)o=1/c,l=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,l=h<1?1/h:1}}else{const c=Math.abs(t*i-s*r),u=Math.hypot(t,s),d=Math.hypot(r,i);if(e===0)o=d/c,l=u/c;else{const h=e*c;o=d>h?d/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:r}}=this,[i,o]=this.getScaleForStroking();if(i===o){s.lineWidth=(r||1)*i,s.stroke(e);return}const l=s.getLineDash();t&&s.save(),s.scale(i,o),Pb.a=1/i,Pb.d=1/o;const c=new Path2D;if(c.addPath(e,Pb),l.length>0){const u=Math.max(i,o);s.setLineDash(l.map(d=>d/u)),s.lineDashOffset/=u}s.lineWidth=r||1,s.stroke(c),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Jr=new WeakSet,ES=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},_S=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},CS=function(e,t,s){const r=new Path2D;return r.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),r};let Ad=aE;for(const n in xf)Ad.prototype[n]!==void 0&&(Ad.prototype[xf[n]]=Ad.prototype[n]);var ah,lh,Wm,ch,yv;const hd=class hd{constructor(e){S(this,ch);S(this,ah);S(this,lh);S(this,Wm);g(this,ah,e),g(this,lh,new DataView(a(this,ah))),g(this,Wm,new TextDecoder)}static write(e){const t=new TextEncoder,s={};let r=0;for(const u of hd.strings){const d=t.encode(e[u]);s[u]=d,r+=4+d.length}const i=new ArrayBuffer(r),o=new Uint8Array(i),l=new DataView(i);let c=0;for(const u of hd.strings){const d=s[u],h=d.length;l.setUint32(c,h),o.set(d,c+4),c+=4+h}return ke(c===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}get fontFamily(){return E(this,ch,yv).call(this,0)}get fontWeight(){return E(this,ch,yv).call(this,1)}get italicAngle(){return E(this,ch,yv).call(this,2)}};ah=new WeakMap,lh=new WeakMap,Wm=new WeakMap,ch=new WeakSet,yv=function(e){ke(e<hd.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=a(this,lh).getUint32(t)+4;const s=a(this,lh).getUint32(t);return a(this,Wm).decode(new Uint8Array(a(this,ah),t+4,s))},z(hd,"strings",["fontFamily","fontWeight","italicAngle"]);let T0=hd;var Ua,Ai,Oc,Fc,up;const fd=class fd{constructor(e){S(this,Fc);S(this,Ua);S(this,Ai);S(this,Oc);g(this,Ua,e),g(this,Ai,new DataView(a(this,Ua))),g(this,Oc,new TextDecoder)}static write(e){const t=new TextEncoder,s={};let r=0;for(const f of fd.strings){const p=t.encode(e[f]);s[f]=p,r+=4+p.length}r+=4;let i,o,l=1+r;e.style&&(i=t.encode(e.style.style),o=t.encode(e.style.weight),l+=4+i.length+4+o.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const f of fd.strings){const p=s[f],v=p.length;r+=4+v,d.setUint32(h,v),u.set(p,h+4),h+=4+v}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,i.length),u.set(i,h+4),h+=4+i.length,d.setUint32(h,o.length),u.set(o,h+4),h+=4+o.length),ke(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return a(this,Ai).getUint8(0)!==0}get css(){return E(this,Fc,up).call(this,0)}get loadedName(){return E(this,Fc,up).call(this,1)}get baseFontName(){return E(this,Fc,up).call(this,2)}get src(){return E(this,Fc,up).call(this,3)}get style(){let e=1;e+=4+a(this,Ai).getUint32(e);const t=a(this,Ai).getUint32(e),s=a(this,Oc).decode(new Uint8Array(a(this,Ua),e+4,t));e+=4+t;const r=a(this,Ai).getUint32(e),i=a(this,Oc).decode(new Uint8Array(a(this,Ua),e+4,r));return{style:s,weight:i}}};Ua=new WeakMap,Ai=new WeakMap,Oc=new WeakMap,Fc=new WeakSet,up=function(e){ke(e<fd.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=a(this,Ai).getUint32(t)+4;const s=a(this,Ai).getUint32(t);return a(this,Oc).decode(new Uint8Array(a(this,Ua),t+4,s))},z(fd,"strings",["css","loadedName","baseFontName","src"]);let P0=fd;var uh,dh,hh,fh,bs,Ei,Gm,He,Ct,Er,vv,dp;const me=class me{constructor({data:e,extra:t}){S(this,Ct);S(this,Ei);S(this,Gm);S(this,He);g(this,Ei,e),g(this,Gm,new TextDecoder),g(this,He,new DataView(a(this,Ei))),t&&Object.assign(this,t)}get black(){return E(this,Ct,Er).call(this,0)}get bold(){return E(this,Ct,Er).call(this,1)}get disableFontFace(){return E(this,Ct,Er).call(this,2)}get fontExtraProperties(){return E(this,Ct,Er).call(this,3)}get isInvalidPDFjsFont(){return E(this,Ct,Er).call(this,4)}get isType3Font(){return E(this,Ct,Er).call(this,5)}get italic(){return E(this,Ct,Er).call(this,6)}get missingFile(){return E(this,Ct,Er).call(this,7)}get remeasure(){return E(this,Ct,Er).call(this,8)}get vertical(){return E(this,Ct,Er).call(this,9)}get ascent(){return E(this,Ct,vv).call(this,0)}get defaultWidth(){return E(this,Ct,vv).call(this,1)}get descent(){return E(this,Ct,vv).call(this,2)}get bbox(){let e=a(me,dh);if(a(this,He).getUint8(e)===0)return;e+=1;const s=[];for(let r=0;r<4;r++)s.push(a(this,He).getInt16(e,!0)),e+=2;return s}get fontMatrix(){let e=a(me,hh);if(a(this,He).getUint8(e)===0)return;e+=1;const s=[];for(let r=0;r<6;r++)s.push(a(this,He).getFloat64(e,!0)),e+=8;return s}get defaultVMetrics(){let e=a(me,fh);if(a(this,He).getUint8(e)===0)return;e+=1;const s=[];for(let r=0;r<3;r++)s.push(a(this,He).getInt16(e,!0)),e+=2;return s}get fallbackName(){return E(this,Ct,dp).call(this,0)}get loadedName(){return E(this,Ct,dp).call(this,1)}get mimetype(){return E(this,Ct,dp).call(this,2)}get name(){return E(this,Ct,dp).call(this,3)}get data(){let e=a(me,bs);const t=a(this,He).getUint32(e);e+=4+t;const s=a(this,He).getUint32(e);e+=4+s;const r=a(this,He).getUint32(e);e+=4+r;const i=a(this,He).getUint32(e);if(i!==0)return new Uint8Array(a(this,Ei),e+4,i)}clearData(){let e=a(me,bs);const t=a(this,He).getUint32(e);e+=4+t;const s=a(this,He).getUint32(e);e+=4+s;const r=a(this,He).getUint32(e);e+=4+r;const i=a(this,He).getUint32(e);new Uint8Array(a(this,Ei),e+4,i).fill(0),a(this,He).setUint32(e,0)}get cssFontInfo(){let e=a(me,bs);const t=a(this,He).getUint32(e);e+=4+t;const s=a(this,He).getUint32(e);e+=4+s;const r=a(this,He).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(a(this,Ei),e+4,r)),new T0(i.buffer)}get systemFontInfo(){let e=a(me,bs);const t=a(this,He).getUint32(e);e+=4+t;const s=a(this,He).getUint32(e);if(s===0)return null;const r=new Uint8Array(s);return r.set(new Uint8Array(a(this,Ei),e+4,s)),new P0(r.buffer)}static write(e){const t=e.systemFontInfo?P0.write(e.systemFontInfo):null,s=e.cssFontInfo?T0.write(e.cssFontInfo):null,r=new TextEncoder,i={};let o=0;for(const m of me.strings)i[m]=r.encode(e[m]),o+=4+i[m].length;const l=a(me,bs)+4+o+4+(t?t.byteLength:0)+4+(s?s.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=me.bools.length;let p=0,v=0;for(let m=0;m<f;m++){const b=e[me.bools[m]];p|=(b===void 0?0:b?2:1)<<v,v+=2,(v===8||m===f-1)&&(d.setUint8(h++,p),p=0,v=0)}ke(h===a(me,uh),"FontInfo.write: Boolean properties offset mismatch");for(const m of me.numbers)d.setFloat64(h,e[m]),h+=8;if(ke(h===a(me,dh),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const m of e.bbox)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(ke(h===a(me,hh),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const m of e.fontMatrix)d.setFloat64(h,m,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(ke(h===a(me,fh),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const m of e.defaultVMetrics)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=3*2;ke(h===a(me,bs),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(a(me,bs),0),h+=4;for(const m of me.strings){const b=i[m],y=b.length;d.setUint32(h,y),u.set(b,h+4),h+=4+y}if(d.setUint32(a(me,bs),h-a(me,bs)-4),!t)d.setUint32(h,0),h+=4;else{const m=t.byteLength;d.setUint32(h,m),ke(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+m}if(!s)d.setUint32(h,0),h+=4;else{const m=s.byteLength;d.setUint32(h,m),ke(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(s),h+4),h+=4+m}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),ke(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};uh=new WeakMap,dh=new WeakMap,hh=new WeakMap,fh=new WeakMap,bs=new WeakMap,Ei=new WeakMap,Gm=new WeakMap,He=new WeakMap,Ct=new WeakSet,Er=function(e){ke(e<me.bools.length,"Invalid boolean index");const t=Math.floor(e/4),s=e*2%8,r=a(this,He).getUint8(t)>>s&3;return r===0?void 0:r===2},vv=function(e){return ke(e<me.numbers.length,"Invalid number index"),a(this,He).getFloat64(a(me,uh)+e*8)},dp=function(e){ke(e<me.strings.length,"Invalid string index");let t=a(me,bs)+4;for(let i=0;i<e;i++)t+=a(this,He).getUint32(t)+4;const s=a(this,He).getUint32(t),r=new Uint8Array(s);return r.set(new Uint8Array(a(this,Ei),t+4,s)),a(this,Gm).decode(r)},z(me,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),z(me,"numbers",["ascent","defaultWidth","descent"]),z(me,"strings",["fallbackName","loadedName","mimetype","name"]),S(me,uh,Math.ceil(me.bools.length*2/8)),S(me,dh,a(me,uh)+me.numbers.length*8),S(me,hh,a(me,dh)+1+2*4),S(me,fh,a(me,hh)+1+8*6),S(me,bs,a(me,fh)+1+2*3);let kS=me;var qm,Xm;class ur{static get workerPort(){return a(this,qm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");g(this,qm,e)}static get workerSrc(){return a(this,Xm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");g(this,Xm,e)}}qm=new WeakMap,Xm=new WeakMap,S(ur,qm,null),S(ur,Xm,"");var ph,Ym;class D${constructor({parsedData:e,rawData:t}){S(this,ph);S(this,Ym);g(this,ph,e),g(this,Ym,t)}getRaw(){return a(this,Ym)}get(e){return a(this,ph).get(e)??null}[Symbol.iterator](){return a(this,ph).entries()}}ph=new WeakMap,Ym=new WeakMap;const Yu=Symbol("INTERNAL");var Km,Qm,Zm,mh;class I${constructor(e,{name:t,intent:s,usage:r,rbGroups:i}){S(this,Km,!1);S(this,Qm,!1);S(this,Zm,!1);S(this,mh,!0);g(this,Km,!!(e&Ds.DISPLAY)),g(this,Qm,!!(e&Ds.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=i}get visible(){if(a(this,Zm))return a(this,mh);if(!a(this,mh))return!1;const{print:e,view:t}=this.usage;return a(this,Km)?(t==null?void 0:t.viewState)!=="OFF":a(this,Qm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==Yu&&Ke("Internal method `_setVisible` called."),g(this,Zm,s),g(this,mh,t)}}Km=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,mh=new WeakMap;var Ha,Ve,gh,yh,Jm,TS;class O${constructor(e,t=Ds.DISPLAY){S(this,Jm);S(this,Ha,null);S(this,Ve,new Map);S(this,gh,null);S(this,yh,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,g(this,yh,e.order);for(const s of e.groups)a(this,Ve).set(s.id,new I$(t,s));if(e.baseState==="OFF")for(const s of a(this,Ve).values())s._setVisible(Yu,!1);for(const s of e.on)a(this,Ve).get(s)._setVisible(Yu,!0);for(const s of e.off)a(this,Ve).get(s)._setVisible(Yu,!1);g(this,gh,this.getHash())}}isVisible(e){if(a(this,Ve).size===0)return!0;if(!e)return Pw("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,Ve).has(e.id)?a(this,Ve).get(e.id).visible:(ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Jm,TS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,Ve).has(t))return ue(`Optional content group not found: ${t}`),!0;if(a(this,Ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,Ve).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!a(this,Ve).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,Ve).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!a(this,Ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,Ve).has(t))return ue(`Optional content group not found: ${t}`),!0;if(a(this,Ve).get(t).visible)return!1}return!0}return ue(`Unknown optional content policy ${e.policy}.`),!0}return ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var i;const r=a(this,Ve).get(e);if(!r){ue(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==e&&((i=a(this,Ve).get(l))==null||i._setVisible(Yu,!1,!0));r._setVisible(Yu,!!t,!0),g(this,Ha,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const i=a(this,Ve).get(r);if(i)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}g(this,Ha,null)}get hasInitialVisibility(){return a(this,gh)===null||this.getHash()===a(this,gh)}getOrder(){return a(this,Ve).size?a(this,yh)?a(this,yh).slice():[...a(this,Ve).keys()]:null}getGroup(e){return a(this,Ve).get(e)||null}getHash(){if(a(this,Ha)!==null)return a(this,Ha);const e=new P2;for(const[t,s]of a(this,Ve))e.update(`${t}:${s.visible}`);return g(this,Ha,e.hexdigest())}[Symbol.iterator](){return a(this,Ve).entries()}}Ha=new WeakMap,Ve=new WeakMap,gh=new WeakMap,yh=new WeakMap,Jm=new WeakSet,TS=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const i=e[r];let o;if(Array.isArray(i))o=E(this,Jm,TS).call(this,i);else if(a(this,Ve).has(i))o=a(this,Ve).get(i).visible;else return ue(`Optional content group not found: ${i}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class F${constructor(e,{disableRange:t=!1,disableStream:s=!1}){ke(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(s),!0)});ke(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,i;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ke(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new j$(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new B$(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class j${constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=Nw(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class B${constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function z$(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=l(t);return d=u(d),i(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=ay(h);h=f.decode(p),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,b,y]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[b,y]}const v=[];for(let m=0;m<h.length&&m in h;++m){let[b,y]=h[m];y=l(y),b&&(y=unescape(y),m===0&&(y=c(y))),v.push(y)}return v.join("")}function l(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return r(f,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,b){return String.fromCharCode(parseInt(b,16))}),r(f,v);try{v=atob(v)}catch{}return r(f,v)})}return""}function U2(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function Mw(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function H2({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function V2(n){const e=n.get("Content-Disposition");if(e){let t=z$(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Nw(t))return t}return null}function dy(n,e){return new rm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function W2(n){return n===200||n===206}function G2(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function q2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ue(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class $${constructor(e){z(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=U2(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ke(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new U$(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new H$(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class U${constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,G2(s,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=Mw(i.url),!W2(i.status))throw dy(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:l,suggestedLength:c}=H2({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=V2(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Qo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:q2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class H${constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${s-1}`);const o=r.url;fetch(o,G2(i,this._withCredentials,this._abortController)).then(l=>{const c=Mw(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!W2(l.status))throw dy(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:q2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Rb=200,Nb=206;function V$(n){const e=n.response;return typeof e!="string"?e:ay(e).buffer}class W${constructor({url:e,httpHeaders:t,withCredentials:s}){z(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=U2(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Nb):r.expectedStatus=Rb,t.responseType="arraybuffer",ke(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){s.onError(r.status);return}const i=r.status||Rb;if(!(i===Rb&&s.expectedStatus===Nb)&&i!==s.expectedStatus){s.onError(r.status);return}const l=V$(r);if(i===Nb){const c=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?s.onDone({begin:parseInt(u[1],10),chunk:l}):(ue('Missing or invalid "Content-Range" header.'),s.onError(0))}else l?s.onDone({begin:0,chunk:l}):s.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class G${constructor(e){this._source=e,this._manager=new W$(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ke(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new q$(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new X$(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class q${constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Mw(t.responseURL);const s=t.getAllResponseHeaders(),r=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=H2({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=V2(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=dy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class X${constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Mw((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=dy(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Y$=/^[a-z][a-z0-9\-+.]+:/i;function K$(n){if(Y$.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Q${constructor(e){this.source=e,this.url=K$(e.url),ke(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ke(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Z$(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new J$(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class Z${constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=dy(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Qo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class J${constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Vf=Symbol("INITIAL_DATA");var xs,eg,PS;class X2{constructor(){S(this,eg);S(this,xs,Object.create(null))}get(e,t=null){if(t){const r=E(this,eg,PS).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=a(this,xs)[e];if(!s||s.data===Vf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=a(this,xs)[e];return!!t&&t.data!==Vf}delete(e){const t=a(this,xs)[e];return!t||t.data===Vf?!1:(delete a(this,xs)[e],!0)}resolve(e,t=null){const s=E(this,eg,PS).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in a(this,xs)){const{data:s}=a(this,xs)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}g(this,xs,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,xs)){const{data:t}=a(this,xs)[e];t!==Vf&&(yield[e,t])}}}xs=new WeakMap,eg=new WeakSet,PS=function(e){var t;return(t=a(this,xs))[e]||(t[e]={...Promise.withResolvers(),data:Vf})};const e5=1e5,QC=30;var vk,Va,is,tg,ng,jc,So,sg,rg,Bc,vh,wh,Wa,bh,ig,xh,zc,og,ag,_t,Sh,$c,lg,Ga,Ah,ea,Y2,K2,RS,Us,wv,NS,Q2,Z2;let lm=(_t=class{constructor({textContentSource:e,container:t,viewport:s}){S(this,ea);S(this,Va,Promise.withResolvers());S(this,is,null);S(this,tg,!1);S(this,ng,!!((vk=globalThis.FontInspector)!=null&&vk.enabled));S(this,jc,null);S(this,So,null);S(this,sg,0);S(this,rg,0);S(this,Bc,null);S(this,vh,null);S(this,wh,0);S(this,Wa,0);S(this,bh,Object.create(null));S(this,ig,[]);S(this,xh,null);S(this,zc,[]);S(this,og,new WeakMap);S(this,ag,null);var c;if(e instanceof ReadableStream)g(this,xh,e);else if(typeof e=="object")g(this,xh,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');g(this,is,g(this,vh,t)),g(this,Wa,s.scale*Zr.pixelRatio),g(this,wh,s.rotation),g(this,So,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:o,pageY:l}=s.rawDims;g(this,ag,[1,0,0,-1,-o,l+i]),g(this,rg,r),g(this,sg,i),E(c=_t,Us,Q2).call(c),Fl(t,s),a(this,Va).promise.finally(()=>{a(_t,Ah).delete(this),g(this,So,null),g(this,bh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=sn.platform;return ye(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,Bc).read().then(({value:t,done:s})=>{if(s){a(this,Va).resolve();return}a(this,jc)??g(this,jc,t.lang),Object.assign(a(this,bh),t.styles),E(this,ea,Y2).call(this,t.items),e()},a(this,Va).reject)};return g(this,Bc,a(this,xh).getReader()),a(_t,Ah).add(this),e(),a(this,Va).promise}update({viewport:e,onBefore:t=null}){var i;const s=e.scale*Zr.pixelRatio,r=e.rotation;if(r!==a(this,wh)&&(t==null||t(),g(this,wh,r),Fl(a(this,vh),{rotation:r})),s!==a(this,Wa)){t==null||t(),g(this,Wa,s);const o={div:null,properties:null,ctx:E(i=_t,Us,wv).call(i,a(this,jc))};for(const l of a(this,zc))o.properties=a(this,og).get(l),o.div=l,E(this,ea,RS).call(this,o)}}cancel(){var t;const e=new Qo("TextLayer task cancelled.");(t=a(this,Bc))==null||t.cancel(e).catch(()=>{}),g(this,Bc,null),a(this,Va).reject(e)}get textDivs(){return a(this,zc)}get textContentItemsStr(){return a(this,ig)}static cleanup(){if(!(a(this,Ah).size>0)){a(this,Sh).clear();for(const{canvas:e}of a(this,$c).values())e.remove();a(this,$c).clear()}}},Va=new WeakMap,is=new WeakMap,tg=new WeakMap,ng=new WeakMap,jc=new WeakMap,So=new WeakMap,sg=new WeakMap,rg=new WeakMap,Bc=new WeakMap,vh=new WeakMap,wh=new WeakMap,Wa=new WeakMap,bh=new WeakMap,ig=new WeakMap,xh=new WeakMap,zc=new WeakMap,og=new WeakMap,ag=new WeakMap,Sh=new WeakMap,$c=new WeakMap,lg=new WeakMap,Ga=new WeakMap,Ah=new WeakMap,ea=new WeakSet,Y2=function(e){var r,i;if(a(this,tg))return;(i=a(this,So)).ctx??(i.ctx=E(r=_t,Us,wv).call(r,a(this,jc)));const t=a(this,zc),s=a(this,ig);for(const o of e){if(t.length>e5){ue("Ignoring additional textDivs for performance reasons."),g(this,tg,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=a(this,is);g(this,is,document.createElement("span")),a(this,is).classList.add("markedContent"),o.id&&a(this,is).setAttribute("id",`${o.id}`),l.append(a(this,is))}else o.type==="endMarkedContent"&&g(this,is,a(this,is).parentNode);continue}s.push(o.str),E(this,ea,K2).call(this,o)}},K2=function(e){var m;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,zc).push(t);const r=J.transform(a(this,ag),e.transform);let i=Math.atan2(r[1],r[0]);const o=a(this,bh)[e.fontName];o.vertical&&(i+=Math.PI/2);let l=a(this,ng)&&o.fontSubstitution||o.fontFamily;l=_t.fontFamilyMap.get(l)||l;const c=Math.hypot(r[2],r[3]),u=c*E(m=_t,Us,Z2).call(m,l,o,a(this,jc));let d,h;i===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(i),h=r[5]-u*Math.cos(i));const f="calc(var(--total-scale-factor) *",p=t.style;a(this,is)===a(this,vh)?(p.left=`${(100*d/a(this,rg)).toFixed(2)}%`,p.top=`${(100*h/a(this,sg)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(a(_t,Ga)*c).toFixed(2)}px)`,p.fontFamily=l,s.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,ng)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(s.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(v=!0)}if(v&&(s.canvasWidth=o.vertical?e.height:e.width),a(this,og).set(t,s),a(this,So).div=t,a(this,So).properties=s,E(this,ea,RS).call(this,a(this,So)),s.hasText&&a(this,is).append(t),s.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),a(this,is).append(b)}},RS=function(e){var l;const{div:t,properties:s,ctx:r}=e,{style:i}=t;let o="";if(a(_t,Ga)>1&&(o=`scale(${1/a(_t,Ga)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:c}=i,{canvasWidth:u,fontSize:d}=s;E(l=_t,Us,NS).call(l,r,d*a(this,Wa),c);const{width:h}=r.measureText(t.textContent);h>0&&(o=`scaleX(${u*a(this,Wa)/h}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Us=new WeakSet,wv=function(e=null){let t=a(this,$c).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,$c).set(e,t),a(this,lg).set(t,{size:0,family:""})}return t},NS=function(e,t,s){const r=a(this,lg).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},Q2=function(){if(a(this,Ga)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),g(this,Ga,e.getBoundingClientRect().height),e.remove()},Z2=function(e,t,s){const r=a(this,Sh).get(e);if(r)return r;const i=E(this,Us,wv).call(this,s);i.canvas.width=i.canvas.height=QC,E(this,Us,NS).call(this,i,QC,e);const o=i.measureText(""),l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return l?u=l/(l+c):(sn.platform.isFirefox&&ue("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),a(this,Sh).set(e,u),u},S(_t,Us),S(_t,Sh,new Map),S(_t,$c,new Map),S(_t,lg,new WeakMap),S(_t,Ga,null),S(_t,Ah,new Set),_t);const t5=100;function KA(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new MS,{docId:t}=e,s=n.url?c$(n.url):null,r=n.data?u$(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof QA?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof Sf?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!cy(n.docBaseUrl)?n.docBaseUrl:null,p=zy(n.cMapUrl),v=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Hn?y$:FC),b=zy(n.iccUrl),y=zy(n.standardFontDataUrl),w=n.StandardFontDataFactory||(Hn?v$:jC),x=zy(n.wasmUrl),_=n.WasmFactory||(Hn?w$:BC),C=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Hn,M=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Hn&&(sn.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:Hn,F=n.fontExtraProperties===!0,$=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,G=n.disableRange===!0,j=n.disableStream===!0,B=n.disableAutoFetch===!0,L=n.pdfBug===!0,O=n.CanvasFactory||(Hn?g$:f$),V=n.FilterFactory||(Hn?m$:p$),oe=n.enableHWA===!0,W=n.useWasm!==!1,Y=c?c.length:n.length??NaN,ae=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Hn&&!D,xe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===FC&&w===jC&&_===BC&&p&&y&&x&&Jf(p,document.baseURI)&&Jf(y,document.baseURI)&&Jf(x,document.baseURI)),Te=null;Vz(h);const ie={canvasFactory:new O({ownerDocument:I,enableHWA:oe}),filterFactory:new V({docId:t,ownerDocument:I}),cMapReaderFactory:xe?null:new m({baseUrl:p,isCompressed:v}),standardFontDataFactory:xe?null:new w({baseUrl:y}),wasmFactory:xe?null:new _({baseUrl:x})};d||(d=Sf.create({verbosity:h,port:ur.workerPort}),e._worker=d);const In={docId:t,apiVersion:"5.4.296",data:r,password:l,disableAutoFetch:B,rangeChunkSize:u,length:Y,docBaseUrl:f,enableXfa:$,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:C,isEvalSupported:P,isOffscreenCanvasSupported:R,isImageDecoderSupported:M,canvasMaxAreaInBytes:N,fontExtraProperties:F,useSystemFonts:ae,useWasm:W,useWorkerFetch:xe,cMapUrl:p,iccUrl:b,standardFontDataUrl:y,wasmUrl:x}},vt={ownerDocument:I,pdfBug:L,styleElement:Te,loadingParams:{disableAutoFetch:B,enableXfa:$}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ce=d.messageHandler.sendWithPromise("GetDocRequest",In,r?[r.buffer]:null);let wt;if(c)wt=new F$(c,{disableRange:G,disableStream:j});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");const bn=Jf(s)?$$:Hn?Q$:G$;wt=new bn({url:s,length:Y,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:G,disableStream:j})}return Ce.then(bn=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const be=new ip(t,bn,d.port),Oe=new r5(be,e,wt,vt,ie,oe);e._transport=Oe,be.send("Ready",null)})}).catch(e._capability.reject),e}var W0;const G0=class G0{constructor(){z(this,"_capability",Promise.withResolvers());z(this,"_transport",null);z(this,"_worker",null);z(this,"docId",`d${bt(G0,W0)._++}`);z(this,"destroyed",!1);z(this,"onPassword",null);z(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,s,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};W0=new WeakMap,S(G0,W0,0);let MS=G0;var Uc,cg,ug,dg,hg,wk;let QA=(wk=class{constructor(e,t,s=!1,r=null){S(this,Uc,Promise.withResolvers());S(this,cg,[]);S(this,ug,[]);S(this,dg,[]);S(this,hg,[]);this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r}addRangeListener(e){a(this,hg).push(e)}addProgressListener(e){a(this,dg).push(e)}addProgressiveReadListener(e){a(this,ug).push(e)}addProgressiveDoneListener(e){a(this,cg).push(e)}onDataRange(e,t){for(const s of a(this,hg))s(e,t)}onDataProgress(e,t){a(this,Uc).promise.then(()=>{for(const s of a(this,dg))s(e,t)})}onDataProgressiveRead(e){a(this,Uc).promise.then(()=>{for(const t of a(this,ug))t(e)})}onDataProgressiveDone(){a(this,Uc).promise.then(()=>{for(const e of a(this,cg))e()})}transportReady(){a(this,Uc).resolve()}requestDataRange(e,t){Ke("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Uc=new WeakMap,cg=new WeakMap,ug=new WeakMap,dg=new WeakMap,hg=new WeakMap,wk);class n5{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ye(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ao,Hc,hp;class s5{constructor(e,t,s,r=!1){S(this,Hc);S(this,Ao,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new RC:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new X2,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:i=!1}={}){return new ly({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ye(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:s,intent:r="display",annotationMode:i=Oi.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:v=null}){var M,N,D;(M=this._stats)==null||M.time("Overall");const m=this._transport.getRenderingIntent(r,i,h,f),{renderingIntent:b,cacheKey:y}=m;g(this,Ao,!1),c||(c=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(y);w||(w=Object.create(null),this._intentStates.set(y,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(b&Ds.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(m));const _=!!(this._pdfBug&&((D=globalThis.StepperManager)!=null&&D.enabled)),C=!this.recordedBBoxes&&(p||_),T=F=>{var $,I;if(w.renderTasks.delete(P),C){const G=($=P.gfx)==null?void 0:$.dependencyTracker.take();G&&(P.stepper&&P.stepper.setOperatorBBoxes(G,P.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=G))}x&&g(this,Ao,!0),E(this,Hc,hp).call(this),F?(P.capability.reject(F),this._abortOperatorList({intentState:w,reason:F instanceof Error?F:new Error(F)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new LS({callback:T,params:{canvas:t,canvasContext:e,dependencyTracker:C?new x$(t,w.operatorList.length,_):null,viewport:s,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:v});(w.renderTasks||(w.renderTasks=new Set)).add(P);const R=P.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([F,$])=>{var I;if(this.destroyed){T();return}if((I=this._stats)==null||I.time("Rendering"),!($.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:F,optionalContentConfig:$}),P.operatorListChanged()}).catch(T),R}getOperatorList({intent:e="display",annotationMode:t=Oi.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var u;function i(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,s,r,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>im.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function i(){o.read().then(function({value:c,done:u}){if(u){s(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),i()},r)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),g(this,Ao,!1),Promise.all(e)}cleanup(e=!1){g(this,Ao,!0);const t=E(this,Hc,hp).call(this);return e&&t&&this._stats&&(this._stats=new RC),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&E(this,Hc,hp).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:i,transfer:o}=s,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();E(this,Hc,hp).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Rw){let r=t5;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Qo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ao=new WeakMap,Hc=new WeakSet,hp=function(){if(!a(this,Ao)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),g(this,Ao,!1),!0};var qa,Ir,Eo,Vc,q0,Wc,Gc,qn,bv,J2,eM,fp,Eh,xv;const it=class it{constructor({name:e=null,port:t=null,verbosity:s=Wz()}={}){S(this,qn);S(this,qa,Promise.withResolvers());S(this,Ir,null);S(this,Eo,null);S(this,Vc,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(a(it,Gc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(it,Gc).set(t,this),E(this,qn,J2).call(this,t)}else E(this,qn,eM).call(this)}get promise(){return a(this,qa).promise}get port(){return a(this,Eo)}get messageHandler(){return a(this,Ir)}destroy(){var e,t;this.destroyed=!0,(e=a(this,Vc))==null||e.terminate(),g(this,Vc,null),a(it,Gc).delete(a(this,Eo)),g(this,Eo,null),(t=a(this,Ir))==null||t.destroy(),g(this,Ir,null)}static create(e){const t=a(this,Gc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new it(e)}static get workerSrc(){if(ur.workerSrc)return ur.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ye(this,"_setupFakeWorkerGlobal",(async()=>a(this,Eh,xv)?a(this,Eh,xv):(await import(this.workerSrc)).WorkerMessageHandler)())}};qa=new WeakMap,Ir=new WeakMap,Eo=new WeakMap,Vc=new WeakMap,q0=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,qn=new WeakSet,bv=function(){a(this,qa).resolve(),a(this,Ir).send("configure",{verbosity:this.verbosity})},J2=function(e){g(this,Eo,e),g(this,Ir,new ip("main","worker",e)),a(this,Ir).on("ready",()=>{}),E(this,qn,bv).call(this)},eM=function(){if(a(it,Wc)||a(it,Eh,xv)){E(this,qn,fp).call(this);return}let{workerSrc:e}=it;try{it._isSameOrigin(window.location,e)||(e=it._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new ip("main","worker",t),r=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?a(this,qa).reject(new Error("Worker was destroyed")):E(this,qn,fp).call(this)},i=new AbortController;t.addEventListener("error",()=>{a(this,Vc)||r()},{signal:i.signal}),s.on("test",l=>{if(i.abort(),this.destroyed||!l){r();return}g(this,Ir,s),g(this,Eo,t),g(this,Vc,t),E(this,qn,bv).call(this)}),s.on("ready",l=>{if(i.abort(),this.destroyed){r();return}try{o()}catch{E(this,qn,fp).call(this)}});const o=()=>{const l=new Uint8Array;s.send("test",l,[l.buffer])};o();return}catch{Pw("The worker has been disabled.")}E(this,qn,fp).call(this)},fp=function(){a(it,Wc)||(ue("Setting up fake worker."),g(it,Wc,!0)),it._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,qa).reject(new Error("Worker was destroyed"));return}const t=new h$;g(this,Eo,t);const s=`fake${bt(it,q0)._++}`,r=new ip(s+"_worker",s,t);e.setup(r,t),g(this,Ir,new ip(s,s+"_worker",t)),E(this,qn,bv).call(this)}).catch(e=>{a(this,qa).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Eh=new WeakSet,xv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(it,Eh),S(it,q0,0),S(it,Wc,!1),S(it,Gc,new WeakMap),Hn&&(g(it,Wc,!0),ur.workerSrc||(ur.workerSrc="./pdf.worker.mjs")),it._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!(s!=null&&s.origin)||s.origin==="null")return!1;const r=new URL(t,s);return s.origin===r.origin},it._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},it.fromPort=e=>{if(e$("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return it.create(e)};let Sf=it;var _o,_i,_h,Ch,Co,qc,pp;class r5{constructor(e,t,s,r,i,o){S(this,qc);S(this,_o,new Map);S(this,_i,new Map);S(this,_h,new Map);S(this,Ch,new Map);S(this,Co,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new X2,this.fontLoader=new a$({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return ye(this,"annotationStorage",new qA)}getRenderingIntent(e,t=Oi.ENABLE,s=null,r=!1,i=!1){let o=Ds.DISPLAY,l=gS;switch(e){case"any":o=Ds.ANY;break;case"display":break;case"print":o=Ds.PRINT;break;default:ue(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Ds.PRINT&&s instanceof N2?s:this.annotationStorage;switch(t){case Oi.DISABLE:o+=Ds.ANNOTATIONS_DISABLE;break;case Oi.ENABLE:break;case Oi.ENABLE_FORMS:o+=Ds.ANNOTATIONS_FORMS;break;case Oi.ENABLE_STORAGE:o+=Ds.ANNOTATIONS_STORAGE,l=c.serializable;break;default:ue(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=Ds.IS_EDITING),i&&(o+=Ds.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,l.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=a(this,Co))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of a(this,_i).values())e.push(r._destroy());a(this,_i).clear(),a(this,_h).clear(),a(this,Ch).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,i;this.commonObjs.clear(),this.fontLoader.clear(),a(this,_o).clear(),this.filterFactory.destroy(),lm.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Qo("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{ke(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){r.close();return}ke(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async s=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:o}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(s,r)=>{ke(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(s.begin,s.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:o,done:l}){if(l){r.close();return}ke(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{i.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new n5(s,this))}),e.on("DocException",s=>{t._capability.reject(Jn(s))}),e.on("PasswordRequest",s=>{g(this,Co,Promise.withResolvers());try{if(!t.onPassword)throw Jn(s);const r=i=>{i instanceof Error?a(this,Co).reject(i):a(this,Co).resolve({password:i})};t.onPassword(r,s.code)}catch(r){a(this,Co).reject(r)}return a(this,Co).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;a(this,_i).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,i])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":if("error"in i){const h=i.error;ue(`Error during font loading: ${h}`),this.commonObjs.resolve(s,h);break}const l=new kS(i),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new l$(l,c,i.extra,i.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(s,u)});break;case"CopyLocalImage":const{imageRef:d}=i;ke(d,"The imageRef must be defined.");for(const h of a(this,_i).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===d)return f.dataLen?(this.commonObjs.resolve(s,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,i,o])=>{var c;if(this.destroyed)return;const l=a(this,_i).get(r);if(!l.objs.has(s)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(i){case"Image":case"Pattern":l.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[s.type];if(!r)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=a(this,_h).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&a(this,Ch).set(i.refStr,e);const o=new s5(t,i,this,this._params.pdfBug);return a(this,_i).set(t,o),o});return a(this,_h).set(t,r),r}getPageIndex(e){return yS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,qc,pp).call(this,"GetFieldObjects")}hasJSActions(){return E(this,qc,pp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return E(this,qc,pp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,qc,pp).call(this,"GetOptionalContentConfig").then(t=>new O$(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,_o).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,o;return{info:r[0],metadata:r[1]?new D$(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return a(this,_o).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,_i).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,_o).clear(),this.filterFactory.destroy(!0),lm.cleanup()}}cachedPageNumber(e){if(!yS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,Ch).get(t)??null}}_o=new WeakMap,_i=new WeakMap,_h=new WeakMap,Ch=new WeakMap,Co=new WeakMap,qc=new WeakSet,pp=function(e,t=null){const s=a(this,_o).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return a(this,_o).set(e,r),r};var Xa;class i5{constructor(e){S(this,Xa,null);z(this,"onContinue",null);z(this,"onError",null);g(this,Xa,e)}get promise(){return a(this,Xa).capability.promise}cancel(e=0){a(this,Xa).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,Xa).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,Xa);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Xa=new WeakMap;var Ya,Xc;const Jl=class Jl{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:v=null}){S(this,Ya,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new i5(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(a(Jl,Xc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(Jl,Xc).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:r,background:i,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Ad(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var s,r,i;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),a(this,Ya)&&(window.cancelAnimationFrame(a(this,Ya)),g(this,Ya,null)),a(Jl,Xc).delete(this._canvas),e||(e=new Rw(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(r=this.task).onError)==null||i.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?g(this,Ya,window.requestAnimationFrame(()=>{g(this,Ya,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(Jl,Xc).delete(this._canvas),this.callback())))}};Ya=new WeakMap,Xc=new WeakMap,S(Jl,Xc,new WeakSet);let LS=Jl;const ZA="5.4.296",tM="f56dc8601";var Ss,Yc,kh,$t,fg,Th,ko,pg,Ka,Or,mg,We,DS,IS,OS,Yl,nM,da;const es=class es{constructor({editor:e=null,uiManager:t=null}){S(this,We);S(this,Ss,null);S(this,Yc,null);S(this,kh);S(this,$t,null);S(this,fg,!1);S(this,Th,!1);S(this,ko,null);S(this,pg);S(this,Ka,null);S(this,Or,null);var s,r;e?(g(this,Th,!1),g(this,ko,e)):g(this,Th,!0),g(this,Or,(e==null?void 0:e._uiManager)||t),g(this,pg,a(this,Or)._eventBus),g(this,kh,((s=e==null?void 0:e.color)==null?void 0:s.toUpperCase())||((r=a(this,Or))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),a(es,mg)||g(es,mg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ye(this,"_keyboardManager",new uy([[["Escape","mac+Escape"],es.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],es.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],es.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],es.prototype._moveToPrevious],[["Home","mac+Home"],es.prototype._moveToBeginning],[["End","mac+End"],es.prototype._moveToEnd]]))}renderButton(){const e=g(this,Ss,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,ko)&&(e.ariaControls=`${a(this,ko).id}_colorpicker_dropdown`);const t=a(this,Or)._signal;e.addEventListener("click",E(this,We,Yl).bind(this),{signal:t}),e.addEventListener("keydown",E(this,We,OS).bind(this),{signal:t});const s=g(this,Yc,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=a(this,kh),e.append(s),e}renderMainDropdown(){const e=g(this,$t,E(this,We,DS).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,Ss)){E(this,We,Yl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,We,IS).call(this,t,e)}_moveToNext(e){var t,s;if(!a(this,We,da)){E(this,We,Yl).call(this,e);return}if(e.target===a(this,Ss)){(t=a(this,$t).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=a(this,$t))==null?void 0:t.firstChild)||e.target===a(this,Ss)){a(this,We,da)&&this._hideDropdownFromKeyboard();return}a(this,We,da)||E(this,We,Yl).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!a(this,We,da)){E(this,We,Yl).call(this,e);return}(t=a(this,$t).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,We,da)){E(this,We,Yl).call(this,e);return}(t=a(this,$t).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,$t))==null||e.classList.add("hidden"),a(this,Ss).ariaExpanded="false",(t=a(this,Ka))==null||t.abort(),g(this,Ka,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,Th)){if(!a(this,We,da)){(e=a(this,ko))==null||e.unselect();return}this.hideDropdown(),a(this,Ss).focus({preventScroll:!0,focusVisible:a(this,fg)})}}updateColor(e){if(a(this,Yc)&&(a(this,Yc).style.backgroundColor=e),!a(this,$t))return;const t=a(this,Or).highlightColors.values();for(const s of a(this,$t).children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,Ss))==null||e.remove(),g(this,Ss,null),g(this,Yc,null),(t=a(this,$t))==null||t.remove(),g(this,$t,null)}};Ss=new WeakMap,Yc=new WeakMap,kh=new WeakMap,$t=new WeakMap,fg=new WeakMap,Th=new WeakMap,ko=new WeakMap,pg=new WeakMap,Ka=new WeakMap,Or=new WeakMap,mg=new WeakMap,We=new WeakSet,DS=function(){const e=document.createElement("div"),t=a(this,Or)._signal;e.addEventListener("contextmenu",Ws,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,ko)&&(e.id=`${a(this,ko).id}_colorpicker_dropdown`);for(const[s,r]of a(this,Or).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=s,i.setAttribute("data-l10n-id",a(es,mg)[s]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.ariaSelected=r===a(this,kh),i.addEventListener("click",E(this,We,IS).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",E(this,We,OS).bind(this),{signal:t}),e},IS=function(e,t){t.stopPropagation(),a(this,pg).dispatch("switchannotationeditorparams",{source:this,type:_e.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},OS=function(e){es._keyboardManager.exec(this,e)},Yl=function(e){if(a(this,We,da)){this.hideDropdown();return}if(g(this,fg,e.detail===0),a(this,Ka)||(g(this,Ka,new AbortController),window.addEventListener("pointerdown",E(this,We,nM).bind(this),{signal:a(this,Or).combinedSignal(a(this,Ka))})),a(this,Ss).ariaExpanded="true",a(this,$t)){a(this,$t).classList.remove("hidden");return}const t=g(this,$t,E(this,We,DS).call(this));a(this,Ss).append(t)},nM=function(e){var t;(t=a(this,$t))!=null&&t.contains(e.target)||this.hideDropdown()},da=function(){return a(this,$t)&&!a(this,$t).classList.contains("hidden")},S(es,mg,null);let cm=es;var Ci,gg,Ph,yg;const ec=class ec{constructor(e){S(this,Ci,null);S(this,gg,null);S(this,Ph,null);g(this,gg,e),g(this,Ph,e._uiManager),a(ec,yg)||g(ec,yg,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(a(this,Ci))return a(this,Ci);const{editorType:e,colorType:t,colorValue:s}=a(this,gg),r=g(this,Ci,document.createElement("input"));return r.type="color",r.value=s||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",a(ec,yg)[e]),r.addEventListener("input",()=>{a(this,Ph).updateParams(t,r.value)},{signal:a(this,Ph)._signal}),r}update(e){a(this,Ci)&&(a(this,Ci).value=e)}destroy(){var e;(e=a(this,Ci))==null||e.remove(),g(this,Ci,null)}hideDropdown(){}};Ci=new WeakMap,gg=new WeakMap,Ph=new WeakMap,yg=new WeakMap,S(ec,yg,null);let R0=ec;function ZC(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Wf(n){return Math.max(0,Math.min(255,255*n))}class JC{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Wf(e),[e,e,e]}static G_HTML([e]){const t=ZC(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Wf)}static RGB_HTML(e){return`#${e.map(ZC).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[Wf(1-Math.min(1,e+r)),Wf(1-Math.min(1,s+r)),Wf(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,i=1-t,o=1-s,l=Math.min(r,i,o);return["CMYK",r,i,o,l]}}class o5{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ke("Abstract method `_createSVG` called.")}}class um extends o5{_createSVG(e){return document.createElementNS(Ki,e)}}const a5=9,Nu=new WeakSet,l5=new Date().getTimezoneOffset()*60*1e3;class ek{static create(e){switch(e.data.annotationType){case Tt.LINK:return new JA(e);case Tt.TEXT:return new u5(e);case Tt.WIDGET:switch(e.data.fieldType){case"Tx":return new d5(e);case"Btn":return e.data.radioButton?new iM(e):e.data.checkBox?new f5(e):new p5(e);case"Ch":return new m5(e);case"Sig":return new h5(e)}return new ju(e);case Tt.POPUP:return new jS(e);case Tt.FREETEXT:return new uM(e);case Tt.LINE:return new y5(e);case Tt.SQUARE:return new v5(e);case Tt.CIRCLE:return new w5(e);case Tt.POLYLINE:return new dM(e);case Tt.CARET:return new x5(e);case Tt.INK:return new eE(e);case Tt.POLYGON:return new b5(e);case Tt.HIGHLIGHT:return new hM(e);case Tt.UNDERLINE:return new S5(e);case Tt.SQUIGGLY:return new A5(e);case Tt.STRIKEOUT:return new E5(e);case Tt.STAMP:return new fM(e);case Tt.FILEATTACHMENT:return new _5(e);default:return new gt(e)}}}var Kc,Rh,ir,vg,FS;const lE=class lE{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){S(this,vg);S(this,Kc,null);S(this,Rh,!1);S(this,ir,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return lE._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var s;const{data:e}=this,t=(s=this.annotationStorage)==null?void 0:s.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const e=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:s,rect:r}=this.data;let i=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],i=t[c+2]):t[c+1]===o&&(i=Math.max(i,t[c+2]));return[i,o]}if((s==null?void 0:s.length)>=1){for(const c of s)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>o?(o=c[u+1],i=c[u]):c[u+1]===o&&(i=Math.max(i,c[u]));if(i!==1/0)return[i,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/s,e[1]=100*(e[1]-o)/r,e}get commentText(){var t,s,r;const{data:e}=this;return((s=(t=this.annotationStorage.getRawValue(`${sm}${e.id}`))==null?void 0:t.popup)==null?void 0:s.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,s={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:s})||this.annotationStorage.setValue(`${sm}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:s,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=a(this,ir))==null?void 0:e.popup)||this.popup)==null||t.remove(),g(this,ir,this.popup=null)}updateEdited(e){var i;if(!this.container)return;e.rect&&(a(this,Kc)||g(this,Kc,{rect:this.data.rect.slice(0)}));const{rect:t,popup:s}=e;t&&E(this,vg,FS).call(this,t);let r=((i=a(this,ir))==null?void 0:i.popup)||this.popup;!r&&(s!=null&&s.text)&&(this._createPopup(s),r=a(this,ir).popup),r&&(r.updateEdited(e),s!=null&&s.deleted&&(r.remove(),g(this,ir,null),this.popup=null))}resetEdited(){var e;a(this,Kc)&&(E(this,vg,FS).call(this,a(this,Kc).rect),(e=a(this,ir))==null||e.popup.resetEdited(),g(this,Kc,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),!(this instanceof ju)&&!(this instanceof JA)&&(i.tabIndex=0);const{style:o}=i;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof jS){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,i),i}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(m>0||b>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof iM){const w=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case Vu.SOLID:o.borderStyle="solid";break;case Vu.DASHED:o.borderStyle="dashed";break;case Vu.BEVELED:ue("Unimplemented border style: beveled");break;case Vu.INSET:ue("Unimplemented border style: inset");break;case Vu.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(g(this,Rh,!0),o.borderColor=J.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const u=J.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*l/d}%`,o.height=`${100*c/h}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:o}=this;e%180!==0&&([i,o]=[o,i]),t.style.width=`${100*i/s}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const i=r.detail[t],o=i[0],l=i.slice(1);r.target.style[s]=JC[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[s]:JC[`${o}_rgb`](l)})};return ye(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||s[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,i]of Object.entries(t)){const o=s[r];if(o){const l={detail:{[r]:i},target:e};o(l),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,i]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,b,y,w]=e.subarray(2,6);if(r===m&&i===b&&t===y&&s===w)return}const{style:o}=this.container;let l;if(a(this,Rh)){const{borderColor:m,borderWidth:b}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=r-t,u=i-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,b=e.length;m<b;m+=8){const y=e[m],w=e[m+1],x=e[m+2],_=e[m+3],C=d.createElement("rect"),T=(x-t)/c,P=(i-w)/u,R=(y-x)/c,M=(w-_)/u;C.setAttribute("x",T),C.setAttribute("y",P),C.setAttribute("width",R),C.setAttribute("height",M),p.append(C),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${P}" width="${R}" height="${M}"/>`)}a(this,Rh)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let s,r;e?(s={str:e.text},r=e.date):(s=t.contentsObj,r=t.modificationDate);const i=g(this,ir,new jS({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!(a(this,ir)||this.popup||this.data.popupRef)}get extraPopupElement(){return a(this,ir)}render(){Ke("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:o,exportValues:l}of r){if(i===-1||o===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Nu.has(u)){ue(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:c,domElement:u})}return s}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,o=r.getAttribute("data-element-id");o!==t&&Nu.has(r)&&s.push({id:o,exportValue:i,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Kc=new WeakMap,Rh=new WeakMap,ir=new WeakMap,vg=new WeakSet,FS=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:l,pageY:c}}}}=this;s==null||s.splice(0,4,...e),t.left=`${100*(e[0]-l)/i}%`,t.top=`${100*(o-e[3]+c)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let gt=lE;class c5 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var js,Kl,sM,rM;class JA extends gt{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});S(this,js);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),i=!0):t.attachment?(E(this,js,sM).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(E(this,js,rM).call(this,r,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(t,s,r=""){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&E(this,js,Kl).call(this),r&&(t.title=r)}_bindNamedAction(t,s,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),r&&(t.title=r),E(this,js,Kl).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(s.actions)){const o=r.get(i);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:i}}),!1})}s.overlaidText&&(t.title=s.overlaidText),t.onclick||(t.onclick=()=>!1),E(this,js,Kl).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),E(this,js,Kl).call(this),!this._fieldObjects){ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:i,refs:o,include:l}=s,c=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const p of i){const v=this._fieldObjects[p]||[];for(const{id:m}of v)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===l&&c.push(v)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!Nu.has(v)){ue(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}js=new WeakSet,Kl=function(){this.container.setAttribute("data-internal-link","")},sM=function(t,s,r="",i=null){t.href=this.linkService.getAnchorUrl(""),s.description?t.title=s.description:r&&(t.title=r),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,i),!1},E(this,js,Kl).call(this)},rM=function(t,s,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),r&&(t.title=r),E(this,js,Kl).call(this)};class u5 extends gt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ju extends gt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return sn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,i){s.includes("mouse")?e.addEventListener(s,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(s,o=>{var l;if(s==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}i&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o)}}))})}_setEventListeners(e,t,s,r){var i,o,l;for(const[c,u]of s)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":J.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||a5,i=e.style;let o;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(Eb*r))||1,h=u/d;o=Math.min(r,c(h/Eb))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(r,c(u/Eb))}i.fontSize=`calc(${o}px * var(--total-scale-factor))`,i.color=J.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class d5 extends ju{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=s),i.setValue(o.id,{[r]:s})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??l,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",u??l),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Nu.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;h&&(s.title=h),this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",b=>{const y=this.data.defaultFieldValue??"";s.value=d.userValue=y,d.formattedValue=null});let m=b=>{const{formattedValue:y}=d;y!=null&&(b.target.value=y),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",y=>{var x;if(d.focused)return;const{target:w}=y;if(v&&(w.type=f,p&&(w.step=p)),d.userValue){const _=d.userValue;if(v)if(f==="time"){const C=new Date(_),T=[C.getHours(),C.getMinutes(),C.getSeconds()];w.value=T.map(P=>P.toString().padStart(2,"0")).join(":")}else w.value=new Date(_-l5).toISOString().split(f==="date"?"T":".",1)[0];else w.value=_}d.lastCommittedValue=w.value,d.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const w={value(x){d.userValue=x.detail.value??"",v||e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:_}=x.detail;d.formattedValue=_,_!=null&&x.target!==document.activeElement&&(x.target.value=_);const C={formattedValue:_};v&&(C.value=_),e.setValue(t,C)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var P;const{charLimit:_}=x.detail,{target:C}=x;if(_===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",_);let T=d.userValue;!T||T.length<=_||(T=T.slice(0,_),C.value=d.userValue=T,e.setValue(t,{value:T}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(w,y)}),s.addEventListener("keydown",y=>{var _;d.commitKey=1;let w=-1;if(y.key==="Escape"?w=0:y.key==="Enter"&&!this.data.multiLine?w=2:y.key==="Tab"&&(d.commitKey=3),w===-1)return;const{value:x}=y.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const b=m;m=null,s.addEventListener("blur",y=>{var _,C;if(!d.focused||!y.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(d.focused=!1);const{target:w}=y;let{value:x}=w;if(v){if(x&&f==="time"){const T=x.split(":").map(P=>parseInt(P,10));x=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),w.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();w.type="text"}d.userValue=x,d.lastCommittedValue!==x&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),b(y)}),(i=this.data.actions)!=null&&i.Keystroke&&s.addEventListener("beforeinput",y=>{var M;d.lastCommittedValue=null;const{data:w,target:x}=y,{value:_,selectionStart:C,selectionEnd:T}=x;let P=C,R=T;switch(y.inputType){case"deleteWordBackward":{const N=_.substring(0,C).match(/\w*[^\w]*$/);N&&(P-=N[0].length);break}case"deleteWordForward":{const N=_.substring(C).match(/^[^\w]*\w*/);N&&(R+=N[0].length);break}case"deleteContentBackward":C===T&&(P-=1);break;case"deleteContentForward":C===T&&(R+=1);break}y.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:w||"",willCommit:!1,selStart:P,selEnd:R}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(m&&s.addEventListener("blur",m),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class h5 extends ju{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class f5 extends ju{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Nu.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,s)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(s,{value:c})}),i.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(s,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class iM extends ju{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,s))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(Nu.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,s))e.setValue(u.id,{value:!1});e.setValue(s,{value:c})}),i.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===s;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class p5 extends JA{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class m5 extends ju{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Nu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),r.append(h)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const l=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const m of r.options)m.selected=v.has(m.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,v=f.detail.remove;p[v].selected=!1,r.remove(v),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(f){const{index:p,displayValue:v,exportValue:m}=f.detail.insert,b=r.children[p],y=document.createElement("option");y.textContent=v,y.value=m,b?b.before(y):r.append(y),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const v of p){const{displayValue:m,exportValue:b}=v,y=document.createElement("option");y.textContent=m,y.value=b,r.append(y)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var p;const h=l(!0),f=l(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var wg,BS;class jS extends gt{constructor(t){const{data:s,elements:r,parent:i}=t,o=!!i._commentManager;super(t,{isRenderable:!o&&gt._hasPopupData(s)});S(this,wg);if(this.elements=r,o&&gt._hasPopupData(s)){const l=this.popup=E(this,wg,BS).call(this);for(const c of r)c.popup=l}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const s=this.popup=E(this,wg,BS).call(this),r=[];for(const i of this.elements)i.popup=s,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${VA}${i}`).join(",")),this.container}}wg=new WeakSet,BS=function(){return new g5({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var As,Qa,X0,Y0,Nh,Mh,Et,ki,Za,Qc,Lh,Dh,Ti,Es,To,Po,Xt,Ro,Ja,bg,No,Ih,Zc,el,Tn,tl,we,Sv,zS,$S,US,Av,HS,oM,aM,lM,cM,Ev,_v,VS;class g5{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:i,contentsObj:o,richText:l,parent:c,rect:u,parentRect:d,open:h,commentManager:f=null}){S(this,we);S(this,As,null);S(this,Qa,E(this,we,lM).bind(this));S(this,X0,E(this,we,VS).bind(this));S(this,Y0,E(this,we,_v).bind(this));S(this,Nh,E(this,we,Ev).bind(this));S(this,Mh,null);S(this,Et,null);S(this,ki,null);S(this,Za,null);S(this,Qc,null);S(this,Lh,null);S(this,Dh,null);S(this,Ti,!1);S(this,Es,null);S(this,To,null);S(this,Po,null);S(this,Xt,null);S(this,Ro,null);S(this,Ja,null);S(this,bg,null);S(this,No,null);S(this,Ih,null);S(this,Zc,null);S(this,el,!1);S(this,Tn,null);S(this,tl,null);g(this,Et,e),g(this,Ih,r),g(this,ki,o),g(this,No,l),g(this,Lh,c),g(this,Mh,t),g(this,bg,u),g(this,Dh,d),g(this,Qc,s),g(this,As,f),g(this,Tn,s[0]),g(this,Za,om.toDateObject(i)),this.trigger=s.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(E(this,we,Sv).call(this),a(this,Et).hidden=!0,h&&E(this,we,Ev).call(this))}renderCommentButton(){if(a(this,Xt)||(a(this,Ro)||E(this,we,zS).call(this),!a(this,Ro)))return;const{signal:e}=g(this,To,new AbortController),t=!!a(this,Tn).extraPopupElement,s=()=>{a(this,As).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{a(this,As).toggleCommentPopup(this,!1,!0,!t)},i=()=>{a(this,As).toggleCommentPopup(this,!1,!1)};if(t){g(this,Xt,a(this,Tn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",a(this,Qa),{signal:e}),o.addEventListener("click",s,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",i,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=g(this,Xt,document.createElement("button"));o.className="annotationCommentButton";const l=a(this,Tn).container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),E(this,we,US).call(this),E(this,we,$S).call(this),o.addEventListener("keydown",a(this,Qa),{signal:e}),o.addEventListener("click",s,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",i,{signal:e}),l.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=a(this,Tn).commentData;return e?a(this,Lh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=a(this,Xt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:s,creationDate:r,modificationDate:i}=a(this,Tn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:s,creationDate:r,modificationDate:i}}get elementBeforePopup(){return a(this,Xt)}get comment(){return a(this,tl)||g(this,tl,a(this,Tn).commentText),a(this,tl)}set comment(e){e!==this.comment&&(a(this,Tn).commentText=g(this,tl,e))}get parentBoundingClientRect(){return a(this,Tn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){a(this,Xt)&&(a(this,Xt).classList.toggle("selected",e),a(this,Xt).ariaExpanded=t)}setSelectedCommentButton(e){a(this,Xt).classList.toggle("selected",e)}get commentPopupPosition(){if(a(this,Ja))return a(this,Ja);const{x:e,y:t,height:s}=a(this,Xt).getBoundingClientRect(),{x:r,y:i,width:o,height:l}=a(this,Tn).layer.getBoundingClientRect();return[(e-r)/o,(t+s-i)/l]}set commentPopupPosition(e){g(this,Ja,e)}hasDefaultPopupPosition(){return a(this,Ja)===null}get commentButtonPosition(){return a(this,Ro)}get commentButtonWidth(){return a(this,Xt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,s]=a(this,Ja)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:i,y:o,width:l,height:c}=r;a(this,As).showDialog(null,this,i+t*l,o+s*c,{...e,parentDimensions:r})}render(){var s,r;if(a(this,Es))return;const e=g(this,Es,document.createElement("div"));if(e.className="popup",a(this,Mh)){const i=e.style.outlineColor=J.makeHexColor(...a(this,Mh));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",(s=a(this,Ih))!=null&&s.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=a(this,Ih)}if(e.append(t),a(this,Za)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,Za).valueOf()})),i.dateTime=a(this,Za).toISOString(),t.append(i)}GA({html:a(this,we,Av)||a(this,ki).str,dir:(r=a(this,ki))==null?void 0:r.dir,className:"popupContent"},e),a(this,Et).append(e)}updateEdited({rect:e,popup:t,deleted:s}){var r;if(a(this,As)){s?(this.remove(),g(this,tl,null)):t&&(t.deleted?this.remove():(E(this,we,US).call(this),g(this,tl,t.text))),e&&(g(this,Ro,null),E(this,we,zS).call(this),E(this,we,$S).call(this));return}if(s||t!=null&&t.deleted){this.remove();return}E(this,we,Sv).call(this),a(this,Zc)||g(this,Zc,{contentsObj:a(this,ki),richText:a(this,No)}),e&&g(this,Po,null),t&&t.text&&(g(this,No,E(this,we,aM).call(this,t.text)),g(this,Za,om.toDateObject(t.date)),g(this,ki,null)),(r=a(this,Es))==null||r.remove(),g(this,Es,null)}resetEdited(){var e;a(this,Zc)&&({contentsObj:bt(this,ki)._,richText:bt(this,No)._}=a(this,Zc),g(this,Zc,null),(e=a(this,Es))==null||e.remove(),g(this,Es,null),g(this,Po,null))}remove(){var e,t,s;if((e=a(this,To))==null||e.abort(),g(this,To,null),(t=a(this,Es))==null||t.remove(),g(this,Es,null),g(this,el,!1),g(this,Ti,!1),(s=a(this,Xt))==null||s.remove(),g(this,Xt,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){g(this,el,this.isVisible),a(this,el)&&(a(this,Et).hidden=!0)}maybeShow(){a(this,As)||(E(this,we,Sv).call(this),a(this,el)&&(a(this,Es)||E(this,we,_v).call(this),g(this,el,!1),a(this,Et).hidden=!1))}get isVisible(){return a(this,As)?!1:a(this,Et).hidden===!1}}As=new WeakMap,Qa=new WeakMap,X0=new WeakMap,Y0=new WeakMap,Nh=new WeakMap,Mh=new WeakMap,Et=new WeakMap,ki=new WeakMap,Za=new WeakMap,Qc=new WeakMap,Lh=new WeakMap,Dh=new WeakMap,Ti=new WeakMap,Es=new WeakMap,To=new WeakMap,Po=new WeakMap,Xt=new WeakMap,Ro=new WeakMap,Ja=new WeakMap,bg=new WeakMap,No=new WeakMap,Ih=new WeakMap,Zc=new WeakMap,el=new WeakMap,Tn=new WeakMap,tl=new WeakMap,we=new WeakSet,Sv=function(){var t;if(a(this,To))return;g(this,To,new AbortController);const{signal:e}=a(this,To);for(const s of this.trigger)s.addEventListener("click",a(this,Nh),{signal:e}),s.addEventListener("pointerenter",a(this,Y0),{signal:e}),s.addEventListener("pointerleave",a(this,X0),{signal:e}),s.classList.add("popupTriggerArea");for(const s of a(this,Qc))(t=s.container)==null||t.addEventListener("keydown",a(this,Qa),{signal:e})},zS=function(){const e=a(this,Qc).find(t=>t.hasCommentButton);e&&g(this,Ro,e._normalizePoint(e.commentButtonPosition))},$S=function(){if(a(this,Tn).extraPopupElement&&!a(this,Tn).editor)return;this.renderCommentButton();const[e,t]=a(this,Ro),{style:s}=a(this,Xt);s.left=`calc(${e}%)`,s.top=`calc(${t}% - var(--comment-button-dim))`},US=function(){a(this,Tn).extraPopupElement||(this.renderCommentButton(),a(this,Xt).style.backgroundColor=this.commentButtonColor||"")},Av=function(){const e=a(this,No),t=a(this,ki);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,No).html||null},HS=function(){var e,t,s;return((s=(t=(e=a(this,we,Av))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},oM=function(){var e,t,s;return((s=(t=(e=a(this,we,Av))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},aM=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:a(this,we,oM),fontSize:a(this,we,HS)?`calc(${a(this,we,HS)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return s},lM=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,Ti))&&E(this,we,Ev).call(this)},cM=function(){if(a(this,Po)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:i}}}=a(this,Lh);let o=!!a(this,Dh),l=o?a(this,Dh):a(this,bg);for(const v of a(this,Qc))if(!l||J.intersect(v.data.rect,l)!==null){l=v.data.rect,o=!0;break}const c=J.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=o?l[2]-l[0]+5:0,h=c[0]+d,f=c[1];g(this,Po,[100*(h-r)/t,100*(f-i)/s]);const{style:p}=a(this,Et);p.left=`${a(this,Po)[0]}%`,p.top=`${a(this,Po)[1]}%`},Ev=function(){if(a(this,As)){a(this,As).toggleCommentPopup(this,!1);return}g(this,Ti,!a(this,Ti)),a(this,Ti)?(E(this,we,_v).call(this),a(this,Et).addEventListener("click",a(this,Nh)),a(this,Et).addEventListener("keydown",a(this,Qa))):(E(this,we,VS).call(this),a(this,Et).removeEventListener("click",a(this,Nh)),a(this,Et).removeEventListener("keydown",a(this,Qa)))},_v=function(){a(this,Es)||this.render(),this.isVisible?a(this,Ti)&&a(this,Et).classList.add("focused"):(E(this,we,cM).call(this),a(this,Et).hidden=!1,a(this,Et).style.zIndex=parseInt(a(this,Et).style.zIndex)+1e3)},VS=function(){a(this,Et).classList.remove("focused"),!(a(this,Ti)||!this.isVisible)&&(a(this,Et).hidden=!0,a(this,Et).style.zIndex=parseInt(a(this,Et).style.zIndex)-1e3)};class uM extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ce.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xg;class y5 extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,xg,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=g(this,xg,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}xg=new WeakMap;var Sg;class v5 extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Sg,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,l=g(this,Sg,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",s-o),l.setAttribute("height",r-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Sg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sg=new WeakMap;var Ag;class w5 extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Ag,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,l=g(this,Ag,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",s/2),l.setAttribute("cy",r/2),l.setAttribute("rx",s/2-o/2),l.setAttribute("ry",r/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Ag)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ag=new WeakMap;var Eg;class dM extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Eg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:i},width:o,height:l}=this;if(!s)return this.container;const c=this.svgFactory.create(o,l,!0);let u=[];for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-t[0],v=t[3]-s[h+1];u.push(`${p},${v}`)}u=u.join(" ");const d=g(this,Eg,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Eg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Eg=new WeakMap;class b5 extends dM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class x5 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _g,Jc,Cg,WS;class eE extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Cg);S(this,_g,null);S(this,Jc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ce.HIGHLIGHT:ce.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:s,inkLists:r,borderStyle:i,popupRef:o}}=this,{transform:l,width:c,height:u}=E(this,Cg,WS).call(this,s,t),d=this.svgFactory.create(c,u,!0),h=g(this,_g,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let f=0,p=r.length;f<p;f++){const v=this.svgFactory.createElement(this.svgElementName);a(this,Jc).push(v),v.setAttribute("points",r[f].join(",")),h.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:s,points:r,rect:i}=t,o=a(this,_g);if(s>=0&&o.setAttribute("stroke-width",s||1),r)for(let l=0,c=a(this,Jc).length;l<c;l++)a(this,Jc)[l].setAttribute("points",r[l].join(","));if(i){const{transform:l,width:c,height:u}=E(this,Cg,WS).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return a(this,Jc)}addHighlightArea(){this.container.classList.add("highlightArea")}}_g=new WeakMap,Jc=new WeakMap,Cg=new WeakSet,WS=function(t,s){switch(t){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class hM extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ce.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class S5 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class A5 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class E5 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class fM extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ce.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kg,Tg,GS;class _5 extends gt{constructor(t){var r;super(t,{isRenderable:!0});S(this,Tg);S(this,kg,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",E(this,Tg,GS).bind(this)),g(this,kg,r);const{isMac:i}=sn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&E(this,Tg,GS).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return a(this,kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}kg=new WeakMap,Tg=new WeakSet,GS=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Oh,eu,Fh,nl,Pg,tu,zl,qS,XS,jh;let tE=(jh=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:i,viewport:o,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:d}){S(this,zl);S(this,Oh,null);S(this,eu,null);S(this,Fh,null);S(this,nl,new Map);S(this,Pg,null);S(this,tu,null);this.div=e,g(this,Oh,t),g(this,eu,s),g(this,Pg,l||null),g(this,tu,u||null),g(this,Fh,d||new qA),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return a(this,nl).size>0}async render(e){var o,l,c;const{annotations:t}=e,s=this.div;Fl(s,this.viewport);const r=new Map,i={data:null,layer:s,linkService:a(this,tu),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new um,annotationStorage:a(this,Fh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Tt.POPUP;if(d){const p=r.get(u.id);if(!p)continue;i.elements=p}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;i.data=u;const h=ek.create(i);if(!h.isRenderable)continue;if(!d&&u.popupRef){const p=r.get(u.popupRef);p?p.push(h):r.set(u.popupRef,[h])}const f=h.render();u.hidden&&(f.style.visibility="hidden"),await E(this,zl,qS).call(this,f,u.id,i.elements),(l=(o=h.extraPopupElement)==null?void 0:o.popup)==null||l.renderCommentButton(),h._isEditable&&(a(this,nl).set(h.data.id,h),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(h))}E(this,zl,XS).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:a(this,tu),svgFactory:new um,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=jh._defaultBorderStyle),t.data=s;const r=ek.create(t);if(!r.isRenderable)continue;const i=r.render();await E(this,zl,qS).call(this,i,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Fl(t,{rotation:e.rotation}),E(this,zl,XS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,nl).values())}getEditableAnnotation(e){return a(this,nl).get(e)}addFakeAnnotation(e){var l;const{div:t}=this,{id:s,rotation:r}=e,i=new c5({data:{id:s,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:a(this,tu),annotationStorage:a(this,Fh)}),o=i.render();return t.append(o),(l=a(this,Oh))==null||l.moveElementInDOM(t,o,o,!1),i.createOrUpdatePopup(),i}static get _defaultBorderStyle(){return ye(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Vu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Oh=new WeakMap,eu=new WeakMap,Fh=new WeakMap,nl=new WeakMap,Pg=new WeakMap,tu=new WeakMap,zl=new WeakSet,qS=async function(e,t,s){var l,c;const r=e.firstChild||e,i=r.id=`${VA}${t}`,o=await((l=a(this,Pg))==null?void 0:l.getAriaAttributes(i));if(o)for(const[u,d]of o)r.setAttribute(u,d);s?s.at(-1).container.after(e):(this.div.append(e),(c=a(this,Oh))==null||c.moveElementInDOM(this.div,e,r,!1))},XS=function(){var t;if(!a(this,eu))return;const e=this.div;for(const[s,r]of a(this,eu)){const i=e.querySelector(`[data-annotation-id="${s}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r);const l=a(this,nl).get(s);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(s,i.id,r),l._hasNoCanvas=!1):l.canvas=r)}a(this,eu).clear()},jh);const Gy=/\r\n?|\n/g;var _s,Rg,nu,Cs,Ft,pM,mM,gM,Cv,Ho,kv,Tv,yM,KS,vM;const nt=class nt extends Je{constructor(t){super({...t,name:"freeTextEditor"});S(this,Ft);S(this,_s,"");S(this,Rg,`${this.id}-editor`);S(this,nu,null);S(this,Cs);z(this,"_colorPicker",null);this.color=t.color||nt._defaultColor||Je._defaultLineColor,g(this,Cs,t.fontSize||nt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=nt.prototype,s=o=>o.isEmpty(),r=jl.TRANSLATE_SMALL,i=jl.TRANSLATE_BIG;return ye(this,"_keyboardManager",new uy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}]]))}static initialize(t,s){Je.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case _e.FREETEXT_SIZE:nt._defaultFontSize=s;break;case _e.FREETEXT_COLOR:nt._defaultColor=s;break}}updateParams(t,s){switch(t){case _e.FREETEXT_SIZE:E(this,Ft,pM).call(this,s);break;case _e.FREETEXT_COLOR:E(this,Ft,mM).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[_e.FREETEXT_SIZE,nt._defaultFontSize],[_e.FREETEXT_COLOR,nt._defaultColor||Je._defaultLineColor]]}get propertiesToUpdate(){return[[_e.FREETEXT_SIZE,a(this,Cs)],[_e.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new R0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _e.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+a(this,Cs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),g(this,nu,new AbortController);const t=this._uiManager.combinedSignal(a(this,nu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,Rg)),this._isDraggable=!0,(t=a(this,nu))==null||t.abort(),g(this,nu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var s;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,_s),s=g(this,_s,E(this,Ft,gM).call(this).trimEnd());if(t===s)return;const r=i=>{if(g(this,_s,i),!i){this.remove();return}E(this,Ft,Tv).call(this),this._uiManager.rebuild(this),E(this,Ft,Cv).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),E(this,Ft,Cv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,s;(this._isCopy||this.annotationElementId)&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,Rg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${a(this,Cs)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let v,m;switch(this.rotation){case 0:v=t+(l[0]-f)/d,m=s+this.height-(l[1]-p)/h;break;case 90:v=t+(l[0]-f)/d,m=s-(l[1]-p)/h,[c,u]=[u,-c];break;case 180:v=t-this.width+(l[0]-f)/d,m=s-(l[1]-p)/h,[c,u]=[-c,-u];break;case 270:v=t+(l[0]-f-this.height*h)/d,m=s+(l[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(v*i,m*o,c,u)}else this._moveAfterPaste(t,s);E(this,Ft,Tv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,m,b;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=E(v=nt,Ho,KS).call(v,s.getData("text")||"").replaceAll(Gy,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!i.includes(`
`)){l.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=l,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(Gy,"")),y!==this.editorDiv){let w=d;for(const x of this.editorDiv.childNodes){if(x===y){w=h;continue}w.push(E(m=nt,Ho,kv).call(m,x))}}d.push(c.nodeValue.slice(0,u).replaceAll(Gy,""))}else if(c===this.editorDiv){let y=d,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(y=h),y.push(E(b=nt,Ho,kv).call(b,x))}g(this,_s,`${d.join(`
`)}${i}${h.join(`
`)}`),E(this,Ft,Tv).call(this);const f=new Range;let p=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(p<=w){f.setStart(y,p),f.setEnd(y,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=nt._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,s,r){var l;let i=null;if(t instanceof uM){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,richText:v,contentsObj:m,creationDate:b,modificationDate:y},textContent:w,textPosition:x,parent:{page:{pageNumber:_}}}=t;if(!w||w.length===0)return null;i=t={annotationType:ce.FREETEXT,color:Array.from(u),fontSize:c,value:w.join(`
`),position:x,pageIndex:_-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:v,creationDate:b,modificationDate:y}}const o=await super.deserialize(t,s,r);return g(o,Cs,t.fontSize),o.color=J.makeHexColor(...t.color),g(o,_s,E(l=nt,Ho,KS).call(l,t.value)),o._initialData=i,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Je._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:s,fontSize:a(this,Cs),value:E(this,Ft,yM).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!E(this,Ft,vM).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(!s)return null;const{style:r}=s;r.fontSize=`calc(${a(this,Cs)}px * var(--total-scale-factor))`,r.color=this.color,s.replaceChildren();for(const i of a(this,_s).split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),s.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:a(this,_s)}}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};_s=new WeakMap,Rg=new WeakMap,nu=new WeakMap,Cs=new WeakMap,Ft=new WeakSet,pM=function(t){const s=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-a(this,Cs))*this.parentScale),g(this,Cs,i),E(this,Ft,Cv).call(this)},r=a(this,Cs);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_e.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},mM=function(t){const s=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_e.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gM=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const i of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(E(r=nt,Ho,kv).call(r,i)),s=i);return t.join(`
`)},Cv=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},Ho=new WeakSet,kv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Gy,"")},Tv=function(){if(this.editorDiv.replaceChildren(),!!a(this,_s))for(const t of a(this,_s).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},yM=function(){return a(this,_s).replaceAll(""," ")},KS=function(t){return t.replaceAll(" ","")},vM=function(t){const{value:s,fontSize:r,color:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((l,c)=>l!==i[c])||t.pageIndex!==o},S(nt,Ho),z(nt,"_freeTextDefaultContent",""),z(nt,"_internalPadding",0),z(nt,"_defaultColor",null),z(nt,"_defaultFontSize",10),z(nt,"_type","freetext"),z(nt,"_editorType",ce.FREETEXT);let YS=nt;class Z{toSVGPath(){Ke("Abstract method `toSVGPath` must be implemented.")}get box(){Ke("Abstract getter `box` must be implemented.")}serialize(e,t){Ke("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,r,i,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*r,o[l+1]=s+e[l+1]*i;return o}static _rescaleAndSwap(e,t,s,r,i,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*r,o[l+1]=s+e[l]*i;return o}static _translate(e,t,s,r){r||(r=new Float32Array(e.length));for(let i=0,o=e.length;i<o;i+=2)r[i]=t+e[i],r[i+1]=s+e[i+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,r,i){switch(i){case 90:return[1-t/s,e/r];case 180:return[1-e/s,1-t/r];case 270:return[t/s,1-e/r];default:return[e/s,t/r]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,r,i,o){return[(e+5*s)/6,(t+5*r)/6,(5*s+i)/6,(5*r+o)/6,(s+i)/2,(r+o)/2]}}z(Z,"PRECISION",1e-4);var ks,Fr,Bh,zh,Pi,Se,su,ru,Ng,Mg,$h,Uh,sl,Lg,K0,Q0,Wt,mp,wM,bM,xM,SM,AM,EM;const to=class to{constructor({x:e,y:t},s,r,i,o,l=0){S(this,Wt);S(this,ks);S(this,Fr,[]);S(this,Bh);S(this,zh);S(this,Pi,[]);S(this,Se,new Float32Array(18));S(this,su);S(this,ru);S(this,Ng);S(this,Mg);S(this,$h);S(this,Uh);S(this,sl,[]);g(this,ks,s),g(this,Uh,i*r),g(this,zh,o),a(this,Se).set([NaN,NaN,NaN,NaN,e,t],6),g(this,Bh,l),g(this,Mg,a(to,Lg)*r),g(this,Ng,a(to,Q0)*r),g(this,$h,r),a(this,sl).push(e,t)}isEmpty(){return isNaN(a(this,Se)[8])}add({x:e,y:t}){var M;g(this,su,e),g(this,ru,t);const[s,r,i,o]=a(this,ks);let[l,c,u,d]=a(this,Se).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<a(this,Ng))return!1;const v=p-a(this,Mg),m=v/p,b=m*h,y=m*f;let w=l,x=c;l=u,c=d,u+=b,d+=y,(M=a(this,sl))==null||M.push(e,t);const _=-y/v,C=b/v,T=_*a(this,Uh),P=C*a(this,Uh);return a(this,Se).set(a(this,Se).subarray(2,8),0),a(this,Se).set([u+T,d+P],4),a(this,Se).set(a(this,Se).subarray(14,18),12),a(this,Se).set([u-T,d-P],16),isNaN(a(this,Se)[6])?(a(this,Pi).length===0&&(a(this,Se).set([l+T,c+P],2),a(this,Pi).push(NaN,NaN,NaN,NaN,(l+T-s)/i,(c+P-r)/o),a(this,Se).set([l-T,c-P],14),a(this,Fr).push(NaN,NaN,NaN,NaN,(l-T-s)/i,(c-P-r)/o)),a(this,Se).set([w,x,l,c,u,d],6),!this.isEmpty()):(a(this,Se).set([w,x,l,c,u,d],6),Math.abs(Math.atan2(x-c,w-l)-Math.atan2(y,b))<Math.PI/2?([l,c,u,d]=a(this,Se).subarray(2,6),a(this,Pi).push(NaN,NaN,NaN,NaN,((l+u)/2-s)/i,((c+d)/2-r)/o),[l,c,w,x]=a(this,Se).subarray(14,18),a(this,Fr).push(NaN,NaN,NaN,NaN,((w+l)/2-s)/i,((x+c)/2-r)/o),!0):([w,x,l,c,u,d]=a(this,Se).subarray(0,6),a(this,Pi).push(((w+5*l)/6-s)/i,((x+5*c)/6-r)/o,((5*l+u)/6-s)/i,((5*c+d)/6-r)/o,((l+u)/2-s)/i,((c+d)/2-r)/o),[u,d,l,c,w,x]=a(this,Se).subarray(12,18),a(this,Fr).push(((w+5*l)/6-s)/i,((x+5*c)/6-r)/o,((5*l+u)/6-s)/i,((5*c+d)/6-r)/o,((l+u)/2-s)/i,((c+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,Pi),t=a(this,Fr);if(isNaN(a(this,Se)[6])&&!this.isEmpty())return E(this,Wt,wM).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);E(this,Wt,xM).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return E(this,Wt,bM).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,i,o){return new _M(e,t,s,r,i,o)}getOutlines(){var h;const e=a(this,Pi),t=a(this,Fr),s=a(this,Se),[r,i,o,l]=a(this,ks),c=new Float32Array((((h=a(this,sl))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(a(this,sl)[f]-r)/o,c[f+1]=(a(this,sl)[f+1]-i)/l;if(c[c.length-2]=(a(this,su)-r)/o,c[c.length-1]=(a(this,ru)-i)/l,isNaN(s[6])&&!this.isEmpty())return E(this,Wt,SM).call(this,c);const u=new Float32Array(a(this,Pi).length+24+a(this,Fr).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=E(this,Wt,EM).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return E(this,Wt,AM).call(this,u,d),this.newFreeDrawOutline(u,c,a(this,ks),a(this,$h),a(this,Bh),a(this,zh))}};ks=new WeakMap,Fr=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Pi=new WeakMap,Se=new WeakMap,su=new WeakMap,ru=new WeakMap,Ng=new WeakMap,Mg=new WeakMap,$h=new WeakMap,Uh=new WeakMap,sl=new WeakMap,Lg=new WeakMap,K0=new WeakMap,Q0=new WeakMap,Wt=new WeakSet,mp=function(){const e=a(this,Se).subarray(4,6),t=a(this,Se).subarray(16,18),[s,r,i,o]=a(this,ks);return[(a(this,su)+(e[0]-t[0])/2-s)/i,(a(this,ru)+(e[1]-t[1])/2-r)/o,(a(this,su)+(t[0]-e[0])/2-s)/i,(a(this,ru)+(t[1]-e[1])/2-r)/o]},wM=function(){const[e,t,s,r]=a(this,ks),[i,o,l,c]=E(this,Wt,mp).call(this);return`M${(a(this,Se)[2]-e)/s} ${(a(this,Se)[3]-t)/r} L${(a(this,Se)[4]-e)/s} ${(a(this,Se)[5]-t)/r} L${i} ${o} L${l} ${c} L${(a(this,Se)[16]-e)/s} ${(a(this,Se)[17]-t)/r} L${(a(this,Se)[14]-e)/s} ${(a(this,Se)[15]-t)/r} Z`},bM=function(e){const t=a(this,Fr);e.push(`L${t[4]} ${t[5]} Z`)},xM=function(e){const[t,s,r,i]=a(this,ks),o=a(this,Se).subarray(4,6),l=a(this,Se).subarray(16,18),[c,u,d,h]=E(this,Wt,mp).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-s)/i} L${c} ${u} L${d} ${h} L${(l[0]-t)/r} ${(l[1]-s)/i}`)},SM=function(e){const t=a(this,Se),[s,r,i,o]=a(this,ks),[l,c,u,d]=E(this,Wt,mp).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-r)/o],0),this.newFreeDrawOutline(h,e,a(this,ks),a(this,$h),a(this,Bh),a(this,zh))},AM=function(e,t){const s=a(this,Fr);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},EM=function(e,t){const s=a(this,Se).subarray(4,6),r=a(this,Se).subarray(16,18),[i,o,l,c]=a(this,ks),[u,d,h,f]=E(this,Wt,mp).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/l,(s[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-i)/l,(r[1]-o)/c],t),t+=24},S(to,Lg,8),S(to,K0,2),S(to,Q0,a(to,Lg)+a(to,K0));let N0=to;var Hh,iu,Mo,Dg,Ts,Ig,Rt,Z0,CM;class _M extends Z{constructor(t,s,r,i,o,l){super();S(this,Z0);S(this,Hh);S(this,iu,new Float32Array(4));S(this,Mo);S(this,Dg);S(this,Ts);S(this,Ig);S(this,Rt);g(this,Rt,t),g(this,Ts,s),g(this,Hh,r),g(this,Ig,i),g(this,Mo,o),g(this,Dg,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],E(this,Z0,CM).call(this,l);const[c,u,d,h]=a(this,iu);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=s.length;f<p;f+=2)s[f]=(s[f]-c)/d,s[f+1]=(s[f+1]-u)/h}toSVGPath(){const t=[`M${a(this,Rt)[4]} ${a(this,Rt)[5]}`];for(let s=6,r=a(this,Rt).length;s<r;s+=6){if(isNaN(a(this,Rt)[s])){t.push(`L${a(this,Rt)[s+4]} ${a(this,Rt)[s+5]}`);continue}t.push(`C${a(this,Rt)[s]} ${a(this,Rt)[s+1]} ${a(this,Rt)[s+2]} ${a(this,Rt)[s+3]} ${a(this,Rt)[s+4]} ${a(this,Rt)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,i],o){const l=r-t,c=i-s;let u,d;switch(o){case 0:u=Z._rescale(a(this,Rt),t,i,l,-c),d=Z._rescale(a(this,Ts),t,i,l,-c);break;case 90:u=Z._rescaleAndSwap(a(this,Rt),t,s,l,c),d=Z._rescaleAndSwap(a(this,Ts),t,s,l,c);break;case 180:u=Z._rescale(a(this,Rt),r,s,-l,c),d=Z._rescale(a(this,Ts),r,s,-l,c);break;case 270:u=Z._rescaleAndSwap(a(this,Rt),r,i,-l,-c),d=Z._rescaleAndSwap(a(this,Ts),r,i,-l,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return a(this,iu)}newOutliner(t,s,r,i,o,l=0){return new N0(t,s,r,i,o,l)}getNewOutline(t,s){const[r,i,o,l]=a(this,iu),[c,u,d,h]=a(this,Hh),f=o*d,p=l*h,v=r*d+c,m=i*h+u,b=this.newOutliner({x:a(this,Ts)[0]*f+v,y:a(this,Ts)[1]*p+m},a(this,Hh),a(this,Ig),t,a(this,Dg),s??a(this,Mo));for(let y=2;y<a(this,Ts).length;y+=2)b.add({x:a(this,Ts)[y]*f+v,y:a(this,Ts)[y+1]*p+m});return b.getOutlines()}}Hh=new WeakMap,iu=new WeakMap,Mo=new WeakMap,Dg=new WeakMap,Ts=new WeakMap,Ig=new WeakMap,Rt=new WeakMap,Z0=new WeakSet,CM=function(t){const s=a(this,Rt);let r=s[4],i=s[5];const o=[r,i,r,i];let l=r,c=i,u=r,d=i;const h=t?Math.max:Math.min,f=new Float32Array(4);for(let v=6,m=s.length;v<m;v+=6){const b=s[v+4],y=s[v+5];isNaN(s[v])?(J.pointBoundingBox(b,y,o),c>y?(l=b,c=y):c===y&&(l=h(l,b)),d<y?(u=b,d=y):d===y&&(u=h(u,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,J.bezierBoundingBox(r,i,...s.slice(v,v+6),f),J.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(l=f[0],c=f[1]):c===f[1]&&(l=h(l,f[0])),d<f[3]?(u=f[2],d=f[3]):d===f[3]&&(u=h(u,f[2]))),r=b,i=y}const p=a(this,iu);p[0]=o[0]-a(this,Mo),p[1]=o[1]-a(this,Mo),p[2]=o[2]-o[0]+2*a(this,Mo),p[3]=o[3]-o[1]+2*a(this,Mo),this.firstPoint=[l,c],this.lastPoint=[u,d]};var Og,Fg,jg,rl,jr,Yn,kM,Pv,TM,PM,ZS;class QS{constructor(e,t=0,s=0,r=!0){S(this,Yn);S(this,Og);S(this,Fg);S(this,jg);S(this,rl,[]);S(this,jr,[]);const i=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:m,y:b,width:y,height:w}of e){const x=Math.floor((m-t)/o)*o,_=Math.ceil((m+y+t)/o)*o,C=Math.floor((b-t)/o)*o,T=Math.ceil((b+w+t)/o)*o,P=[x,C,T,!0],R=[_,C,T,!1];a(this,rl).push(P,R),J.rectBoundingBox(x,C,_,T,i)}const l=i[2]-i[0]+2*s,c=i[3]-i[1]+2*s,u=i[0]-s,d=i[1]-s;let h=r?-1/0:1/0,f=1/0;const p=a(this,rl).at(r?-1:-2),v=[p[0],p[2]];for(const m of a(this,rl)){const[b,y,w,x]=m;!x&&r?y<f?(f=y,h=b):y===f&&(h=Math.max(h,b)):x&&!r&&(y<f?(f=y,h=b):y===f&&(h=Math.min(h,b))),m[0]=(b-u)/l,m[1]=(y-d)/c,m[2]=(w-d)/c}g(this,Og,new Float32Array([u,d,l,c])),g(this,Fg,[h,f]),g(this,jg,v)}getOutlines(){a(this,rl).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of a(this,rl))t[3]?(e.push(...E(this,Yn,ZS).call(this,t)),E(this,Yn,TM).call(this,t)):(E(this,Yn,PM).call(this,t),e.push(...E(this,Yn,ZS).call(this,t)));return E(this,Yn,kM).call(this,e)}}Og=new WeakMap,Fg=new WeakMap,jg=new WeakMap,rl=new WeakMap,jr=new WeakMap,Yn=new WeakSet,kM=function(e){const t=[],s=new Set;for(const o of e){const[l,c,u]=o;t.push([l,c,o],[l,u,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),s.add(c),s.add(u)}const r=[];let i;for(;s.size>0;){const o=s.values().next().value;let[l,c,u,d,h]=o;s.delete(o);let f=l,p=c;for(i=[l,u],r.push(i);;){let v;if(s.has(d))v=d;else if(s.has(h))v=h;else break;s.delete(v),[l,c,u,d,h]=v,f!==l&&(i.push(f,p,l,p===c?c:u),f=l),p=p===c?u:c}i.push(f,p)}return new C5(r,a(this,Og),a(this,Fg),a(this,jg))},Pv=function(e){const t=a(this,jr);let s=0,r=t.length-1;for(;s<=r;){const i=s+r>>1,o=t[i][0];if(o===e)return i;o<e?s=i+1:r=i-1}return r+1},TM=function([,e,t]){const s=E(this,Yn,Pv).call(this,e);a(this,jr).splice(s,0,[e,t])},PM=function([,e,t]){const s=E(this,Yn,Pv).call(this,e);for(let r=s;r<a(this,jr).length;r++){const[i,o]=a(this,jr)[r];if(i!==e)break;if(i===e&&o===t){a(this,jr).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[i,o]=a(this,jr)[r];if(i!==e)break;if(i===e&&o===t){a(this,jr).splice(r,1);return}}},ZS=function(e){const[t,s,r]=e,i=[[t,s,r]],o=E(this,Yn,Pv).call(this,r);for(let l=0;l<o;l++){const[c,u]=a(this,jr)[l];for(let d=0,h=i.length;d<h;d++){const[,f,p]=i[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=c,p>u&&i.push([t,u,p])}}}return i};var Bg,Vh;class C5 extends Z{constructor(t,s,r,i){super();S(this,Bg);S(this,Vh);g(this,Vh,t),g(this,Bg,s),this.firstPoint=r,this.lastPoint=i}toSVGPath(){const t=[];for(const s of a(this,Vh)){let[r,i]=s;t.push(`M${r} ${i}`);for(let o=2;o<s.length;o+=2){const l=s[o],c=s[o+1];l===r?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${l}`),r=l)}t.push("Z")}return t.join(" ")}serialize([t,s,r,i],o){const l=[],c=r-t,u=i-s;for(const d of a(this,Vh)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=i-d[f+1]*u;l.push(h)}return l}get box(){return a(this,Bg)}get classNamesForOutlining(){return["highlightOutline"]}}Bg=new WeakMap,Vh=new WeakMap;class JS extends N0{newFreeDrawOutline(e,t,s,r,i,o){return new k5(e,t,s,r,i,o)}}class k5 extends _M{newOutliner(e,t,s,r,i,o=0){return new JS(e,t,s,r,i,o)}}var Wh,zg,Lo,ou,$g,os,Ug,Hg,au,Ps,Rs,cn,Gh,qh,Pn,Xh,or,Vg,ve,e1,Rv,RM,NM,MM,t1,Ql,dr,Ku,LM,Nv,Mv,DM,IM,OM,FM,jM;const De=class De extends Je{constructor(t){super({...t,name:"highlightEditor"});S(this,ve);S(this,Wh,null);S(this,zg,0);S(this,Lo);S(this,ou,null);S(this,$g,null);S(this,os,null);S(this,Ug,null);S(this,Hg,0);S(this,au,null);S(this,Ps,null);S(this,Rs,null);S(this,cn,!1);S(this,Gh,null);S(this,qh,null);S(this,Pn,null);S(this,Xh,"");S(this,or);S(this,Vg,"");this.color=t.color||De._defaultColor,g(this,or,t.thickness||De._defaultThickness),this.opacity=t.opacity||De._defaultOpacity,g(this,Lo,t.boxes||null),g(this,Vg,t.methodOfCreation||""),g(this,Xh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(g(this,cn,!0),E(this,ve,Rv).call(this,t),E(this,ve,Ql).call(this)):a(this,Lo)&&(g(this,Wh,t.anchorNode),g(this,zg,t.anchorOffset),g(this,Ug,t.focusNode),g(this,Hg,t.focusOffset),E(this,ve,e1).call(this),E(this,ve,Ql).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=De.prototype;return ye(this,"_keyboardManager",new uy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,cn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:a(this,or),methodOfCreation:a(this,Vg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;Je.initialize(t,s),De._defaultColor||(De._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case _e.HIGHLIGHT_COLOR:De._defaultColor=s;break;case _e.HIGHLIGHT_THICKNESS:De._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return a(this,qh)}get commentButtonPosition(){return a(this,Gh)}updateParams(t,s){switch(t){case _e.HIGHLIGHT_COLOR:E(this,ve,RM).call(this,s);break;case _e.HIGHLIGHT_THICKNESS:E(this,ve,NM).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[_e.HIGHLIGHT_COLOR,De._defaultColor],[_e.HIGHLIGHT_THICKNESS,De._defaultThickness]]}get propertiesToUpdate(){return[[_e.HIGHLIGHT_COLOR,this.color||De._defaultColor],[_e.HIGHLIGHT_THICKNESS,a(this,or)||De._defaultThickness],[_e.HIGHLIGHT_FREE,a(this,cn)]]}onUpdatedColor(){var t,s;(t=this.parent)==null||t.drawLayer.updateProperties(a(this,Rs),{root:{fill:this.color,"fill-opacity":this.opacity}}),(s=a(this,$g))==null||s.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",g(this,$g,new cm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,ve,Mv).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,E(this,ve,Mv).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){E(this,ve,t1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ve,Ql).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?E(this,ve,t1).call(this):t&&(E(this,ve,Ql).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var i,o,l;const{drawLayer:s}=this.parent;let r;a(this,cn)?(t=(t-this.rotation+360)%360,r=E(i=De,dr,Ku).call(i,a(this,Ps).box,t)):r=E(o=De,dr,Ku).call(o,[this.x,this.y,this.width,this.height],t),s.updateProperties(a(this,Rs),{bbox:r,root:{"data-main-rotation":t}}),s.updateProperties(a(this,Pn),{bbox:E(l=De,dr,Ku).call(l,a(this,os).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,Xh)&&(t.setAttribute("aria-label",a(this,Xh)),t.setAttribute("role","mark")),a(this,cn)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,ve,LM).bind(this),{signal:this._uiManager._signal});const s=g(this,au,document.createElement("div"));return t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=a(this,ou),this.setDims(this.width,this.height),i2(this,a(this,au),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,Pn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,Pn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,ve,Nv).call(this,!0);break;case 1:case 3:E(this,ve,Nv).call(this,!1);break}}select(){var t;super.select(),a(this,Pn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,Pn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,Pn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,Pn),{rootClass:{selected:!1}}),a(this,cn)||E(this,ve,Nv).call(this,!1))}get _mustFixPosition(){return!a(this,cn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,Rs),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,Pn),{rootClass:{hidden:!t}}))}static startHighlighting(t,s,{target:r,x:i,y:o}){const{x:l,y:c,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=v=>{h.abort(),E(this,dr,FM).call(this,t,v)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",pt,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ws,{signal:f}),r.addEventListener("pointermove",E(this,dr,OM).bind(this,t),{signal:f}),this._freeHighlight=new JS({x:i,y:o},[l,c,u,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,s,r){var m,b,y,w;let i=null;if(t instanceof hM){const{data:{quadPoints:x,rect:_,rotation:C,id:T,color:P,opacity:R,popupRef:M,richText:N,contentsObj:D,creationDate:F,modificationDate:$},parent:{page:{pageNumber:I}}}=t;i=t={annotationType:ce.HIGHLIGHT,color:Array.from(P),opacity:R,quadPoints:x,boxes:null,pageIndex:I-1,rect:_.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:N,comment:(D==null?void 0:D.str)||null,creationDate:F,modificationDate:$}}else if(t instanceof eE){const{data:{inkLists:x,rect:_,rotation:C,id:T,color:P,borderStyle:{rawWidth:R},popupRef:M,richText:N,contentsObj:D,creationDate:F,modificationDate:$},parent:{page:{pageNumber:I}}}=t;i=t={annotationType:ce.HIGHLIGHT,color:Array.from(P),thickness:R,inkLists:x,boxes:null,pageIndex:I-1,rect:_.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:N,comment:(D==null?void 0:D.str)||null,creationDate:F,modificationDate:$}}const{color:o,quadPoints:l,inkLists:c,opacity:u}=t,d=await super.deserialize(t,s,r);d.color=J.makeHexColor(...o),d.opacity=u||1,c&&g(d,or,t.thickness),d._initialData=i,t.comment&&d.setCommentData(t);const[h,f]=d.pageDimensions,[p,v]=d.pageTranslation;if(l){const x=g(d,Lo,[]);for(let _=0;_<l.length;_+=8)x.push({x:(l[_]-p)/h,y:1-(l[_+1]-v)/f,width:(l[_+2]-l[_])/h,height:(l[_+1]-l[_+5])/f});E(m=d,ve,e1).call(m),E(b=d,ve,Ql).call(b),d.rotate(d.rotation)}else if(c){g(d,cn,!0);const x=c[0],_={x:x[0]-p,y:f-(x[1]-v)},C=new JS(_,[0,0,h,f],1,a(d,or)/2,!0,.001);for(let R=0,M=x.length;R<M;R+=2)_.x=x[R]-p,_.y=f-(x[R+1]-v),C.add(_);const{id:T,clipPathId:P}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);E(y=d,ve,Rv).call(y,{highlightOutlines:C.getOutlines(),highlightId:T,clipPathId:P}),E(w=d,ve,Ql).call(w),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=Je._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:s,opacity:this.opacity,thickness:a(this,or),quadPoints:E(this,ve,DM).call(this),outlines:E(this,ve,IM).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!E(this,ve,jM).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Wh=new WeakMap,zg=new WeakMap,Lo=new WeakMap,ou=new WeakMap,$g=new WeakMap,os=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,au=new WeakMap,Ps=new WeakMap,Rs=new WeakMap,cn=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Pn=new WeakMap,Xh=new WeakMap,or=new WeakMap,Vg=new WeakMap,ve=new WeakSet,e1=function(){const t=new QS(a(this,Lo),.001);g(this,Ps,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,Ps).box;const s=new QS(a(this,Lo),.0025,.001,this._uiManager.direction==="ltr");g(this,os,s.getOutlines());const{firstPoint:r}=a(this,Ps);g(this,Gh,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:i}=a(this,os);g(this,qh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Rv=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var f,p;if(g(this,Ps,t),g(this,os,t.getNewOutline(a(this,or)/2+1.5,.0025)),s>=0)g(this,Rs,s),g(this,ou,r),this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),g(this,Pn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,os).box,path:{d:a(this,os).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,Rs),{bbox:E(f=De,dr,Ku).call(f,a(this,Ps).box,(v-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,Pn),{bbox:E(p=De,dr,Ku).call(p,a(this,os).box,v),path:{d:a(this,os).toSVGPath()}})}const[o,l,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=u;break;case 90:{const[v,m]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*m/v,this.height=u*v/m;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=u;break;case 270:{const[v,m]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*m/v,this.height=u*v/m;break}}const{firstPoint:d}=t;g(this,Gh,[(d[0]-o)/c,(d[1]-l)/u]);const{lastPoint:h}=a(this,os);g(this,qh,[(h[0]-o)/c,(h[1]-l)/u])},RM=function(t){const s=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:s.bind(this,t,De._defaultOpacity),undo:s.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_e.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},NM=function(t){const s=a(this,or),r=i=>{g(this,or,i),E(this,ve,MM).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_e.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},MM=function(t){a(this,cn)&&(E(this,ve,Rv).call(this,{highlightOutlines:a(this,Ps).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},t1=function(){a(this,Rs)===null||!this.parent||(this.parent.drawLayer.remove(a(this,Rs)),g(this,Rs,null),this.parent.drawLayer.remove(a(this,Pn)),g(this,Pn,null))},Ql=function(t=this.parent){a(this,Rs)===null&&({id:bt(this,Rs)._,clipPathId:bt(this,ou)._}=t.drawLayer.draw({bbox:a(this,Ps).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:a(this,cn)},path:{d:a(this,Ps).toSVGPath()}},!1,!0),g(this,Pn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,cn)},bbox:a(this,os).box,path:{d:a(this,os).toSVGPath()}},a(this,cn))),a(this,au)&&(a(this,au).style.clipPath=a(this,ou)))},dr=new WeakSet,Ku=function([t,s,r,i],o){switch(o){case 90:return[1-s-i,t,i,r];case 180:return[1-t-r,1-s-i,r,i];case 270:return[s,1-t-r,i,r]}return[t,s,r,i]},LM=function(t){De._keyboardManager.exec(this,t)},Nv=function(t){if(!a(this,Wh))return;const s=window.getSelection();t?s.setPosition(a(this,Wh),a(this,zg)):s.setPosition(a(this,Ug),a(this,Hg))},Mv=function(){return a(this,cn)?this.rotation:0},DM=function(){if(a(this,cn))return null;const[t,s]=this.pageDimensions,[r,i]=this.pageTranslation,o=a(this,Lo),l=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+r,v=(1-d)*s+i;l[c]=l[c+4]=p,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=p+h*t,l[c+5]=l[c+7]=v-f*s,c+=8}return l},IM=function(t){return a(this,Ps).serialize(t,E(this,ve,Mv).call(this))},OM=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},FM=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},jM=function(t){const{color:s}=this._initialData;return this.hasEditedComment||t.color.some((r,i)=>r!==s[i])},S(De,dr),z(De,"_defaultColor",null),z(De,"_defaultOpacity",1),z(De,"_defaultThickness",12),z(De,"_type","highlight"),z(De,"_editorType",ce.HIGHLIGHT),z(De,"_freeHighlightId",-1),z(De,"_freeHighlight",null),z(De,"_freeHighlightClipId","");let M0=De;var lu;class BM{constructor(){S(this,lu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){a(this,lu)[e]=t}toSVGProperties(){const e=a(this,lu);return g(this,lu,Object.create(null)),{root:e}}reset(){g(this,lu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ke("Not implemented")}}lu=new WeakMap;var Ns,Yh,Yt,cu,uu,il,ol,al,du,Re,n1,s1,r1,gp,zM,Lv,yp,Qu;const te=class te extends Je{constructor(t){super(t);S(this,Re);S(this,Ns,null);S(this,Yh);z(this,"_colorPicker",null);z(this,"_drawId",null);g(this,Yh,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(E(this,Re,n1).call(this,t),E(this,Re,gp).call(this))}static _mergeSVGProperties(t,s){const r=new Set(Object.keys(t));for(const[i,o]of Object.entries(s))r.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){Ke("Not implemented")}static get typesMap(){Ke("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,s){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,s),this._currentParent&&(a(te,Yt).updateProperty(r,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,s){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,s)}static get defaultPropertiesToUpdate(){const t=[],s=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)t.push([r,s[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:s}=this;for(const[r,i]of this.constructor.typesMap)t.push([r,s[i]]);return t}_updateProperty(t,s,r){const i=this._drawingOptions,o=i[s],l=c=>{var d;i.updateProperty(s,c);const u=a(this,Ns).updateProperty(s,c);u&&E(this,Re,yp).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,r),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(a(this,Ns).getPathResizingSVGProperties(E(this,Re,Lv).call(this)),{bbox:E(this,Re,Qu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(a(this,Ns).getPathResizedSVGProperties(E(this,Re,Lv).call(this)),{bbox:E(this,Re,Qu).call(this)}))}_onTranslating(t,s){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:E(this,Re,Qu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(a(this,Ns).getPathTranslatedSVGProperties(E(this,Re,Lv).call(this),this.parentDimensions),{bbox:E(this,Re,Qu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,Yh)&&(g(this,Yh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){E(this,Re,r1).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,Re,gp).call(this),E(this,Re,yp).call(this,a(this,Ns).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),E(this,Re,r1).call(this)):t&&(this._uiManager.addShouldRescale(this),E(this,Re,gp).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties({bbox:E(this,Re,Qu).call(this)},a(this,Ns).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,Re,yp).call(this,a(this,Ns).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,s;this._isCopy&&(t=this.x,s=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,s),r}static createDrawerInstance(t,s,r,i,o){Ke("Not implemented")}static startDrawing(t,s,r,i){var b;const{target:o,offsetX:l,offsetY:c,pointerId:u,pointerType:d}=i;if(a(te,ol)&&a(te,ol)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),v=g(te,cu,new AbortController),m=t.combinedSignal(v);if(a(te,il)||g(te,il,u),a(te,ol)??g(te,ol,d),window.addEventListener("pointerup",y=>{var w;a(te,il)===y.pointerId?this._endDraw(y):(w=a(te,al))==null||w.delete(y.pointerId)},{signal:m}),window.addEventListener("pointercancel",y=>{var w;a(te,il)===y.pointerId?this._currentParent.endDrawingSession():(w=a(te,al))==null||w.delete(y.pointerId)},{signal:m}),window.addEventListener("pointerdown",y=>{a(te,ol)===y.pointerType&&((a(te,al)||g(te,al,new Set)).add(y.pointerId),a(te,Yt).isCancellable()&&(a(te,Yt).removeLastElement(),a(te,Yt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ws,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",y=>{y.timeStamp===a(te,du)&&pt(y)},{signal:m}),t.toggleDrawing(),(b=s._editorUndoBar)==null||b.hide(),a(te,Yt)){t.drawLayer.updateProperties(this._currentDrawId,a(te,Yt).startNew(l,c,f,p,h));return}s.updateUIForDefaultProperties(this),g(te,Yt,this.createDrawerInstance(l,c,f,p,h)),g(te,uu,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(te,uu).toSVGProperties(),a(te,Yt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(g(te,du,-1),!a(te,Yt))return;const{offsetX:s,offsetY:r,pointerId:i}=t;if(a(te,il)===i){if(((o=a(te,al))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(te,Yt).add(s,r)),g(te,du,t.timeStamp),pt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,g(te,Yt,null),g(te,uu,null),g(te,ol,null),g(te,du,NaN)),a(te,cu)&&(a(te,cu).abort(),g(te,cu,null),g(te,il,NaN),g(te,al,null))}static _endDraw(t){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===s.div&&s.drawLayer.updateProperties(this._currentDrawId,a(te,Yt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=a(te,Yt),i=this._currentDrawId,o=r.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(i,r.setLastElement(o))},undo:()=>{s.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:_e.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(_e.DRAW_STEP),!a(te,Yt).isEmpty()){const{pageDimensions:[r,i],scale:o}=s,l=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(te,Yt).getOutlines(r*o,i*o,o,this._INNER_MARGIN),drawingOptions:a(te,uu),mustBeCommitted:!t});return this._cleanup(!0),l}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,s,r,i,o,l){Ke("Not implemented")}static async deserialize(t,s,r){var h,f;const{rawDims:{pageWidth:i,pageHeight:o,pageX:l,pageY:c}}=s.viewport,u=this.deserializeDraw(l,c,i,o,this._INNER_MARGIN,t),d=await super.deserialize(t,s,r);return d.createDrawingOptions(t),E(h=d,Re,n1).call(h,{drawOutlines:u}),E(f=d,Re,gp).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[s,r]=this.pageTranslation,[i,o]=this.pageDimensions;return a(this,Ns).serialize([s,r,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ns=new WeakMap,Yh=new WeakMap,Yt=new WeakMap,cu=new WeakMap,uu=new WeakMap,il=new WeakMap,ol=new WeakMap,al=new WeakMap,du=new WeakMap,Re=new WeakSet,n1=function({drawOutlines:t,drawId:s,drawingOptions:r}){g(this,Ns,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=E(this,Re,s1).call(this,t,this.parent),E(this,Re,yp).call(this,t.box)},s1=function(t,s){const{id:r}=s.drawLayer.draw(te._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},r1=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},gp=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,Re,s1).call(this,a(this,Ns),t)}},zM=function([t,s,r,i]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[s,1-t,r*(l/o),i*(o/l)];case 180:return[1-t,1-s,r,i];case 270:return[1-s,t,r*(l/o),i*(o/l)];default:return[t,s,r,i]}},Lv=function(){const{x:t,y:s,width:r,height:i,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-s,t,r*(o/l),i*(l/o)];case 180:return[1-t,1-s,r,i];case 270:return[s,1-t,r*(o/l),i*(l/o)];default:return[t,s,r,i]}},yp=function(t){[this.x,this.y,this.width,this.height]=E(this,Re,zM).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Qu=function(){const{x:t,y:s,width:r,height:i,rotation:o,parentRotation:l,parentDimensions:[c,u]}=this;switch((o*4+l)/90){case 1:return[1-s-i,t,i,r];case 2:return[1-t-r,1-s-i,r,i];case 3:return[s,1-t-r,i,r];case 4:return[t,s-r*(c/u),i*(u/c),r*(c/u)];case 5:return[1-s,t,r*(c/u),i*(u/c)];case 6:return[1-t-i*(u/c),1-s,i*(u/c),r*(c/u)];case 7:return[s-r*(c/u),1-t-i*(u/c),r*(c/u),i*(u/c)];case 8:return[t-r,s-i,r,i];case 9:return[1-s,t-r,i,r];case 10:return[1-t,1-s,r,i];case 11:return[s-i,1-t,i,r];case 12:return[t-i*(u/c),s,i*(u/c),r*(c/u)];case 13:return[1-s-r*(c/u),t-i*(u/c),r*(c/u),i*(u/c)];case 14:return[1-t,1-s-r*(c/u),i*(u/c),r*(c/u)];case 15:return[s,1-t,r*(c/u),i*(u/c)];default:return[t,s,r,i]}},z(te,"_currentDrawId",-1),z(te,"_currentParent",null),S(te,Yt,null),S(te,cu,null),S(te,uu,null),S(te,il,NaN),S(te,ol,null),S(te,al,null),S(te,du,NaN),z(te,"_INNER_MARGIN",3);let L0=te;var Ri,Kt,Qt,hu,Kh,zn,un,ar,fu,pu,mu,Qh,Dv;class T5{constructor(e,t,s,r,i,o){S(this,Qh);S(this,Ri,new Float64Array(6));S(this,Kt);S(this,Qt);S(this,hu);S(this,Kh);S(this,zn);S(this,un,"");S(this,ar,0);S(this,fu,new hy);S(this,pu);S(this,mu);g(this,pu,s),g(this,mu,r),g(this,hu,i),g(this,Kh,o),[e,t]=E(this,Qh,Dv).call(this,e,t);const l=g(this,Kt,[NaN,NaN,NaN,NaN,e,t]);g(this,zn,[e,t]),g(this,Qt,[{line:l,points:a(this,zn)}]),a(this,Ri).set(l,0)}updateProperty(e,t){e==="stroke-width"&&g(this,Kh,t)}isEmpty(){return!a(this,Qt)||a(this,Qt).length===0}isCancellable(){return a(this,zn).length<=10}add(e,t){[e,t]=E(this,Qh,Dv).call(this,e,t);const[s,r,i,o]=a(this,Ri).subarray(2,6),l=e-i,c=t-o;return Math.hypot(a(this,pu)*l,a(this,mu)*c)<=2?null:(a(this,zn).push(e,t),isNaN(s)?(a(this,Ri).set([i,o,e,t],2),a(this,Kt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,Ri)[0])&&a(this,Kt).splice(6,6),a(this,Ri).set([s,r,i,o,e,t],0),a(this,Kt).push(...Z.createBezierPoints(s,r,i,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(a(this,zn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,r,i){g(this,pu,s),g(this,mu,r),g(this,hu,i),[e,t]=E(this,Qh,Dv).call(this,e,t);const o=g(this,Kt,[NaN,NaN,NaN,NaN,e,t]);g(this,zn,[e,t]);const l=a(this,Qt).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),a(this,Qt).push({line:o,points:a(this,zn)}),a(this,Ri).set(o,0),g(this,ar,0),this.toSVGPath(),null}getLastElement(){return a(this,Qt).at(-1)}setLastElement(e){return a(this,Qt)?(a(this,Qt).push(e),g(this,Kt,e.line),g(this,zn,e.points),g(this,ar,0),{path:{d:this.toSVGPath()}}):a(this,fu).setLastElement(e)}removeLastElement(){if(!a(this,Qt))return a(this,fu).removeLastElement();a(this,Qt).pop(),g(this,un,"");for(let e=0,t=a(this,Qt).length;e<t;e++){const{line:s,points:r}=a(this,Qt)[e];g(this,Kt,s),g(this,zn,r),g(this,ar,0),this.toSVGPath()}return{path:{d:a(this,un)}}}toSVGPath(){const e=Z.svgRound(a(this,Kt)[4]),t=Z.svgRound(a(this,Kt)[5]);if(a(this,zn).length===2)return g(this,un,`${a(this,un)} M ${e} ${t} Z`),a(this,un);if(a(this,zn).length<=6){const r=a(this,un).lastIndexOf("M");g(this,un,`${a(this,un).slice(0,r)} M ${e} ${t}`),g(this,ar,6)}if(a(this,zn).length===4){const r=Z.svgRound(a(this,Kt)[10]),i=Z.svgRound(a(this,Kt)[11]);return g(this,un,`${a(this,un)} L ${r} ${i}`),g(this,ar,12),a(this,un)}const s=[];a(this,ar)===0&&(s.push(`M ${e} ${t}`),g(this,ar,6));for(let r=a(this,ar),i=a(this,Kt).length;r<i;r+=6){const[o,l,c,u,d,h]=a(this,Kt).slice(r,r+6).map(Z.svgRound);s.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}return g(this,un,a(this,un)+s.join(" ")),g(this,ar,a(this,Kt).length),a(this,un)}getOutlines(e,t,s,r){const i=a(this,Qt).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),a(this,fu).build(a(this,Qt),e,t,s,a(this,hu),a(this,Kh),r),g(this,Ri,null),g(this,Kt,null),g(this,Qt,null),g(this,un,null),a(this,fu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ri=new WeakMap,Kt=new WeakMap,Qt=new WeakMap,hu=new WeakMap,Kh=new WeakMap,zn=new WeakMap,un=new WeakMap,ar=new WeakMap,fu=new WeakMap,pu=new WeakMap,mu=new WeakMap,Qh=new WeakSet,Dv=function(e,t){return Z._normalizePoint(e,t,a(this,pu),a(this,mu),a(this,hu))};var $n,Wg,Gg,Ms,Ni,Mi,Zh,Jh,gu,pn,Zi,$M,UM,HM;class hy extends Z{constructor(){super(...arguments);S(this,pn);S(this,$n);S(this,Wg,0);S(this,Gg);S(this,Ms);S(this,Ni);S(this,Mi);S(this,Zh);S(this,Jh);S(this,gu)}build(t,s,r,i,o,l,c){g(this,Ni,s),g(this,Mi,r),g(this,Zh,i),g(this,Jh,o),g(this,gu,l),g(this,Gg,c??0),g(this,Ms,t),E(this,pn,UM).call(this)}get thickness(){return a(this,gu)}setLastElement(t){return a(this,Ms).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,Ms).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:s}of a(this,Ms)){if(t.push(`M${Z.svgRound(s[4])} ${Z.svgRound(s[5])}`),s.length===6){t.push("Z");continue}if(s.length===12&&isNaN(s[6])){t.push(`L${Z.svgRound(s[10])} ${Z.svgRound(s[11])}`);continue}for(let r=6,i=s.length;r<i;r+=6){const[o,l,c,u,d,h]=s.subarray(r,r+6).map(Z.svgRound);t.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,s,r,i],o){const l=[],c=[],[u,d,h,f]=E(this,pn,$M).call(this);let p,v,m,b,y,w,x,_,C;switch(a(this,Jh)){case 0:C=Z._rescale,p=t,v=s+i,m=r,b=-i,y=t+u*r,w=s+(1-d-f)*i,x=t+(u+h)*r,_=s+(1-d)*i;break;case 90:C=Z._rescaleAndSwap,p=t,v=s,m=r,b=i,y=t+d*r,w=s+u*i,x=t+(d+f)*r,_=s+(u+h)*i;break;case 180:C=Z._rescale,p=t+r,v=s,m=-r,b=i,y=t+(1-u-h)*r,w=s+d*i,x=t+(1-u)*r,_=s+(d+f)*i;break;case 270:C=Z._rescaleAndSwap,p=t+r,v=s+i,m=-r,b=-i,y=t+(1-d-f)*r,w=s+(1-u-h)*i,x=t+(1-d)*r,_=s+(1-u)*i;break}for(const{line:T,points:P}of a(this,Ms))l.push(C(T,p,v,m,b,o?new Array(T.length):null)),c.push(C(P,p,v,m,b,o?new Array(P.length):null));return{lines:l,points:c,rect:[y,w,x,_]}}static deserialize(t,s,r,i,o,{paths:{lines:l,points:c},rotation:u,thickness:d}){const h=[];let f,p,v,m,b;switch(u){case 0:b=Z._rescale,f=-t/r,p=s/i+1,v=1/r,m=-1/i;break;case 90:b=Z._rescaleAndSwap,f=-s/i,p=-t/r,v=1/i,m=1/r;break;case 180:b=Z._rescale,f=t/r+1,p=-s/i,v=-1/r,m=1/i;break;case 270:b=Z._rescaleAndSwap,f=s/i+1,p=t/r+1,v=-1/i,m=-1/r;break}if(!l){l=[];for(const w of c){const x=w.length;if(x===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const _=new Float32Array(3*(x-2));l.push(_);let[C,T,P,R]=w.subarray(0,4);_.set([NaN,NaN,NaN,NaN,C,T],0);for(let M=4;M<x;M+=2){const N=w[M],D=w[M+1];_.set(Z.createBezierPoints(C,T,P,R,N,D),(M-2)*3),[C,T,P,R]=[P,R,N,D]}}}for(let w=0,x=l.length;w<x;w++)h.push({line:b(l[w].map(_=>_??NaN),f,p,v,m),points:b(c[w].map(_=>_??NaN),f,p,v,m)});const y=new this.prototype.constructor;return y.build(h,r,i,1,u,d,o),y}get box(){return a(this,$n)}updateProperty(t,s){return t==="stroke-width"?E(this,pn,HM).call(this,s):null}updateParentDimensions([t,s],r){const[i,o]=E(this,pn,Zi).call(this);g(this,Ni,t),g(this,Mi,s),g(this,Zh,r);const[l,c]=E(this,pn,Zi).call(this),u=l-i,d=c-o,h=a(this,$n);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return g(this,Wg,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,$n).map(Z.svgRound).join(" ")}get defaultProperties(){const[t,s]=a(this,$n);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(s)}`}}}get rotationTransform(){const[,,t,s]=a(this,$n);let r=0,i=0,o=0,l=0,c=0,u=0;switch(a(this,Wg)){case 90:i=s/t,o=-t/s,c=t;break;case 180:r=-1,l=-1,c=t,u=s;break;case 270:i=-s/t,o=t/s,u=s;break;default:return""}return`matrix(${r} ${i} ${o} ${l} ${Z.svgRound(c)} ${Z.svgRound(u)})`}getPathResizingSVGProperties([t,s,r,i]){const[o,l]=E(this,pn,Zi).call(this),[c,u,d,h]=a(this,$n);if(Math.abs(d-o)<=Z.PRECISION||Math.abs(h-l)<=Z.PRECISION){const b=t+r/2-(c+d/2),y=s+i/2-(u+h/2);return{path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(s)}`,transform:`${this.rotationTransform} translate(${b} ${y})`}}}const f=(r-2*o)/(d-2*o),p=(i-2*l)/(h-2*l),v=d/r,m=h/i;return{path:{"transform-origin":`${Z.svgRound(c)} ${Z.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${m}) translate(${Z.svgRound(o)} ${Z.svgRound(l)}) scale(${f} ${p}) translate(${Z.svgRound(-o)} ${Z.svgRound(-l)})`}}}getPathResizedSVGProperties([t,s,r,i]){const[o,l]=E(this,pn,Zi).call(this),c=a(this,$n),[u,d,h,f]=c;if(c[0]=t,c[1]=s,c[2]=r,c[3]=i,Math.abs(h-o)<=Z.PRECISION||Math.abs(f-l)<=Z.PRECISION){const y=t+r/2-(u+h/2),w=s+i/2-(d+f/2);for(const{line:x,points:_}of a(this,Ms))Z._translate(x,y,w,x),Z._translate(_,y,w,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*o)/(h-2*o),v=(i-2*l)/(f-2*l),m=-p*(u+o)+t+o,b=-v*(d+l)+s+l;if(p!==1||v!==1||m!==0||b!==0)for(const{line:y,points:w}of a(this,Ms))Z._rescale(y,m,b,p,v,y),Z._rescale(w,m,b,p,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,s],r){const[i,o]=r,l=a(this,$n),c=t-l[0],u=s-l[1];if(a(this,Ni)===i&&a(this,Mi)===o)for(const{line:d,points:h}of a(this,Ms))Z._translate(d,c,u,d),Z._translate(h,c,u,h);else{const d=a(this,Ni)/i,h=a(this,Mi)/o;g(this,Ni,i),g(this,Mi,o);for(const{line:f,points:p}of a(this,Ms))Z._rescale(f,c,u,d,h,f),Z._rescale(p,c,u,d,h,p);l[2]*=d,l[3]*=h}return l[0]=t,l[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(s)}`}}}get defaultSVGProperties(){const t=a(this,$n);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Z.svgRound(t[0])} ${Z.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}$n=new WeakMap,Wg=new WeakMap,Gg=new WeakMap,Ms=new WeakMap,Ni=new WeakMap,Mi=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,gu=new WeakMap,pn=new WeakSet,Zi=function(t=a(this,gu)){const s=a(this,Gg)+t/2*a(this,Zh);return a(this,Jh)%180===0?[s/a(this,Ni),s/a(this,Mi)]:[s/a(this,Mi),s/a(this,Ni)]},$M=function(){const[t,s,r,i]=a(this,$n),[o,l]=E(this,pn,Zi).call(this,0);return[t+o,s+l,r-2*o,i-2*l]},UM=function(){const t=g(this,$n,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of a(this,Ms)){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6)J.pointBoundingBox(i[c],i[c+1],t);continue}let o=i[4],l=i[5];for(let c=6,u=i.length;c<u;c+=6){const[d,h,f,p,v,m]=i.subarray(c,c+6);J.bezierBoundingBox(o,l,d,h,f,p,v,m,t),o=v,l=m}}const[s,r]=E(this,pn,Zi).call(this);t[0]=Rn(t[0]-s,0,1),t[1]=Rn(t[1]-r,0,1),t[2]=Rn(t[2]+s,0,1),t[3]=Rn(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},HM=function(t){const[s,r]=E(this,pn,Zi).call(this);g(this,gu,t);const[i,o]=E(this,pn,Zi).call(this),[l,c]=[i-s,o-r],u=a(this,$n);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u};class Lw extends BM{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Je._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Lw(this._viewParameters);return e.updateAll(this),e}}var J0,VM;const pd=class pd extends L0{constructor(t){super({...t,name:"inkEditor"});S(this,J0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,s){Je.initialize(t,s),this._defaultDrawingOptions=new Lw(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return ye(this,"typesMap",new Map([[_e.INK_THICKNESS,"stroke-width"],[_e.INK_COLOR,"stroke"],[_e.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,s,r,i,o){return new T5(t,s,r,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,s,r,i,o,l){return hy.deserialize(t,s,r,i,o,l)}static async deserialize(t,s,r){let i=null;if(t instanceof eE){const{data:{inkLists:l,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:v,richText:m,contentsObj:b,creationDate:y,modificationDate:w},parent:{page:{pageNumber:x}}}=t;i=t={annotationType:ce.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:l},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:m,comment:(b==null?void 0:b.str)||null,creationDate:y,modificationDate:w}}const o=await super.deserialize(t,s,r);return o._initialData=i,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new R0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _e.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:s,parent:r}=this;s.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:s,opacity:r}){this._drawingOptions=pd.getDefaultDrawingOptions({stroke:J.makeHexColor(...t),"stroke-width":s,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Je._colorManager.convert(i),opacity:o,thickness:l,paths:{lines:s,points:r}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!E(this,J0,VM).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:s,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:s,popup:this.comment}),null}};J0=new WeakSet,VM=function(t){const{color:s,thickness:r,opacity:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==s[c])||t.thickness!==r||t.opacity!==i||t.pageIndex!==o},z(pd,"_type","ink"),z(pd,"_editorType",ce.INK),z(pd,"_defaultDrawingOptions",null);let i1=pd;class o1 extends hy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const qy=8,Gf=3;var yu,Ie,a1,Br,WM,GM,l1,Iv,qM,XM,YM,c1,u1,KM;class Fi{static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:r},i,o,l,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${s} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:m,actualBoundingBoxDescent:b,fontBoundingBoxAscent:y,fontBoundingBoxDescent:w,width:x}=d.measureText(e),_=1.5,C=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,x)*_),T=Math.ceil(Math.max(Math.abs(m)+Math.abs(b)||h,Math.abs(y)+Math.abs(w)||h)*_);u=new OffscreenCanvas(C,T),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,C,T),d.fillStyle="black",d.fillText(e,C*(_-1)/2,T*(3-_)/2);const P=E(this,Ie,c1).call(this,d.getImageData(0,0,C,T).data),R=E(this,Ie,YM).call(this,P),M=E(this,Ie,u1).call(this,R),N=E(this,Ie,l1).call(this,P,C,T,M);return this.processDrawnLines({lines:{curves:N,width:C,height:T},pageWidth:i,pageHeight:o,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,s,r,i){const[o,l,c]=E(this,Ie,KM).call(this,e),[u,d]=E(this,Ie,XM).call(this,o,l,c,Math.hypot(l,c)*a(this,yu).sigmaSFactor,a(this,yu).sigmaR,a(this,yu).kernelSize),h=E(this,Ie,u1).call(this,d),f=E(this,Ie,l1).call(this,u,l,c,h);return this.processDrawnLines({lines:{curves:f,width:l,height:c},pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:o,areContours:l}){r%180!==0&&([t,s]=[s,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,s/d),v=p/t,m=p/s,b=[];for(const{points:w}of c){const x=o?E(this,Ie,qM).call(this,w):w;if(!x)continue;b.push(x);const _=x.length,C=new Float32Array(_),T=new Float32Array(3*(_===2?2:_-2));if(f.push({line:T,points:C}),_===2){C[0]=x[0]*v,C[1]=x[1]*m,T.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[P,R,M,N]=x;P*=v,R*=m,M*=v,N*=m,C.set([P,R,M,N],0),T.set([NaN,NaN,NaN,NaN,P,R],0);for(let D=4;D<_;D+=2){const F=C[D]=x[D]*v,$=C[D+1]=x[D+1]*m;T.set(Z.createBezierPoints(P,R,M,N,F,$),(D-2)*3),[P,R,M,N]=[M,N,F,$]}}if(f.length===0)return null;const y=l?new o1:new hy;return y.build(f,t,s,1,r,l?0:h,i),{outline:y,newCurves:b,areContours:l,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:r,height:i}){let o=1/0,l=-1/0,c=0;for(const x of e){c+=x.length;for(let _=2,C=x.length;_<C;_++){const T=x[_]-x[_-2];o=Math.min(o,T),l=Math.max(l,T)}}let u;o>=-128&&l<=127?u=Int8Array:o>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=qy+Gf*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=i,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(s??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const v=new CompressionStream("deflate-raw"),m=v.writable.getWriter();await m.ready,m.write(f);const b=u.prototype.constructor;for(const x of e){const _=new b(x.length-2);for(let C=2,T=x.length;C<T;C++)_[C-2]=x[C]-x[C-2];m.write(_)}m.close();const y=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(y);return qN(w)}static async decompressSignature(e){try{const t=Jz(e),{readable:s,writable:r}=new DecompressionStream("deflate-raw"),i=r.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let o=null,l=0;for await(const x of s)o||(o=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),o.set(x,l),l+=x.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],v=c[6],m=c[7],b=[],y=(qy+Gf*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,y);break}l=0;for(let x=0;x<v;x++){const _=c[Gf*x+qy],C=new Float32Array(_+2);b.push(C);for(let T=0;T<Gf-1;T++)C[T]=c[Gf*x+qy+T+1];for(let T=0;T<_;T++)C[T+2]=C[T]+w[l++]}return{areContours:f,thickness:p,outlines:b,width:d,height:h}}catch(t){return ue(`decompressSignature: ${t}`),null}}}yu=new WeakMap,Ie=new WeakSet,a1=function(e,t,s,r){return s-=e,r-=t,s===0?r>0?0:4:s===1?r+6:2-r},Br=new WeakMap,WM=function(e,t,s,r,i,o,l){const c=E(this,Ie,a1).call(this,s,r,i,o);for(let u=0;u<8;u++){const d=(-u+c-l+16)%8,h=a(this,Br)[2*d],f=a(this,Br)[2*d+1];if(e[(s+h)*t+(r+f)]!==0)return d}return-1},GM=function(e,t,s,r,i,o,l){const c=E(this,Ie,a1).call(this,s,r,i,o);for(let u=0;u<8;u++){const d=(u+c+l+16)%8,h=a(this,Br)[2*d],f=a(this,Br)[2*d+1];if(e[(s+h)*t+(r+f)]!==0)return d}return-1},l1=function(e,t,s,r){const i=e.length,o=new Int32Array(i);for(let d=0;d<i;d++)o[d]=e[d]<=r?1:0;for(let d=1;d<s-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*s-1-d]=0;let l=1,c;const u=[];for(let d=1;d<s-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let v=d,m=h;if(p===1&&o[f-1]===0)l+=1,m-=1;else if(p>=1&&o[f+1]===0)l+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[h,d],y=m===h+1,w={isHole:y,points:b,id:l,parent:0};u.push(w);let x;for(const D of u)if(D.id===c){x=D;break}x?x.isHole?w.parent=y?x.parent:c:w.parent=y?c:x.parent:w.parent=y?c:0;const _=E(this,Ie,WM).call(this,o,t,d,h,v,m,0);if(_===-1){o[f]=-l,o[f]!==1&&(c=Math.abs(o[f]));continue}let C=a(this,Br)[2*_],T=a(this,Br)[2*_+1];const P=d+C,R=h+T;v=P,m=R;let M=d,N=h;for(;;){const D=E(this,Ie,GM).call(this,o,t,M,N,v,m,1);C=a(this,Br)[2*D],T=a(this,Br)[2*D+1];const F=M+C,$=N+T;b.push($,F);const I=M*t+N;if(o[I+1]===0?o[I]=-l:o[I]===1&&(o[I]=l),F===d&&$===h&&M===P&&N===R){o[f]!==1&&(c=Math.abs(o[f]));break}else v=M,m=N,M=F,N=$}}}return u},Iv=function(e,t,s,r){if(s-t<=4){for(let P=t;P<s-2;P+=2)r.push(e[P],e[P+1]);return}const i=e[t],o=e[t+1],l=e[s-4]-i,c=e[s-3]-o,u=Math.hypot(l,c),d=l/u,h=c/u,f=d*o-h*i,p=c/l,v=1/u,m=Math.atan(p),b=Math.cos(m),y=Math.sin(m),w=v*(Math.abs(b)+Math.abs(y)),x=v*(1-w+w**2),_=Math.max(Math.atan(Math.abs(y+b)*x),Math.atan(Math.abs(y-b)*x));let C=0,T=t;for(let P=t+2;P<s-2;P+=2){const R=Math.abs(f-d*e[P+1]+h*e[P]);R>C&&(T=P,C=R)}C>(u*_)**2?(E(this,Ie,Iv).call(this,e,t,T+2,r),E(this,Ie,Iv).call(this,e,T,s,r)):r.push(i,o)},qM=function(e){const t=[],s=e.length;return E(this,Ie,Iv).call(this,e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t},XM=function(e,t,s,r,i,o){const l=new Float32Array(o**2),c=-2*r**2,u=o>>1;for(let m=0;m<o;m++){const b=(m-u)**2;for(let y=0;y<o;y++)l[m*o+y]=Math.exp((b+(y-u)**2)/c)}const d=new Float32Array(256),h=-2*i**2;for(let m=0;m<256;m++)d[m]=Math.exp(m**2/h);const f=e.length,p=new Uint8Array(f),v=new Uint32Array(256);for(let m=0;m<s;m++)for(let b=0;b<t;b++){const y=m*t+b,w=e[y];let x=0,_=0;for(let T=0;T<o;T++){const P=m+T-u;if(!(P<0||P>=s))for(let R=0;R<o;R++){const M=b+R-u;if(M<0||M>=t)continue;const N=e[P*t+M],D=l[T*o+R]*d[Math.abs(N-w)];x+=N*D,_+=D}}const C=p[y]=Math.round(x/_);v[C]++}return[p,v]},YM=function(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t},c1=function(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let l=0,c=s.length;l<c;l++){const u=s[l]=e[l<<2];r=Math.max(r,u),i=Math.min(i,u)}const o=255/(r-i);for(let l=0,c=s.length;l<c;l++)s[l]=(s[l]-i)*o;return s},u1=function(e){let t,s=-1/0,r=-1/0;const i=e.findIndex(c=>c!==0);let o=i,l=i;for(t=i;t<256;t++){const c=e[t];c>s&&(t-o>r&&(r=t-o,l=t-1),s=c,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},KM=function(e){const t=e,{width:s,height:r}=e,{maxDim:i}=a(this,yu);let o=s,l=r;if(s>i||r>i){let f=s,p=r,v=Math.log2(Math.max(s,r)/i);const m=Math.floor(v);v=v===m?m-1:m;for(let y=0;y<v;y++){o=Math.ceil(f/2),l=Math.ceil(p/2);const w=new OffscreenCanvas(o,l);w.getContext("2d").drawImage(e,0,0,f,p,0,0,o,l),f=o,p=l,e!==t&&e.close(),e=w.transferToImageBitmap()}const b=Math.min(i/o,i/l);o=Math.round(o*b),l=Math.round(l*b)}const u=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,l);const d=u.getImageData(0,0,o,l).data;return[E(this,Ie,c1).call(this,d),o,l]},S(Fi,Ie),S(Fi,yu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(Fi,Br,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class nE extends BM{constructor(){super(),super.updateProperties({fill:Je._defaultLineColor,"stroke-width":0})}clone(){const e=new nE;return e.updateAll(this),e}}class sE extends Lw{constructor(e){super(e),super.updateProperties({stroke:Je._defaultLineColor,"stroke-width":1})}clone(){const e=new sE(this._viewParameters);return e.updateAll(this),e}}var ll,Li,cl,vu;const gs=class gs extends L0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,ll,!1);S(this,Li,null);S(this,cl,null);S(this,vu,null);this._willKeepAspectRatio=!0,g(this,cl,t.signatureData||null),g(this,Li,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,s){Je.initialize(t,s),this._defaultDrawingOptions=new nE,this._defaultDrawnSignatureOptions=new sE(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return ye(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,Li)}}static computeTelemetryFinalData(t){const s=t.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,s;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,s=this.y),super.render(),this._drawId===null)if(a(this,cl)){const{lines:i,mustSmooth:o,areContours:l,description:c,uuid:u,heightInPage:d}=a(this,cl),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,v=Fi.processDrawnLines({lines:i,pageWidth:h,pageHeight:f,rotation:p,innerMargin:gs._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:a(this,Li)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,s)),this.div}setUuid(t){g(this,vu,t),this.addEditToolbar()}getUuid(){return a(this,vu)}get description(){return a(this,Li)}set description(t){g(this,Li,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(s=>{s==null||s.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:s,thickness:r,width:i,height:o}=a(this,cl),l=Math.max(i,o),c=Fi.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:i,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,s,r,i){const{x:o,y:l}=this,{outline:c}=g(this,cl,t);g(this,ll,c instanceof o1),this.description=r;let u;a(this,ll)?u=gs.getDefaultDrawingOptions():(u=gs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let h=s/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return Fi.process(t,s,r,i,gs._INNER_MARGIN)}getFromText(t,s){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return Fi.extractContoursFromText(t,s,r,i,o,gs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return Fi.processDrawnLines({lines:t,pageWidth:s,pageHeight:r,rotation:i,innerMargin:gs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:s}){t?this._drawingOptions=gs.getDefaultDrawingOptions():(this._drawingOptions=gs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:s,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:a(this,ll),color:[0,0,0],thickness:a(this,ll)?0:i});return this.addComment(o),t?(o.paths={lines:s,points:r},o.uuid=a(this,vu),o.isCopy=!0):o.lines=s,a(this,Li)&&(o.accessibilityData={type:"Figure",alt:a(this,Li)}),o}static deserializeDraw(t,s,r,i,o,l){return l.areContours?o1.deserialize(t,s,r,i,o,l):hy.deserialize(t,s,r,i,o,l)}static async deserialize(t,s,r){var o;const i=await super.deserialize(t,s,r);return g(i,ll,t.areContours),i.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",g(i,vu,t.uuid),i}};ll=new WeakMap,Li=new WeakMap,cl=new WeakMap,vu=new WeakMap,z(gs,"_type","signature"),z(gs,"_editorType",ce.SIGNATURE),z(gs,"_defaultDrawingOptions",null);let d1=gs;var at,Zt,ul,Do,dl,ef,Io,wu,Di,Ls,tf,Ne,vp,wp,Ov,Fv,jv,f1,Bv,QM;class h1 extends Je{constructor(t){super({...t,name:"stampEditor"});S(this,Ne);S(this,at,null);S(this,Zt,null);S(this,ul,null);S(this,Do,null);S(this,dl,null);S(this,ef,"");S(this,Io,null);S(this,wu,!1);S(this,Di,null);S(this,Ls,!1);S(this,tf,!1);g(this,Do,t.bitmapUrl),g(this,dl,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,s){Je.initialize(t,s)}static isHandlingMimeForPasting(t){return _0.includes(t)}static paste(t,s){s.pasteEditor({mode:ce.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:o,height:l,channels:i.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),s&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;a(this,Zt)&&(g(this,at,null),this._uiManager.imageManager.deleteId(a(this,Zt)),(t=a(this,Io))==null||t.remove(),g(this,Io,null),a(this,Di)&&(clearTimeout(a(this,Di)),g(this,Di,null))),super.remove()}rebuild(){if(!this.parent){a(this,Zt)&&E(this,Ne,Ov).call(this);return}super.rebuild(),this.div!==null&&(a(this,Zt)&&a(this,Io)===null&&E(this,Ne,Ov).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,ul)||a(this,at)||a(this,Do)||a(this,dl)||a(this,Zt)||a(this,wu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;return this._isCopy&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,wu)||(a(this,at)?E(this,Ne,Fv).call(this):E(this,Ne,Ov).call(this)),this._isCopy&&this._moveAfterPaste(t,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,s){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,s);s.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(g(this,Zt,r),i&&g(this,at,i),g(this,wu,!1),E(this,Ne,Fv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,Di)!==null&&clearTimeout(a(this,Di)),g(this,Di,setTimeout(()=>{g(this,Di,null),E(this,Ne,f1).call(this)},200))}copyCanvas(t,s,r=!1){t||(t=224);const{width:i,height:o}=a(this,at),l=new Zr;let c=a(this,at),u=i,d=o,h=null;if(s){if(i>s||o>s){const P=Math.min(s/i,s/o);u=Math.floor(i*P),d=Math.floor(o*P)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*l.sx),v=h.height=Math.ceil(d*l.sy);a(this,Ls)||(c=E(this,Ne,jv).call(this,p,v));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let b="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":n$.isDarkMode&&(b="#8f8f9d",y="#42414d");const w=15,x=w*l.sx,_=w*l.sy,C=new OffscreenCanvas(x*2,_*2),T=C.getContext("2d");T.fillStyle=b,T.fillRect(0,0,x*2,_*2),T.fillStyle=y,T.fillRect(0,0,x,_),T.fillRect(x,_,x,_),m.fillStyle=m.createPattern(C,"repeat"),m.fillRect(0,0,p,v),m.drawImage(c,0,0,c.width,c.height,0,0,p,v)}let f=null;if(r){let p,v;if(l.symmetric&&c.width<t&&c.height<t)p=c.width,v=c.height;else if(c=a(this,at),i>t||o>t){const y=Math.min(t/i,t/o);p=Math.floor(i*y),v=Math.floor(o*y),a(this,Ls)||(c=E(this,Ne,jv).call(this,p,v))}const b=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,p,v),f={width:p,height:v,data:b.getImageData(0,0,p,v).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,s,r){var b;let i=null,o=!1;if(t instanceof fM){const{data:{rect:y,rotation:w,id:x,structParent:_,popupRef:C,richText:T,contentsObj:P,creationDate:R,modificationDate:M},container:N,parent:{page:{pageNumber:D}},canvas:F}=t;let $,I;F?(delete t.canvas,{id:$,bitmap:I}=r.imageManager.getFromCanvas(N.id,F),F.remove()):(o=!0,t._hasNoCanvas=!0);const G=((b=await s._structTree.getAriaAttributes(`${VA}${x}`))==null?void 0:b.get("aria-label"))||"";i=t={annotationType:ce.STAMP,bitmapId:$,bitmap:I,pageIndex:D-1,rect:y.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:_,popupRef:C,richText:T,comment:(P==null?void 0:P.str)||null,creationDate:R,modificationDate:M}}const l=await super.deserialize(t,s,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(r.addMissingCanvas(t.id,l),g(l,wu,!0)):h&&r.imageManager.isValidId(h)?(g(l,Zt,h),u&&g(l,at,u)):g(l,Do,d),g(l,Ls,f);const[v,m]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/m,p&&(l.altTextData=p),l._initialData=i,t.comment&&l.setCommentData(t),g(l,tf,!!i),l}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:a(this,Zt),isSvg:a(this,Ls)});if(this.addComment(r),t)return r.bitmapUrl=E(this,Ne,Bv).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=E(this,Ne,QM).call(this,r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(s===null)return r;s.stamps||(s.stamps=new Map);const l=a(this,Ls)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(a(this,Zt)))s.stamps.set(a(this,Zt),{area:l,serialized:r}),r.bitmap=E(this,Ne,Bv).call(this,!1);else if(a(this,Ls)){const c=s.stamps.get(a(this,Zt));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=E(this,Ne,Bv).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}at=new WeakMap,Zt=new WeakMap,ul=new WeakMap,Do=new WeakMap,dl=new WeakMap,ef=new WeakMap,Io=new WeakMap,wu=new WeakMap,Di=new WeakMap,Ls=new WeakMap,tf=new WeakMap,Ne=new WeakSet,vp=function(t,s=!1){if(!t){this.remove();return}g(this,at,t.bitmap),s||(g(this,Zt,t.id),g(this,Ls,t.isSvg)),t.file&&g(this,ef,t.file.name),E(this,Ne,Fv).call(this)},wp=function(){if(g(this,ul,null),this._uiManager.enableWaiting(!1),!!a(this,Io)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,at)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,at)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ov=function(){if(a(this,Zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,Zt)).then(r=>E(this,Ne,vp).call(this,r,!0)).finally(()=>E(this,Ne,wp).call(this));return}if(a(this,Do)){const r=a(this,Do);g(this,Do,null),this._uiManager.enableWaiting(!0),g(this,ul,this._uiManager.imageManager.getFromUrl(r).then(i=>E(this,Ne,vp).call(this,i)).finally(()=>E(this,Ne,wp).call(this)));return}if(a(this,dl)){const r=a(this,dl);g(this,dl,null),this._uiManager.enableWaiting(!0),g(this,ul,this._uiManager.imageManager.getFromFile(r).then(i=>E(this,Ne,vp).call(this,i)).finally(()=>E(this,Ne,wp).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=_0.join(",");const s=this._uiManager._signal;g(this,ul,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,Ne,vp).call(this,i)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>E(this,Ne,wp).call(this))),t.click()},Fv=function(){var u;const{div:t}=this;let{width:s,height:r}=a(this,at);const[i,o]=this.pageDimensions,l=.75;if(this.width)s=this.width*i,r=this.height*o;else if(s>l*i||r>l*o){const d=Math.min(l*i/s,l*o/r);s*=d,r*=d}this._uiManager.enableWaiting(!1);const c=g(this,Io,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=s/i,this.height=r/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),E(this,Ne,f1).call(this),a(this,tf)||(this.parent.addUndoableEditor(this),g(this,tf,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,ef)&&this.div.setAttribute("aria-description",a(this,ef)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},jv=function(t,s){const{width:r,height:i}=a(this,at);let o=r,l=i,c=a(this,at);for(;o>2*t||l>2*s;){const u=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*s&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(o,l);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,l),c=h.transferToImageBitmap()}return c},f1=function(){const[t,s]=this.parentDimensions,{width:r,height:i}=this,o=new Zr,l=Math.ceil(r*t*o.sx),c=Math.ceil(i*s*o.sy),u=a(this,Io);if(!u||u.width===l&&u.height===c)return;u.width=l,u.height=c;const d=a(this,Ls)?a(this,at):E(this,Ne,jv).call(this,l,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,l,c)},Bv=function(t){if(t){if(a(this,Ls)){const i=this._uiManager.imageManager.getSvgUrl(a(this,Zt));if(i)return i}const s=document.createElement("canvas");return{width:s.width,height:s.height}=a(this,at),s.getContext("2d").drawImage(a(this,at),0,0),s.toDataURL()}if(a(this,Ls)){const[s,r]=this.pageDimensions,i=Math.round(this.width*s*Zo.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Zo.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(i,o);return l.getContext("2d").drawImage(a(this,at),0,0,a(this,at).width,a(this,at).height,0,0,i,o),l.transferToImageBitmap()}return structuredClone(a(this,at))},QM=function(t){var l;const{pageIndex:s,accessibilityData:{altText:r}}=this._initialData,i=t.pageIndex===s,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},z(h1,"_type","stamp"),z(h1,"_editorType",ce.STAMP);var bu,nf,hl,fl,Oo,as,pl,sf,rf,zr,Fo,Jt,jo,ml,of,se,gl,Ye,p1,ZM,ai,m1,g1,zv;const _r=class _r{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:i,annotationLayer:o,drawLayer:l,textLayer:c,viewport:u,l10n:d}){S(this,Ye);S(this,bu);S(this,nf,!1);S(this,hl,null);S(this,fl,null);S(this,Oo,null);S(this,as,new Map);S(this,pl,!1);S(this,sf,!1);S(this,rf,!1);S(this,zr,null);S(this,Fo,null);S(this,Jt,null);S(this,jo,null);S(this,ml,null);S(this,of,-1);S(this,se);const h=[...a(_r,gl).values()];if(!_r._initialized){_r._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),g(this,se,e),this.pageIndex=t,this.div=s,g(this,bu,i),g(this,hl,o),this.viewport=u,g(this,Jt,c),this.drawLayer=l,this._structTree=r,a(this,se).addLayer(this)}get isEmpty(){return a(this,as).size===0}get isInvisible(){return this.isEmpty&&a(this,se).getMode()===ce.NONE}updateToolbar(e){a(this,se).updateToolbar(e)}updateMode(e=a(this,se).getMode()){switch(E(this,Ye,zv).call(this),e){case ce.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ce.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ce.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ce.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const s of a(_r,gl).values())t.toggle(`${s._type}Editing`,e===s._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Jt))==null?void 0:t.div)}setEditingState(e){a(this,se).setEditingState(e)}addCommands(e){a(this,se).addCommands(e)}cleanUndoStack(e){a(this,se).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,hl))==null||t.div.classList.toggle("disabled",!e)}async enable(){var s;g(this,rf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(s=a(this,ml))==null||s.abort(),g(this,ml,null);const e=new Set;for(const r of a(this,Ye,p1))r.enableEditing(),r.show(!0),r.annotationElementId&&(a(this,se).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=a(this,hl);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),a(this,se).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}g(this,rf,!1),a(this,se)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var s;if(g(this,sf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),a(this,Jt)&&!a(this,ml)){g(this,ml,new AbortController);const r=a(this,se).combinedSignal(a(this,ml));a(this,Jt).div.addEventListener("pointerdown",i=>{const{clientX:l,clientY:c,timeStamp:u}=i,d=a(this,of);if(u-d>500){g(this,of,u);return}g(this,of,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const v=new RegExp(`^${sm}[0-9]+$`);for(const b of f)if(v.test(b.id)){p=b.id;break}if(!p)return;const m=a(this,as).get(p);(m==null?void 0:m.annotationElementId)===null&&(i.stopPropagation(),i.preventDefault(),m.dblclick(i))},{signal:r,capture:!0})}const e=a(this,hl);if(e){const r=new Map,i=new Map;for(const l of a(this,Ye,p1)){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){r.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(s=this.getEditableAnnotation(l.annotationElementId))==null||s.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(a(this,se).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=i.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=r.get(c),u&&(a(this,se).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}E(this,Ye,zv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const r of a(_r,gl).values())t.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),g(this,sf,!1)}getEditableAnnotation(e){var t;return((t=a(this,hl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,se).getActive()!==e&&a(this,se).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Jt))!=null&&e.div&&!a(this,jo)){g(this,jo,new AbortController);const t=a(this,se).combinedSignal(a(this,jo));a(this,Jt).div.addEventListener("pointerdown",E(this,Ye,ZM).bind(this),{signal:t}),a(this,Jt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Jt))!=null&&e.div&&a(this,jo)&&(a(this,jo).abort(),g(this,jo,null),a(this,Jt).div.classList.remove("highlighting"))}enableClick(){if(a(this,fl))return;g(this,fl,new AbortController);const e=a(this,se).combinedSignal(a(this,fl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,fl))==null||e.abort(),g(this,fl,null)}attach(e){a(this,as).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,se).isDeletedAnnotationElement(t)&&a(this,se).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,as).delete(e.id),(t=a(this,bu))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,sf)&&e.annotationElementId&&a(this,se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,se).addDeletedAnnotationElement(e.annotationElementId),Je.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,rf)),a(this,se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,Oo)&&(e._focusEventsAllowed=!1,g(this,Oo,setTimeout(()=>{g(this,Oo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,se)._signal}),t.focus())},0))),e._structTreeParentId=(s=a(this,bu))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getEditorByUID(e){for(const t of a(this,as).values())if(t.uid===e)return t;return null}getNextId(){return a(this,se).getId()}combinedSignal(e){return a(this,se).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,Ye,ai))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,se).updateMode(e.mode);const{offsetX:s,offsetY:r}=E(this,Ye,g1).call(this),i=this.getNextId(),o=E(this,Ye,m1).call(this,{parent:this,id:i,x:s,y:r,uiManager:a(this,se),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=a(_r,gl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,se)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),i=E(this,Ye,m1).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:a(this,se),isCentered:t,...s});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(E(this,Ye,g1).call(this),!0,e)}setSelected(e){a(this,se).setSelected(e)}toggleSelected(e){a(this,se).toggleSelected(e)}unselect(e){a(this,se).unselect(e)}pointerup(e){var r;const{isMac:t}=sn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,pl)||(g(this,pl,!1),(r=a(this,Ye,ai))!=null&&r.isDrawer&&a(this,Ye,ai).supportMultipleDrawings))return;if(!a(this,nf)){g(this,nf,!0);return}const s=a(this,se).getMode();if(s===ce.STAMP||s===ce.SIGNATURE){a(this,se).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(a(this,se).getMode()===ce.HIGHLIGHT&&this.enableTextSelection(),a(this,pl)){g(this,pl,!1);return}const{isMac:t}=sn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(g(this,pl,!0),(r=a(this,Ye,ai))!=null&&r.isDrawer){this.startDrawingSession(e);return}const s=a(this,se).getActive();g(this,nf,!s||s.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,zr)){a(this,Ye,ai).startDrawing(this,a(this,se),!1,e);return}a(this,se).setCurrentDrawingSession(this),g(this,zr,new AbortController);const t=a(this,se).combinedSignal(a(this,zr));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(g(this,Fo,null),this.commitOrRemove())},{signal:t}),a(this,Ye,ai).startDrawing(this,a(this,se),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&g(this,Fo,t);return}a(this,Fo)&&setTimeout(()=>{var t;(t=a(this,Fo))==null||t.focus(),g(this,Fo,null)},0)}endDrawingSession(e=!1){return a(this,zr)?(a(this,se).setCurrentDrawingSession(null),a(this,zr).abort(),g(this,zr,null),g(this,Fo,null),a(this,Ye,ai).endDrawing(e)):null}findNewParent(e,t,s){const r=a(this,se).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return a(this,zr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,zr)&&a(this,Ye,ai).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,se).getActive())==null?void 0:e.parent)===this&&(a(this,se).commitOrRemove(),a(this,se).setActiveEditor(null)),a(this,Oo)&&(clearTimeout(a(this,Oo)),g(this,Oo,null));for(const s of a(this,as).values())(t=a(this,bu))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,a(this,as).clear(),a(this,se).removeLayer(this)}render({viewport:e}){this.viewport=e,Fl(this.div,e);for(const t of a(this,se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,se).commitOrRemove(),E(this,Ye,zv).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Fl(this.div,{rotation:s}),t!==s)for(const r of a(this,as).values())r.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,se).viewParameters.realScale}};bu=new WeakMap,nf=new WeakMap,hl=new WeakMap,fl=new WeakMap,Oo=new WeakMap,as=new WeakMap,pl=new WeakMap,sf=new WeakMap,rf=new WeakMap,zr=new WeakMap,Fo=new WeakMap,Jt=new WeakMap,jo=new WeakMap,ml=new WeakMap,of=new WeakMap,se=new WeakMap,gl=new WeakMap,Ye=new WeakSet,p1=function(){return a(this,as).size!==0?a(this,as).values():a(this,se).getEditors(this.pageIndex)},ZM=function(e){a(this,se).unselectAll();const{target:t}=e;if(t===a(this,Jt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Jt).div.contains(t)){const{isMac:s}=sn.platform;if(e.button!==0||e.ctrlKey&&s)return;a(this,se).showAllEditors("highlight",!0,!0),a(this,Jt).div.classList.add("free"),this.toggleDrawing(),M0.startHighlighting(this,a(this,se).direction==="ltr",{target:a(this,Jt).div,x:e.x,y:e.y}),a(this,Jt).div.addEventListener("pointerup",()=>{a(this,Jt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,se)._signal}),e.preventDefault()}},ai=function(){return a(_r,gl).get(a(this,se).getMode())},m1=function(e){const t=a(this,Ye,ai);return t?new t.prototype.constructor(e):null},g1=function(){const{x:e,y:t,width:s,height:r}=this.boundingClientRect,i=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+s),c=Math.min(window.innerHeight,t+r),u=(i+l)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},zv=function(){for(const e of a(this,as).values())e.isEmpty()&&e.remove()},z(_r,"_initialized",!1),S(_r,gl,new Map([YS,i1,h1,M0,d1].map(e=>[e._editorType,e])));let D0=_r;var $r,Un,xu,qg,ew,JM,Wi,y1,eL,v1;const Bt=class Bt{constructor({pageIndex:e}){S(this,Wi);S(this,$r,null);S(this,Un,new Map);S(this,xu,new Map);this.pageIndex=e}setParent(e){if(!a(this,$r)){g(this,$r,e);return}if(a(this,$r)!==e){if(a(this,Un).size>0)for(const t of a(this,Un).values())t.remove(),e.append(t);g(this,$r,e)}}static get _svgFactory(){return ye(this,"_svgFactory",new um)}draw(e,t=!1,s=!1){const r=bt(Bt,qg)._++,i=E(this,Wi,y1).call(this),o=Bt._svgFactory.createElement("defs");i.append(o);const l=Bt._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,xu).set(r,l);const u=s?E(this,Wi,eL).call(this,o,c):null,d=Bt._svgFactory.createElement("use");return i.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(i,e),a(this,Un).set(r,i),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const s=bt(Bt,qg)._++,r=E(this,Wi,y1).call(this),i=Bt._svgFactory.createElement("defs");r.append(i);const o=Bt._svgFactory.createElement("path");i.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=Bt._svgFactory.createElement("mask");i.append(h),c=`mask_p${this.pageIndex}_${s}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Bt._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Bt._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${l}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Bt._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),a(this,Un).set(s,r),s}finalizeDraw(e,t){a(this,xu).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:s,bbox:r,rootClass:i,path:o}=t,l=typeof e=="number"?a(this,Un).get(e):e;if(l){if(s&&E(this,Wi,v1).call(this,l,s),r&&E(c=Bt,ew,JM).call(c,l,r),i){const{classList:u}=l;for(const[d,h]of Object.entries(i))u.toggle(d,h)}if(o){const d=l.firstChild.firstChild;E(this,Wi,v1).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const s=a(this,Un).get(e);s&&(a(t,$r).append(s),a(this,Un).delete(e),a(t,Un).set(e,s))}remove(e){a(this,xu).delete(e),a(this,$r)!==null&&(a(this,Un).get(e).remove(),a(this,Un).delete(e))}destroy(){g(this,$r,null);for(const e of a(this,Un).values())e.remove();a(this,Un).clear(),a(this,xu).clear()}};$r=new WeakMap,Un=new WeakMap,xu=new WeakMap,qg=new WeakMap,ew=new WeakSet,JM=function(e,[t,s,r,i]){const{style:o}=e;o.top=`${100*s}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*i}%`},Wi=new WeakSet,y1=function(){const e=Bt._svgFactory.create(1,1,!0);return a(this,$r).append(e),e.setAttribute("aria-hidden",!0),e},eL=function(e,t){const s=Bt._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const i=Bt._svgFactory.createElement("use");return s.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},v1=function(e,t){for(const[s,r]of Object.entries(t))r===null?e.removeAttribute(s):e.setAttribute(s,r)},S(Bt,ew),S(Bt,qg,0);let I0=Bt;globalThis._pdfjsTestingUtils={HighlightOutliner:QS};globalThis.pdfjsLib={AbortException:Qo,AnnotationEditorLayer:D0,AnnotationEditorParamsType:_e,AnnotationEditorType:ce,AnnotationEditorUIManager:jl,AnnotationLayer:tE,AnnotationMode:Oi,AnnotationType:Tt,applyOpacity:ZN,build:tM,ColorPicker:cm,createValidAbsoluteUrl:$A,CSSConstants:QN,DOMSVGFactory:um,DrawLayer:I0,FeatureTest:sn,fetchData:Nf,findContrastColor:JN,getDocument:KA,getFilenameFromUrl:XN,getPdfFilenameFromUrl:YN,getRGB:Mf,getUuid:HA,getXfaPageViewport:KN,GlobalWorkerOptions:ur,ImageKind:Rp,InvalidPDFException:E0,isDataScheme:cy,isPdfFile:Nw,isValidExplicitDest:M2,MathClamp:Rn,noContextMenu:Ws,normalizeUnicode:GN,OPS:xf,OutputScale:Zr,PasswordResponses:VN,PDFDataRangeTransport:QA,PDFDateString:om,PDFWorker:Sf,PermissionFlag:HN,PixelsPerInch:Zo,RenderingCancelledException:Rw,renderRichText:GA,ResponseException:rm,setLayerDimensions:Fl,shadow:ye,SignatureExtractor:Fi,stopEvent:pt,SupportedImageMimeTypes:_0,TextLayer:lm,TouchManager:am,updateUrlHash:UA,Util:J,VerbosityLevel:oy,version:ZA,XfaLayer:WA};const P5=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Qo,AnnotationEditorLayer:D0,AnnotationEditorParamsType:_e,AnnotationEditorType:ce,AnnotationEditorUIManager:jl,AnnotationLayer:tE,AnnotationMode:Oi,AnnotationType:Tt,CSSConstants:QN,ColorPicker:cm,DOMSVGFactory:um,DrawLayer:I0,FeatureTest:sn,GlobalWorkerOptions:ur,ImageKind:Rp,InvalidPDFException:E0,MathClamp:Rn,OPS:xf,OutputScale:Zr,PDFDataRangeTransport:QA,PDFDateString:om,PDFWorker:Sf,PasswordResponses:VN,PermissionFlag:HN,PixelsPerInch:Zo,RenderingCancelledException:Rw,ResponseException:rm,SignatureExtractor:Fi,SupportedImageMimeTypes:_0,TextLayer:lm,TouchManager:am,Util:J,VerbosityLevel:oy,XfaLayer:WA,applyOpacity:ZN,build:tM,createValidAbsoluteUrl:$A,fetchData:Nf,findContrastColor:JN,getDocument:KA,getFilenameFromUrl:XN,getPdfFilenameFromUrl:YN,getRGB:Mf,getUuid:HA,getXfaPageViewport:KN,isDataScheme:cy,isPdfFile:Nw,isValidExplicitDest:M2,noContextMenu:Ws,normalizeUnicode:GN,renderRichText:GA,setLayerDimensions:Fl,shadow:ye,stopEvent:pt,updateUrlHash:UA,version:ZA},Symbol.toStringTag,{value:"Module"}));var tk=Object.prototype.hasOwnProperty;function nk(n,e,t){for(t of n.keys())if(Ed(t,e))return t}function Ed(n,e){var t,s,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&Ed(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(r=s,r&&typeof r=="object"&&(r=nk(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(r=s[0],r&&typeof r=="object"&&(r=nk(e,r),!r)||!Ed(s[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(tk.call(n,t)&&++s&&!tk.call(e,t)||!(t in e)||!Ed(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}function fy(n){let e=!1;return{promise:new Promise((s,r)=>{n.then(i=>!e&&s(i)).catch(i=>!e&&r(i))}),cancel(){e=!0}}}const R5=["onCopy","onCut","onPaste"],N5=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],M5=["onFocus","onBlur"],L5=["onInput","onInvalid","onReset","onSubmit"],D5=["onLoad","onError"],I5=["onKeyDown","onKeyPress","onKeyUp"],O5=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],F5=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],j5=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],B5=["onSelect"],z5=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$5=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],U5=["onScroll"],H5=["onWheel"],V5=["onAnimationStart","onAnimationEnd","onAnimationIteration"],W5=["onTransitionEnd"],G5=["onToggle"],q5=["onChange"],X5=[...R5,...N5,...M5,...L5,...D5,...I5,...O5,...F5,...j5,...B5,...z5,...$5,...U5,...H5,...V5,...W5,...q5,...G5];function tL(n,e){const t={};for(const s of X5){const r=n[s];r&&(e?t[s]=i=>r(i,e(s)):t[s]=r)}return t}var Y5="Invariant failed";function Xe(n,e){if(!n)throw new Error(Y5)}var K5=function(){},Q5=K5;const Mn=S1(Q5),nL=k.createContext(null),Z5="noopener noreferrer nofollow";class J5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Xe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Xe(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||Z5,e.target=s?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Xe(this.pdfDocument),Xe(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Xe(Array.isArray(t));const s=t[0];new Promise(r=>{Xe(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(i=>{r(i)}).catch(()=>{Xe(!1)}):typeof s=="number"?r(s):Xe(!1)}).then(r=>{const i=r+1;Xe(this.pdfViewer),Xe(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:i})})})}goToPage(e){const t=e-1;Xe(this.pdfViewer),Xe(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function _d({children:n,type:e}){return A.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const sk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function eU(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Af(){return k.useReducer(eU,{value:void 0,error:void 0})}const Dw=typeof window<"u",sL=Dw&&window.location.protocol==="file:";function tU(n){return typeof n<"u"}function Gl(n){return tU(n)&&n!==null}function nU(n){return typeof n=="string"}function sU(n){return n instanceof ArrayBuffer}function rU(n){return Xe(Dw),n instanceof Blob}function w1(n){return nU(n)&&/^data:/.test(n)}function rk(n){Xe(w1(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function iU(){return Dw&&window.devicePixelRatio||1}const rL="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ik(){Mn(!sL,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${rL}`)}function oU(){Mn(!sL,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${rL}`)}function Mu(n){n!=null&&n.cancel&&n.cancel()}function b1(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function aU(n){return n.name==="RenderingCancelledException"}function lU(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:i}=r.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:cU}=P5,uU=(n,e)=>{switch(e){case sk.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case sk.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function ok(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const dU=k.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:i,file:o,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:v,onPassword:m=uU,onSourceError:b,onSourceSuccess:y,options:w,renderMode:x,rotate:_,scale:C,...T},P){const[R,M]=Af(),{value:N,error:D}=R,[F,$]=Af(),{value:I,error:G}=F,j=k.useRef(new J5),B=k.useRef([]),L=k.useRef(void 0),O=k.useRef(void 0);o&&o!==L.current&&ok(o)&&(Mn(!Ed(o,L.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),L.current=o),w&&w!==O.current&&(Mn(!Ed(w,O.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),O.current=w);const V=k.useRef({scrollPageIntoView:be=>{const{dest:Oe,pageNumber:ct,pageIndex:ut=ct-1}=be;if(h){h({dest:Oe,pageIndex:ut,pageNumber:ct});return}const ei=B.current[ut];if(ei){ei.scrollIntoView();return}Mn(!1,`An internal link leading to page ${ct} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});k.useImperativeHandle(P,()=>({linkService:j,pages:B,viewer:V}),[]);function oe(){y&&y()}function W(){D&&(Mn(!1,D.toString()),b&&b(D))}function Y(){M({type:"RESET"})}k.useEffect(Y,[o,M]);const ae=k.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return w1(o)?{data:rk(o)}:(ik(),{url:o});if(o instanceof cU)return{range:o};if(sU(o))return{data:o};if(Dw&&rU(o))return{data:await lU(o)};if(Xe(typeof o=="object"),Xe(ok(o)),"url"in o&&typeof o.url=="string"){if(w1(o.url)){const{url:be,...Oe}=o;return{data:rk(be),...Oe}}ik()}return o},[o]);k.useEffect(()=>{const be=fy(ae());return be.promise.then(Oe=>{M({type:"RESOLVE",value:Oe})}).catch(Oe=>{M({type:"REJECT",error:Oe})}),()=>{Mu(be)}},[ae,M]),k.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){W();return}oe()}},[N]);function xe(){I&&(v&&v(I),B.current=new Array(I.numPages),j.current.setDocument(I))}function Te(){G&&(Mn(!1,G.toString()),f&&f(G))}k.useEffect(function(){$({type:"RESET"})},[$,N]),k.useEffect(function(){if(!N)return;const Oe=w?{...N,...w}:N,ct=KA(Oe);p&&(ct.onProgress=p),m&&(ct.onPassword=m);const ut=ct,ei=ut.promise.then(vr=>{$({type:"RESOLVE",value:vr})}).catch(vr=>{ut.destroyed||$({type:"REJECT",error:vr})});return()=>{ei.finally(()=>ut.destroy())}},[w,$,N]),k.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){Te();return}xe()}},[I]),k.useEffect(function(){j.current.setViewer(V.current),j.current.setExternalLinkRel(r),j.current.setExternalLinkTarget(i)},[r,i]);const ie=k.useCallback((be,Oe)=>{B.current[be]=Oe},[]),In=k.useCallback(be=>{delete B.current[be]},[]),vt=k.useMemo(()=>({imageResourcesPath:c,linkService:j.current,onItemClick:h,pdf:I,registerPage:ie,renderMode:x,rotate:_,scale:C,unregisterPage:In}),[c,h,I,ie,x,_,C,In]),Ce=k.useMemo(()=>tL(T,()=>I),[T,I]);function wt(){function be(ct){return!!(ct!=null&&ct.pdf)}if(!be(vt))throw new Error("pdf is undefined");const Oe=typeof e=="function"?e(vt):e;return A.jsx(nL.Provider,{value:vt,children:Oe})}function bn(){return o?I==null?A.jsx(_d,{type:"loading",children:typeof u=="function"?u():u}):I===!1?A.jsx(_d,{type:"error",children:typeof s=="function"?s():s}):wt():A.jsx(_d,{type:"no-data",children:typeof d=="function"?d():d})}return A.jsx("div",{className:kf("react-pdf__Document",t),ref:l,...Ce,children:bn()})});function iL(){return k.useContext(nL)}function oL(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(i){for(var o=0,l=t;o<l.length;o++){var c=l[o];typeof c=="function"?c(i):c&&(c.current=i)}}}const aL=k.createContext(null);function Iw(){return k.useContext(aL)}function hU(){const n=iL(),e=Iw();Xe(e);const t={...n,...e},{imageResourcesPath:s,linkService:r,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Xe(d),Xe(u),Xe(r);const[v,m]=Af(),{value:b,error:y}=v,w=k.useRef(null);Mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){b&&o&&o(b)}function _(){y&&(Mn(!1,y.toString()),i&&i(y))}k.useEffect(function(){m({type:"RESET"})},[m,u]),k.useEffect(function(){if(!u)return;const M=fy(u.getAnnotations()),N=M;return M.promise.then(D=>{m({type:"RESOLVE",value:D})}).catch(D=>{m({type:"REJECT",error:D})}),()=>{Mu(N)}},[m,u]),k.useEffect(()=>{if(b!==void 0){if(b===!1){_();return}x()}},[b]);function C(){c&&c()}function T(R){Mn(!1,`${R}`),l&&l(R)}const P=k.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return k.useEffect(function(){if(!d||!u||!r||!b)return;const{current:M}=w;if(!M)return;const N=P.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:M,l10n:null,linkService:r,page:u,structTreeLayer:null,viewport:N},F={annotations:b,annotationStorage:d.annotationStorage,div:M,imageResourcesPath:s,linkService:r,page:u,renderForms:h,viewport:N};M.innerHTML="";try{new tE(D).render(F),C()}catch($){T($)}return()=>{}},[b,s,r,u,d,h,P]),A.jsx("div",{className:kf("react-pdf__Page__annotations","annotationLayer"),ref:w})}const lL={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},fU=/^H(\d+)$/;function pU(n){return n in lL}function Ow(n){return"children"in n}function cL(n){return Ow(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function mU(n){const e={};if(Ow(n)){const{role:t}=n,s=t.match(fU);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(pU(t)){const r=lL[t];r&&(e.role=r)}}return e}function uL(n){const e={};if(Ow(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),cL(n)){const[t]=n.children;if(t){const s=uL(t);return{...e,...s}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function gU(n){return n?{...mU(n),...uL(n)}:null}function dL({className:n,node:e}){const t=k.useMemo(()=>gU(e),[e]),s=k.useMemo(()=>!Ow(e)||cL(e)?null:e.children.map((r,i)=>A.jsx(dL,{node:r},i)),[e]);return A.jsx("span",{className:n,...t,children:s})}function yU(){const n=Iw();Xe(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,r]=Af(),{value:i,error:o}=s,{customTextRenderer:l,page:c}=n;function u(){i&&t&&t(i)}function d(){o&&(Mn(!1,o.toString()),e&&e(o))}return k.useEffect(function(){r({type:"RESET"})},[r,c]),k.useEffect(function(){if(l||!c)return;const f=fy(c.getStructTree()),p=f;return f.promise.then(v=>{r({type:"RESOLVE",value:v})}).catch(v=>{r({type:"REJECT",error:v})}),()=>Mu(p)},[l,c,r]),k.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?A.jsx(dL,{className:"react-pdf__Page__structTree structTree",node:i}):null}const ak=Oi;function vU(n){const e=Iw();Xe(e);const t={...e,...n},{_className:s,canvasBackground:r,devicePixelRatio:i=iU(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Xe(c);const v=k.useRef(null);function m(){c&&l&&l(b1(c,f))}function b(_){aU(_)||(Mn(!1,_.toString()),o&&o(_))}const y=k.useMemo(()=>c.getViewport({scale:f*i,rotation:h}),[i,c,h,f]),w=k.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);k.useEffect(function(){if(!c)return;c.cleanup();const{current:C}=v;if(!C)return;C.width=y.width,C.height=y.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const T={annotationMode:u?ak.ENABLE_FORMS:ak.ENABLE,canvas:C,canvasContext:C.getContext("2d",{alpha:!1}),viewport:y};r&&(T.background=r);const P=c.render(T),R=P;return P.promise.then(()=>{C.style.visibility="",m()}).catch(b),()=>Mu(R)},[r,c,u,y,w]);const x=k.useCallback(()=>{const{current:_}=v;_&&(_.width=0,_.height=0)},[]);return k.useEffect(()=>x,[x]),A.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:oL(p,v),style:{display:"block",userSelect:"none"},children:d?A.jsx(yU,{}):null})}function wU(n){return"str"in n}function bU(){const n=Iw();Xe(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:i,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=n;Xe(o);const[h,f]=Af(),{value:p,error:v}=h,m=k.useRef(null);Mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){p&&s&&s(p)}function y(){v&&(Mn(!1,v.toString()),t&&t(v))}k.useEffect(function(){f({type:"RESET"})},[o,f]),k.useEffect(function(){if(!o)return;const R=fy(o.getTextContent()),M=R;return R.promise.then(N=>{f({type:"RESOLVE",value:N})}).catch(N=>{f({type:"REJECT",error:N})}),()=>Mu(M)},[o,f]),k.useEffect(()=>{if(p!==void 0){if(p===!1){y();return}b()}},[p]);const w=k.useCallback(()=>{i&&i()},[i]),x=k.useCallback(P=>{Mn(!1,P.toString()),r&&r(P)},[r]);function _(){const P=m.current;P&&P.classList.add("selecting")}function C(){const P=m.current;P&&P.classList.remove("selecting")}const T=k.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return k.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=m;if(!R)return;R.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),N={container:R,textContentSource:M,viewport:T},D=new lm(N),F=D;return D.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",R.append($);const I=R.querySelectorAll('[role="presentation"]');if(e){let G=0;p.items.forEach((j,B)=>{if(!wU(j))return;const L=I[G];if(!L)return;const O=e({pageIndex:l,pageNumber:c,itemIndex:B,...j});L.innerHTML=O,G+=j.str&&j.hasEOL?2:1})}w()}).catch(x),()=>Mu(F)},[e,x,w,o,l,c,p,T]),A.jsx("div",{className:kf("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:_,ref:m})}const lk=1;function xU(n){const t={...iL(),...n},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:i,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:v,loading:m="Loading page",noData:b="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:T,onLoadError:P,onLoadSuccess:R,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:N,onRenderError:D,onRenderSuccess:F,onRenderTextLayerError:$,onRenderTextLayerSuccess:I,pageIndex:G,pageNumber:j,pdf:B,registerPage:L,renderAnnotationLayer:O=!0,renderForms:V=!1,renderMode:oe="canvas",renderTextLayer:W=!0,rotate:Y,scale:ae=lk,unregisterPage:xe,width:Te,...ie}=t,[In,vt]=Af(),{value:Ce,error:wt}=In,bn=k.useRef(null);Xe(B);const be=Gl(j)?j-1:G??null,Oe=j??(Gl(G)?G+1:null),ct=Y??(Ce?Ce.rotate:null),ut=k.useMemo(()=>{if(!Ce)return null;let On=1;const na=ae??lk;if(Te||p){const si=Ce.getViewport({scale:1,rotation:ct});Te?On=Te/si.width:p&&(On=p/si.height)}return na*On},[p,Ce,ct,ae,Te]);k.useEffect(function(){return()=>{Gl(be)&&r&&xe&&xe(be)}},[r,B,be,xe]);function ei(){if(R){if(!Ce||!ut)return;R(b1(Ce,ut))}if(r&&L){if(!Gl(be)||!bn.current)return;L(be,bn.current)}}function vr(){wt&&(Mn(!1,wt.toString()),P&&P(wt))}k.useEffect(function(){vt({type:"RESET"})},[vt,B,be]),k.useEffect(function(){if(!B||!Oe)return;const na=fy(B.getPage(Oe)),si=na;return na.promise.then(sa=>{vt({type:"RESOLVE",value:sa})}).catch(sa=>{vt({type:"REJECT",error:sa})}),()=>Mu(si)},[vt,B,Oe]),k.useEffect(()=>{if(Ce!==void 0){if(Ce===!1){vr();return}ei()}},[Ce,ut]);const ti=k.useMemo(()=>Gl(be)&&Oe&&Gl(ct)&&Gl(ut)?{_className:s,canvasBackground:i,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:y,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:T,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:N,onRenderError:D,onRenderSuccess:F,onRenderTextLayerError:$,onRenderTextLayerSuccess:I,page:Ce,pageIndex:be,pageNumber:Oe,renderForms:V,renderTextLayer:W,rotate:ct,scale:ut}:null,[s,i,d,h,y,w,x,_,C,T,M,N,D,F,$,I,Ce,be,Oe,V,W,ct,ut]),py=k.useMemo(()=>tL(ie,()=>Ce&&(ut?b1(Ce,ut):void 0)),[ie,Ce,ut]),ni=`${be}@${ut}/${ct}`;function my(){switch(oe){case"custom":return Xe(u),A.jsx(u,{},`${ni}_custom`);case"none":return null;case"canvas":default:return A.jsx(vU,{canvasRef:o},`${ni}_canvas`)}}function qi(){return W?A.jsx(bU,{},`${ni}_text`):null}function Fw(){return O?A.jsx(hU,{},`${ni}_annotations`):null}function jw(){function On(si){return!!(si!=null&&si.page)}if(!On(ti))throw new Error("page is undefined");const na=typeof l=="function"?l(ti):l;return A.jsxs(aL.Provider,{value:ti,children:[my(),qi(),Fw(),na]})}function Zn(){return Oe?B===null||Ce===void 0||Ce===null?A.jsx(_d,{type:"loading",children:typeof m=="function"?m():m}):B===!1||Ce===!1?A.jsx(_d,{type:"error",children:typeof f=="function"?f():f}):jw():A.jsx(_d,{type:"no-data",children:typeof b=="function"?b():b})}return A.jsx("div",{className:kf(s,c),"data-page-number":Oe,ref:oL(v,bn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ut}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...py,children:Zn()})}oU();ur.workerSrc="pdf.worker.mjs";ur.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${ZA}/pdf.worker.js`;const SU=()=>{const n=FA(),[e,t]=k.useState(null),s=({numPages:r})=>{t(r)};return A.jsxs("div",{className:"min-h-screen bg-background",children:[A.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-b border-border",children:A.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[A.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Resume"}),A.jsxs(Wn,{variant:"outline",onClick:()=>n("/"),className:"gap-2",children:[A.jsx(Px,{className:"w-4 h-4"}),"Back to Portfolio"]})]})}),A.jsxs("div",{className:"pt-24 pb-12 px-6",children:[A.jsx("div",{className:"container mx-auto max-w-5xl bg-card rounded-lg border border-border shadow-lg p-4 flex justify-center",children:A.jsx(dU,{file:"/ayushmansingh-portfolio/Ayushman_Singh_Resume.pdf",onLoadSuccess:s,onLoadError:r=>console.error("PDF Load Error:",r),children:Array.from(new Array(e),(r,i)=>A.jsx(xU,{pageNumber:i+1,width:Math.min(window.innerWidth*.9,800)},`page_${i+1}`))})}),A.jsx("div",{className:"text-center mt-6 text-sm text-muted-foreground",children:A.jsx("p",{children:"Viewing resume in read-only mode"})})]})]})},AU=()=>{const n=ry();return k.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),A.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),A.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),A.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},EU=new k3,_U=()=>A.jsx(P3,{client:EU,children:A.jsxs(e3,{children:[A.jsx(FF,{}),A.jsx(mj,{}),A.jsxs(T4,{children:[" ",A.jsxs(x4,{children:[A.jsx(Qf,{path:"/",element:A.jsx($z,{})}),A.jsx(Qf,{path:"/project/:projectId",element:A.jsx(Hz,{})}),A.jsx(Qf,{path:"/resume",element:A.jsx(SU,{})}),A.jsx(Qf,{path:"*",element:A.jsx(AU,{})})]})]})]})});DP(document.getElementById("root")).render(A.jsx(_U,{}));
